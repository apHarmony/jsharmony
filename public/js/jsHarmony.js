(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){},{}],2:[function(require,module,exports){(function(process){function normalizeArray(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up--;up){parts.unshift("..")}}return parts}exports.resolve=function(){var resolvedPath="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if(typeof path!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){continue}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=path.charAt(0)==="/"}resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."};exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash=substr(path,-1)==="/";path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path};exports.isAbsolute=function(path){return path.charAt(0)==="/"};exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){if(typeof p!=="string"){throw new TypeError("Arguments to path.join must be strings")}return p}).join("/"))};exports.relative=function(from,to){from=exports.resolve(from).substr(1);to=exports.resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=="")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=="")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")};exports.sep="/";exports.delimiter=":";exports.dirname=function(path){if(typeof path!=="string")path=path+"";if(path.length===0)return".";var code=path.charCodeAt(0);var hasRoot=code===47;var end=-1;var matchedSlash=true;for(var i=path.length-1;i>=1;--i){code=path.charCodeAt(i);if(code===47){if(!matchedSlash){end=i;break}}else{matchedSlash=false}}if(end===-1)return hasRoot?"/":".";if(hasRoot&&end===1){return"/"}return path.slice(0,end)};function basename(path){if(typeof path!=="string")path=path+"";var start=0;var end=-1;var matchedSlash=true;var i;for(i=path.length-1;i>=0;--i){if(path.charCodeAt(i)===47){if(!matchedSlash){start=i+1;break}}else if(end===-1){matchedSlash=false;end=i+1}}if(end===-1)return"";return path.slice(start,end)}exports.basename=function(path,ext){var f=basename(path);if(ext&&f.substr(-1*ext.length)===ext){f=f.substr(0,f.length-ext.length)}return f};exports.extname=function(path){if(typeof path!=="string")path=path+"";var startDot=-1;var startPart=0;var end=-1;var matchedSlash=true;var preDotState=0;for(var i=path.length-1;i>=0;--i){var code=path.charCodeAt(i);if(code===47){if(!matchedSlash){startPart=i+1;break}continue}if(end===-1){matchedSlash=false;end=i+1}if(code===46){if(startDot===-1)startDot=i;else if(preDotState!==1)preDotState=1}else if(startDot!==-1){preDotState=-1}}if(startDot===-1||end===-1||preDotState===0||preDotState===1&&startDot===end-1&&startDot===startPart+1){return""}return path.slice(startDot,end)};function filter(xs,f){if(xs.filter)return xs.filter(f);var res=[];for(var i=0;i<xs.length;i++){if(f(xs[i],i,xs))res.push(xs[i])}return res}var substr="ab".substr(-1)==="b"?function(str,start,len){return str.substr(start,len)}:function(str,start,len){if(start<0)start=str.length+start;return str.substr(start,len)}}).call(this,require("_process"))},{_process:3}],3:[function(require,module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[]};process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],4:[function(require,module,exports){(function(setImmediate,clearImmediate){var nextTick=require("process/browser.js").nextTick;var apply=Function.prototype.apply;var slice=Array.prototype.slice;var immediateIds={};var nextImmediateId=0;exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)};exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)};exports.clearTimeout=exports.clearInterval=function(timeout){timeout.close()};function Timeout(id,clearFn){this._id=id;this._clearFn=clearFn}Timeout.prototype.unref=Timeout.prototype.ref=function(){};Timeout.prototype.close=function(){this._clearFn.call(window,this._id)};exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId);item._idleTimeout=msecs};exports.unenroll=function(item){clearTimeout(item._idleTimeoutId);item._idleTimeout=-1};exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;if(msecs>=0){item._idleTimeoutId=setTimeout(function onTimeout(){if(item._onTimeout)item._onTimeout()},msecs)}};exports.setImmediate=typeof setImmediate==="function"?setImmediate:function(fn){var id=nextImmediateId++;var args=arguments.length<2?false:slice.call(arguments,1);immediateIds[id]=true;nextTick(function onNextTick(){if(immediateIds[id]){if(args){fn.apply(null,args)}else{fn.call(null)}exports.clearImmediate(id)}});return id};exports.clearImmediate=typeof clearImmediate==="function"?clearImmediate:function(id){delete immediateIds[id]}}).call(this,require("timers").setImmediate,require("timers").clearImmediate)},{"process/browser.js":3,timers:4}],5:[function(require,module,exports){module.exports=require("./jsharmony-validate.js")},{"./jsharmony-validate.js":6}],6:[function(require,module,exports){var moment=require("moment");exports=module.exports={};function XValidate(jsh){this.Validators=new Array;this.Errors=new Array;this.FocusOnError=true;this.ErrorClass="xinputerror";this.jsh=jsh||XValidate.jsh}function $find(obj,sel){return obj.find(sel)}XValidate.jsh=undefined;XValidate.prototype.AddValidator=function(_field,_caption,_actions,_funcs,_roles){this.Validators.push(new XValidator(_field,_caption,_actions,_funcs,undefined,_roles))};XValidate.prototype.AddControlValidator=function(_selector,_field,_caption,_actions,_funcs){this.Validators.push(new XValidator(_field,_caption,_actions,_funcs,_selector))};XValidate.prototype.ResetValidation=function(field,parentobj){if(!parentobj)parentobj=this.jsh.root;this.Errors.length=0;field=field||"";for(var i=0;i<this.Validators.length;i++){var v=this.Validators[i];if(field&&field!=v.Field)continue;if(this.ErrorClass!=""&&v.Selector!=""){$find(parentobj,v.Selector).removeClass(this.ErrorClass)}}};XValidate.prototype.ValidateControls=function(perms,_obj,field,parentobj){var _this=this;field=field||"";var firstErrorControl="";if(!parentobj)parentobj=_this.jsh.root;this.ResetValidation(field,parentobj);var verrors=this.Validate(perms,_obj,field);if(verrors){var errstr="The following errors have occurred:\n\n";for(var ctrl in verrors){errstr+=verrors[ctrl].join("\n")+"\n";if(ctrl!=""){if(this.FocusOnError&&firstErrorControl==""){firstErrorControl=ctrl}if(this.ErrorClass!=""){$find(parentobj,ctrl).addClass(this.ErrorClass)}}}errstr=errstr.substr(0,errstr.length-1);_this.jsh.XExt.Alert(errstr,function(){if(firstErrorControl!=""){_this.jsh.ignorefocusHandler=true;window.setTimeout(function(){_this.jsh.$(document.activeElement).blur();var newobj=$find(parentobj,firstErrorControl);if($find(newobj,".xform_ctrl_subfocus").length)newobj=$find(newobj,".xform_ctrl_subfocus").first();newobj.focus();newobj.select();window.setTimeout(function(){_this.jsh.ignorefocusHandler=false},1)},1)}});return false}return true};XValidate.prototype.Validate=function(perms,_obj,field,ignore,roles,options){if(!options)options={ignoreUndefined:false};field=field||"";if(typeof ignore=="undefined")ignore=[];var rslt={};for(var i=0;i<this.Validators.length;i++){var v=this.Validators[i];if(field&&field!=v.Field)continue;var ignorefield=false;for(var j=0;j<ignore.length;j++){if(ignore[j]==v.Field){ignorefield=true;break}}if(ignorefield)continue;if(!HasAccess(v.Actions,perms))continue;var val=null;eval("val = "+v.Field);if(options.ignoreUndefined&&typeof val==="undefined")continue;if(typeof val==="undefined"&&v.Roles&&roles&&!("SYSADMIN"in roles)&&!("DEV"in roles)&&HasAccess("BIUD",perms)){var has_role_access=false;for(var role in v.Roles){if(role in roles){var rAccess=v.Roles[role];if(rAccess=="*"||HasAccess(rAccess,perms))has_role_access=true}}if(!has_role_access){continue}}for(var k=0;k<v.Funcs.length;k++){var vrslt=v.Funcs[k](v.Caption||v.Field,val,_obj);if(vrslt){this.Errors.push(vrslt);if(!(v.Selector in rslt))rslt[v.Selector]=[];rslt[v.Selector].push(vrslt)}}}if(isEmpty(rslt))return null;else return rslt};function HasAccess(access,perm){if(access===undefined)return false;if(perm=="*")return true;for(var i=0;i<perm.length;i++){if(access.indexOf(perm[i])>-1)return true}return false}function isEmpty(val){if(!val)return true;for(var key in val)return false;return true}function XValidator(_field,_caption,_actions,_funcs,_selector,_roles){this.Field=_field;this.Caption=_caption;this.Actions=_actions;this.Funcs=_funcs;this.Selector=_selector||"";this.Roles=_roles}XValidate.XValidator=XValidator;XValidate.Vex=function(validator,val){return validator()("",val)!=""};XValidate.isBlank=function(_val){return typeof _val=="undefined"||_val===""||_val===null||_val.toString()==""};XValidate.returnIfBlank=function(_var){return"if((typeof "+_var+' == "undefined")||('+_var+'==="")||('+_var+"===null)||("+_var+'.toString()=="")) return "";'};XValidate._v_MaxLength=function(_max){return new Function("_caption","_val","    if("+_max+' < 0) return "";    '+XValidate.returnIfBlank("_val")+"    if(_val.toString().length > "+_max+') return _caption+" is too long (limit '+_max+' characters).";    return "";')};XValidate._v_MinLength=function(_min){return new Function("_caption","_val","  "+XValidate.returnIfBlank("_val")+"    if(_val.toString().length < "+_min+') return _caption+" is too short (minimum '+_min+' characters).";    return "";')};XValidate._v_Required=function(_blank){if(_blank){return new Function("_caption","_val",'      if(typeof _val === "undefined") return _caption+" is required.";      if(_val === null) return _caption + " is required.";      return "";')}else{return new Function("_caption","_val",'      if((typeof _val == "undefined")||(_val==="")||(_val===null)||(_val.toString()=="")||(_val===false)) return _caption+" is required.";      return "";')}};XValidate._v_IsNumeric=function(_nonneg){if(typeof _nonneg==="undefined")_nonneg=false;return new Function("_caption","_val","  "+XValidate.returnIfBlank("_val")+'    if((typeof _val === "string") || (_val instanceof String)) _val = _val.replace(/^0*/, "");    if(!_val) return "";    if(String(parseInt(_val)) != _val) return _caption+" must be a whole number (with no letters or symbols).";    '+(_nonneg?'if(parseInt(_val) < 0) return _caption+" must be a positive number (with no letters or symbols).";':"")+'    return "";')};XValidate._v_IsDecimal=function(_maxplaces,_comma){if(typeof _maxplaces==="undefined")_maxplaces=-1;var places_qty="\\.?[0-9]"+(_maxplaces>0?"{1,"+_maxplaces+"}":"+");if(_maxplaces==0)places_qty="";return new Function("_caption","_val","  "+XValidate.returnIfBlank("_val")+"    "+(_comma?'_val = String(_val).replace(/,/g, "");':"")+"    var dec = String(_val).match(/^-?[0-9]*"+places_qty+"$/);    if(dec === null){       if("+_maxplaces+' <= 0) return _caption + " must be a valid decimal number (with no letters or symbols).";      else return _caption + " must be a valid number (with no letters or symbols) having max '+_maxplaces+' digits after the decimal point.";    }     return "";')};XValidate._v_IsDecimalComma=function(_maxplaces){return XValidate._v_IsDecimal(_maxplaces,true)};XValidate._v_IsFloat=function(){return new Function("_caption","_val","  "+XValidate.returnIfBlank("_val")+'    if(isNaN(parseFloat(_val))) return _caption + " must be a valid number (with no letters or symbols).";    return "";')};XValidate._v_IsBinary=function(_maxlength){if(typeof _maxlength==="undefined")_maxlength=-1;return new Function("_caption","_val","  "+XValidate.returnIfBlank("_val")+'    _val = _val.toString();    if(_val.substr(0,2).toLowerCase() == "0x"){       var hexstr = _val.substr(2);       if(!(/^[0-9A-Fa-f]*$/.test(hexstr))) return _caption + " must be a valid hex string.";       if(('+_maxlength+" >= 0) && (hexstr.length > "+_maxlength*2+')) return _caption+" is too long (limit '+_maxlength+' bytes).";      return "";    }     if(!(/^[\0-]*$/.test(_val))) return _caption + " must be an ASCII string, or hex string starting with 0x.";     if(('+_maxlength+" >= 0) && (_val.length > "+_maxlength+')) return _caption+" is too long (limit '+_maxlength+' bytes).";    return "";')};XValidate._v_MaxValue=function(_max){return new Function("_caption","_val","  "+XValidate.returnIfBlank("_val")+'    var fval = parseFloat(_val);    if(isNaN(fval)) return "";    if(fval > '+_max+') return _caption+" must be less than or equal to '+_max+'.";    return "";')};XValidate._v_MinValue=function(_min){return new Function("_caption","_val","  "+XValidate.returnIfBlank("_val")+'    var fval = parseFloat(_val);    if(isNaN(fval)) return "";    if(fval < '+_min+') return _caption+" must be greater than or equal to '+_min+'.";    return "";')};XValidate._v_RegEx=function(_re,_msg){return new Function("_caption","_val","  "+XValidate.returnIfBlank("_val")+"    var re = "+_re+';     if(!re.test(_val)) return _caption+" must '+_msg+'";     return "";')};XValidate._v_IsEmail=function(){return XValidate._v_RegEx('/^(([^<>()[\\]\\\\.,;:\\s@\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\"]+)*)|(\\".+\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/',"be an email address")};XValidate._v_IsSSN=function(){return new Function("_caption","_val","  "+XValidate.returnIfBlank("_val")+'    var rslt = String(_val).replace(/-/g,"");    if(!rslt.match(/^\\d{9}$/)) return _caption+" must be in the format 999-99-9999";    return "";')};XValidate._v_IsEIN=function(){return new Function("_caption","_val","    "+XValidate.returnIfBlank("_val")+'    var rslt = String(_val).replace(/-/g,"");    if(!rslt.match(/^\\d{9}$/)) return _caption+" must be in the format 99-9999999";    return "";')};XValidate._v_IsDate=function(_format,_strict){return function(_caption,_val){if(XValidate.isBlank(_val))return"";var rslt;if(!_strict){rslt=Date.parse(_val);if(!isNaN(rslt))return""}_val=_val.toString().trim();if(_format&&moment(_val,_format,true).isValid())return"";if(_format&&_strict)return _caption+" must be a valid date in format "+_format+".";_val=_val.replace(/,/g," ");_val=_val.replace(/ {2}/g," ");rslt=moment(_val,"YYYY-MM-DDTHH:mm:ss.SSS",true);if(!rslt.isValid())rslt=moment(_val,"YYYY-MM-DDTHH:mm:ss",true);if(!rslt.isValid())rslt=moment(_val,"YYYY-MM-DDTHH:mm",true);if(!rslt.isValid())rslt=moment(_val,"YYYY-MM-DDTHH",true);if(!rslt.isValid())rslt=moment(_val,"YYYY-MM-DDTHH:mm:ss.SSSZ",true);if(!rslt.isValid())rslt=moment(_val,"YYYY-MM-DDTHH:mm:ssZ",true);if(!rslt.isValid())rslt=moment(_val,"YYYY-MM-DDTHH:mmZ",true);if(!rslt.isValid())rslt=moment(_val,"YYYY-MM-DDTHHZ",true);if(!rslt.isValid())rslt=moment(_val,"YYYY-MM-DD",true);if(!rslt.isValid())rslt=moment(_val,"YY-MM-DD",true);if(!rslt.isValid())rslt=moment(_val,"MM/DD/YYYY",true);if(!rslt.isValid())rslt=moment(_val,"MM/DD/YY",true);if(!rslt.isValid())rslt=moment(_val,"M/D/YYYY",true);if(!rslt.isValid())rslt=moment(_val,"M/D/YY",true);if(!rslt.isValid())rslt=moment(_val,"MMM D YYYY",true);if(!rslt.isValid())rslt=moment(_val,"MMM DD YYYY",true);if(!rslt.isValid())rslt=moment(_val,"MMMM D YYYY",true);if(!rslt.isValid())rslt=moment(_val,"MMMM DD YYYY",true);if(rslt.isValid())return"";return _caption+" must be a valid date."}};XValidate._v_IsTime=function(_format){return function(_caption,_val){if(XValidate.isBlank(_val))return"";if(_val instanceof Date)return"";_val=_val.toString().trim();if(_format&&moment(_val,_format,true).isValid())return"";var d=moment(_val,"hh:mm a");if(!d.isValid())return _caption+" must be a valid time in format HH:MM.";return""}};XValidate._v_MaxAge=function(_maxage){return new Function("_caption","_val","    "+XValidate.returnIfBlank("_val")+'    var rslt = Date.parse(_val);    if(isNaN(rslt)) return "";    var curdt = new Date();    var maxday = new Date(curdt.getFullYear()-'+_maxage+',curdt.getMonth(),curdt.getDate());    if (rslt < maxday) return _caption+" cannot be more than '+_maxage+' years old.";    return "";')};XValidate._v_MinAge=function(_minage){return new Function("_caption","_val","    "+XValidate.returnIfBlank("_val")+'    var rslt = Date.parse(_val);    if(isNaN(rslt)) return "";    var curdt = new Date();    var minday = new Date(curdt.getFullYear()-'+_minage+',curdt.getMonth(),curdt.getDate());    if (rslt > minday) return _caption+" must be at least '+_minage+' years old.";    return "";')};XValidate._v_IsPhone=function(){return XValidate._v_RegEx("/^\\d{10,20}$/","be a valid phone number")};XValidate._v_Luhn=function(){return new Function("_caption","_val","    "+XValidate.returnIfBlank("_val")+'    var luhnChk = function (a) { return function (c) { for (var l = c.length, b = 1, s = 0, v; l;) v = parseInt(c.charAt(--l), 10), s += (b ^= 1)?a[v]:v; return s && 0 === s % 10 } }([0, 2, 4, 6, 8, 1, 3, 5, 7, 9]);     if(luhnChk(_val.toString())) return "";    return _caption+" must be a valid credit card number.";')};XValidate._v_InArray=function(_arr){if(typeof _arr==="undefined")_arr=[];return new Function("_caption","_val","    "+XValidate.returnIfBlank("_val")+"    var _arr = "+JSON.stringify(_arr)+';    for(var i=0;i<_arr.length;i++){ if(_arr[i]==_val) return ""; }    return _caption+" must be one of the following values: "+_arr.join(",");')};XValidate._v_Equals=function(_cmp_expr,_cmp_caption){if(!_cmp_caption)_cmp_caption="";if(XValidate.isBlank(_cmp_expr))_cmp_expr="''";return new Function("_caption","_val","_obj",'    var _cmp_expr = "'+_cmp_expr.toString().replace(/[\\'"]/g,"\\$&")+'";    eval("var _cmp_val = "+_cmp_expr);    if(_cmp_val==_val) return "";    return _caption+" must equal '+_cmp_caption.toString().replace(/[\\'"]/g,"\\$&")+'";')};XValidate._v_IsJSON=function(){return function(_caption,_val,_obj){if(XValidate.isBlank(_val))return"";try{JSON.parse(_val);return""}catch(err){return _caption+" is not valid JSON: "+err.message}}};XValidate.BaseValidators={};for(var key in XValidate)if(key.substr(0,3)=="_v_")XValidate.BaseValidators[key]=1;module.exports=XValidate},{moment:7}],7:[function(require,module,exports){(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?module.exports=factory():typeof define==="function"&&define.amd?define(factory):global.moment=factory()})(this,function(){"use strict";var hookCallback;function hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(callback){hookCallback=callback}function isArray(input){return input instanceof Array||Object.prototype.toString.call(input)==="[object Array]"}function isObject(input){return input!=null&&Object.prototype.toString.call(input)==="[object Object]"}function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function isObjectEmpty(obj){if(Object.getOwnPropertyNames){return Object.getOwnPropertyNames(obj).length===0}else{var k;for(k in obj){if(hasOwnProp(obj,k)){return false}}return true}}function isUndefined(input){return input===void 0}function isNumber(input){return typeof input==="number"||Object.prototype.toString.call(input)==="[object Number]"}function isDate(input){return input instanceof Date||Object.prototype.toString.call(input)==="[object Date]"}function map(arr,fn){var res=[],i,arrLen=arr.length;for(i=0;i<arrLen;++i){res.push(fn(arr[i],i))}return res}function extend(a,b){for(var i in b){if(hasOwnProp(b,i)){a[i]=b[i]}}if(hasOwnProp(b,"toString")){a.toString=b.toString}if(hasOwnProp(b,"valueOf")){a.valueOf=b.valueOf}return a}function createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,true).utc()}function defaultParsingFlags(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidEra:null,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false,parsedDateParts:[],era:null,meridiem:null,rfc2822:false,weekdayMismatch:false}}function getParsingFlags(m){if(m._pf==null){m._pf=defaultParsingFlags()}return m._pf}var some;if(Array.prototype.some){some=Array.prototype.some}else{some=function(fun){var t=Object(this),len=t.length>>>0,i;for(i=0;i<len;i++){if(i in t&&fun.call(this,t[i],i,t)){return true}}return false}}function isValid(m){if(m._isValid==null){var flags=getParsingFlags(m),parsedParts=some.call(flags.parsedDateParts,function(i){return i!=null}),isNowValid=!isNaN(m._d.getTime())&&flags.overflow<0&&!flags.empty&&!flags.invalidEra&&!flags.invalidMonth&&!flags.invalidWeekday&&!flags.weekdayMismatch&&!flags.nullInput&&!flags.invalidFormat&&!flags.userInvalidated&&(!flags.meridiem||flags.meridiem&&parsedParts);if(m._strict){isNowValid=isNowValid&&flags.charsLeftOver===0&&flags.unusedTokens.length===0&&flags.bigHour===undefined}if(Object.isFrozen==null||!Object.isFrozen(m)){m._isValid=isNowValid}else{return isNowValid}}return m._isValid}function createInvalid(flags){var m=createUTC(NaN);if(flags!=null){extend(getParsingFlags(m),flags)}else{getParsingFlags(m).userInvalidated=true}return m}var momentProperties=hooks.momentProperties=[],updateInProgress=false;function copyConfig(to,from){var i,prop,val,momentPropertiesLen=momentProperties.length;if(!isUndefined(from._isAMomentObject)){to._isAMomentObject=from._isAMomentObject}if(!isUndefined(from._i)){to._i=from._i}if(!isUndefined(from._f)){to._f=from._f}if(!isUndefined(from._l)){to._l=from._l}if(!isUndefined(from._strict)){to._strict=from._strict}if(!isUndefined(from._tzm)){to._tzm=from._tzm}if(!isUndefined(from._isUTC)){to._isUTC=from._isUTC}if(!isUndefined(from._offset)){to._offset=from._offset}if(!isUndefined(from._pf)){to._pf=getParsingFlags(from)}if(!isUndefined(from._locale)){to._locale=from._locale}if(momentPropertiesLen>0){for(i=0;i<momentPropertiesLen;i++){prop=momentProperties[i];val=from[prop];if(!isUndefined(val)){to[prop]=val}}}return to}function Moment(config){copyConfig(this,config);this._d=new Date(config._d!=null?config._d.getTime():NaN);if(!this.isValid()){this._d=new Date(NaN)}if(updateInProgress===false){updateInProgress=true;hooks.updateOffset(this);updateInProgress=false}}function isMoment(obj){return obj instanceof Moment||obj!=null&&obj._isAMomentObject!=null}function warn(msg){if(hooks.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+msg)}}function deprecate(msg,fn){var firstTime=true;return extend(function(){if(hooks.deprecationHandler!=null){hooks.deprecationHandler(null,msg)}if(firstTime){var args=[],arg,i,key,argLen=arguments.length;for(i=0;i<argLen;i++){arg="";if(typeof arguments[i]==="object"){arg+="\n["+i+"] ";for(key in arguments[0]){if(hasOwnProp(arguments[0],key)){arg+=key+": "+arguments[0][key]+", "}}arg=arg.slice(0,-2)}else{arg=arguments[i]}args.push(arg)}warn(msg+"\nArguments: "+Array.prototype.slice.call(args).join("")+"\n"+(new Error).stack);firstTime=false}return fn.apply(this,arguments)},fn)}var deprecations={};function deprecateSimple(name,msg){if(hooks.deprecationHandler!=null){hooks.deprecationHandler(name,msg)}if(!deprecations[name]){warn(msg);deprecations[name]=true}}hooks.suppressDeprecationWarnings=false;hooks.deprecationHandler=null;function isFunction(input){return typeof Function!=="undefined"&&input instanceof Function||Object.prototype.toString.call(input)==="[object Function]"}function set(config){var prop,i;for(i in config){if(hasOwnProp(config,i)){prop=config[i];if(isFunction(prop)){this[i]=prop}else{this["_"+i]=prop}}}this._config=config;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs(parentConfig,childConfig){var res=extend({},parentConfig),prop;for(prop in childConfig){if(hasOwnProp(childConfig,prop)){if(isObject(parentConfig[prop])&&isObject(childConfig[prop])){res[prop]={};extend(res[prop],parentConfig[prop]);extend(res[prop],childConfig[prop])}else if(childConfig[prop]!=null){res[prop]=childConfig[prop]}else{delete res[prop]}}}for(prop in parentConfig){if(hasOwnProp(parentConfig,prop)&&!hasOwnProp(childConfig,prop)&&isObject(parentConfig[prop])){res[prop]=extend({},res[prop])}}return res}function Locale(config){if(config!=null){this.set(config)}}var keys;if(Object.keys){keys=Object.keys}else{keys=function(obj){var i,res=[];for(i in obj){if(hasOwnProp(obj,i)){res.push(i)}}return res}}var defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function calendar(key,mom,now){var output=this._calendar[key]||this._calendar["sameElse"];return isFunction(output)?output.call(mom,now):output}function zeroFill(number,targetLength,forceSign){var absNumber=""+Math.abs(number),zerosToFill=targetLength-absNumber.length,sign=number>=0;return(sign?forceSign?"+":"":"-")+Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={};function addFormatToken(token,padded,ordinal,callback){var func=callback;if(typeof callback==="string"){func=function(){return this[callback]()}}if(token){formatTokenFunctions[token]=func}if(padded){formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])}}if(ordinal){formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token)}}}function removeFormattingTokens(input){if(input.match(/\[[\s\S]/)){return input.replace(/^\[|\]$/g,"")}return input.replace(/\\/g,"")}function makeFormatFunction(format){var array=format.match(formattingTokens),i,length;for(i=0,length=array.length;i<length;i++){if(formatTokenFunctions[array[i]]){array[i]=formatTokenFunctions[array[i]]}else{array[i]=removeFormattingTokens(array[i])}}return function(mom){var output="",i;for(i=0;i<length;i++){output+=isFunction(array[i])?array[i].call(mom,format):array[i]}return output}}function formatMoment(m,format){if(!m.isValid()){return m.localeData().invalidDate()}format=expandFormat(format,m.localeData());formatFunctions[format]=formatFunctions[format]||makeFormatFunction(format);return formatFunctions[format](m)}function expandFormat(format,locale){var i=5;function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}localFormattingTokens.lastIndex=0;while(i>=0&&localFormattingTokens.test(format)){format=format.replace(localFormattingTokens,replaceLongDateFormatTokens);localFormattingTokens.lastIndex=0;i-=1}return format}var defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function longDateFormat(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];if(format||!formatUpper){return format}this._longDateFormat[key]=formatUpper.match(formattingTokens).map(function(tok){if(tok==="MMMM"||tok==="MM"||tok==="DD"||tok==="dddd"){return tok.slice(1)}return tok}).join("");return this._longDateFormat[key]}var defaultInvalidDate="Invalid date";function invalidDate(){return this._invalidDate}var defaultOrdinal="%d",defaultDayOfMonthOrdinalParse=/\d{1,2}/;function ordinal(number){return this._ordinal.replace("%d",number)}var defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function relativeTime(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return isFunction(output)?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)}function pastFuture(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return isFunction(format)?format(output):format.replace(/%s/i,output)}var aliases={};function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+"s"]=aliases[shorthand]=unit}function normalizeUnits(units){return typeof units==="string"?aliases[units]||aliases[units.toLowerCase()]:undefined}function normalizeObjectUnits(inputObject){var normalizedInput={},normalizedProp,prop;for(prop in inputObject){if(hasOwnProp(inputObject,prop)){normalizedProp=normalizeUnits(prop);if(normalizedProp){normalizedInput[normalizedProp]=inputObject[prop]}}}return normalizedInput}var priorities={};function addUnitPriority(unit,priority){priorities[unit]=priority}function getPrioritizedUnits(unitsObj){var units=[],u;for(u in unitsObj){if(hasOwnProp(unitsObj,u)){units.push({unit:u,priority:priorities[u]})}}units.sort(function(a,b){return a.priority-b.priority});return units}function isLeapYear(year){return year%4===0&&year%100!==0||year%400===0}function absFloor(number){if(number<0){return Math.ceil(number)||0}else{return Math.floor(number)}}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;if(coercedNumber!==0&&isFinite(coercedNumber)){value=absFloor(coercedNumber)}return value}function makeGetSet(unit,keepTime){return function(value){if(value!=null){set$1(this,unit,value);hooks.updateOffset(this,keepTime);return this}else{return get(this,unit)}}}function get(mom,unit){return mom.isValid()?mom._d["get"+(mom._isUTC?"UTC":"")+unit]():NaN}function set$1(mom,unit,value){if(mom.isValid()&&!isNaN(value)){if(unit==="FullYear"&&isLeapYear(mom.year())&&mom.month()===1&&mom.date()===29){value=toInt(value);mom._d["set"+(mom._isUTC?"UTC":"")+unit](value,mom.month(),daysInMonth(value,mom.month()))}else{mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}}}function stringGet(units){units=normalizeUnits(units);if(isFunction(this[units])){return this[units]()}return this}function stringSet(units,value){if(typeof units==="object"){units=normalizeObjectUnits(units);var prioritized=getPrioritizedUnits(units),i,prioritizedLen=prioritized.length;for(i=0;i<prioritizedLen;i++){this[prioritized[i].unit](units[prioritized[i].unit])}}else{units=normalizeUnits(units);if(isFunction(this[units])){return this[units](value)}}return this}var match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,regexes;regexes={};function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict,localeData){return isStrict&&strictRegex?strictRegex:regex}}function getParseRegexForToken(token,config){if(!hasOwnProp(regexes,token)){return new RegExp(unescapeFormat(token))}return regexes[token](config._strict,config._locale)}function unescapeFormat(s){return regexEscape(s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4}))}function regexEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var tokens={};function addParseToken(token,callback){var i,func=callback,tokenLen;if(typeof token==="string"){token=[token]}if(isNumber(callback)){func=function(input,array){array[callback]=toInt(input)}}tokenLen=token.length;for(i=0;i<tokenLen;i++){tokens[token[i]]=func}}function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{};callback(input,config._w,config,token)})}function addTimeToArrayFromToken(token,input,config){if(input!=null&&hasOwnProp(tokens,token)){tokens[token](input,config._a,config,token)}}var YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;function mod(n,x){return(n%x+x)%x}var indexOf;if(Array.prototype.indexOf){indexOf=Array.prototype.indexOf}else{indexOf=function(o){var i;for(i=0;i<this.length;++i){if(this[i]===o){return i}}return-1}}function daysInMonth(year,month){if(isNaN(year)||isNaN(month)){return NaN}var modMonth=mod(month,12);year+=(month-modMonth)/12;return modMonth===1?isLeapYear(year)?29:28:31-modMonth%7%2}addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1});addFormatToken("MMM",0,0,function(format){return this.localeData().monthsShort(this,format)});addFormatToken("MMMM",0,0,function(format){return this.localeData().months(this,format)});addUnitAlias("month","M");addUnitPriority("month",8);addRegexToken("M",match1to2);addRegexToken("MM",match1to2,match2);addRegexToken("MMM",function(isStrict,locale){return locale.monthsShortRegex(isStrict)});addRegexToken("MMMM",function(isStrict,locale){return locale.monthsRegex(isStrict)});addParseToken(["M","MM"],function(input,array){array[MONTH]=toInt(input)-1});addParseToken(["MMM","MMMM"],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);if(month!=null){array[MONTH]=month}else{getParsingFlags(config).invalidMonth=input}});var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultMonthsShortRegex=matchWord,defaultMonthsRegex=matchWord;function localeMonths(m,format){if(!m){return isArray(this._months)?this._months:this._months["standalone"]}return isArray(this._months)?this._months[m.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(format)?"format":"standalone"][m.month()]}function localeMonthsShort(m,format){if(!m){return isArray(this._monthsShort)?this._monthsShort:this._monthsShort["standalone"]}return isArray(this._monthsShort)?this._monthsShort[m.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(format)?"format":"standalone"][m.month()]}function handleStrictParse(monthName,format,strict){var i,ii,mom,llc=monthName.toLocaleLowerCase();if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];for(i=0;i<12;++i){mom=createUTC([2e3,i]);this._shortMonthsParse[i]=this.monthsShort(mom,"").toLocaleLowerCase();this._longMonthsParse[i]=this.months(mom,"").toLocaleLowerCase()}}if(strict){if(format==="MMM"){ii=indexOf.call(this._shortMonthsParse,llc);return ii!==-1?ii:null}else{ii=indexOf.call(this._longMonthsParse,llc);return ii!==-1?ii:null}}else{if(format==="MMM"){ii=indexOf.call(this._shortMonthsParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._longMonthsParse,llc);return ii!==-1?ii:null}else{ii=indexOf.call(this._longMonthsParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._shortMonthsParse,llc);return ii!==-1?ii:null}}}function localeMonthsParse(monthName,format,strict){var i,mom,regex;if(this._monthsParseExact){return handleStrictParse.call(this,monthName,format,strict)}if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(i=0;i<12;i++){mom=createUTC([2e3,i]);if(strict&&!this._longMonthsParse[i]){this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i");this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")}if(!strict&&!this._monthsParse[i]){regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,"");this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")}if(strict&&format==="MMMM"&&this._longMonthsParse[i].test(monthName)){return i}else if(strict&&format==="MMM"&&this._shortMonthsParse[i].test(monthName)){return i}else if(!strict&&this._monthsParse[i].test(monthName)){return i}}}function setMonth(mom,value){var dayOfMonth;if(!mom.isValid()){return mom}if(typeof value==="string"){if(/^\d+$/.test(value)){value=toInt(value)}else{value=mom.localeData().monthsParse(value);if(!isNumber(value)){return mom}}}dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value));mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth);return mom}function getSetMonth(value){if(value!=null){setMonth(this,value);hooks.updateOffset(this,true);return this}else{return get(this,"Month")}}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(isStrict){if(this._monthsParseExact){if(!hasOwnProp(this,"_monthsRegex")){computeMonthsParse.call(this)}if(isStrict){return this._monthsShortStrictRegex}else{return this._monthsShortRegex}}else{if(!hasOwnProp(this,"_monthsShortRegex")){this._monthsShortRegex=defaultMonthsShortRegex}return this._monthsShortStrictRegex&&isStrict?this._monthsShortStrictRegex:this._monthsShortRegex}}function monthsRegex(isStrict){if(this._monthsParseExact){if(!hasOwnProp(this,"_monthsRegex")){computeMonthsParse.call(this)}if(isStrict){return this._monthsStrictRegex}else{return this._monthsRegex}}else{if(!hasOwnProp(this,"_monthsRegex")){this._monthsRegex=defaultMonthsRegex}return this._monthsStrictRegex&&isStrict?this._monthsStrictRegex:this._monthsRegex}}function computeMonthsParse(){function cmpLenRev(a,b){return b.length-a.length}var shortPieces=[],longPieces=[],mixedPieces=[],i,mom;for(i=0;i<12;i++){mom=createUTC([2e3,i]);shortPieces.push(this.monthsShort(mom,""));longPieces.push(this.months(mom,""));mixedPieces.push(this.months(mom,""));mixedPieces.push(this.monthsShort(mom,""))}shortPieces.sort(cmpLenRev);longPieces.sort(cmpLenRev);mixedPieces.sort(cmpLenRev);for(i=0;i<12;i++){shortPieces[i]=regexEscape(shortPieces[i]);longPieces[i]=regexEscape(longPieces[i])}for(i=0;i<24;i++){mixedPieces[i]=regexEscape(mixedPieces[i])}this._monthsRegex=new RegExp("^("+mixedPieces.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+longPieces.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i")}addFormatToken("Y",0,0,function(){var y=this.year();return y<=9999?zeroFill(y,4):"+"+y});addFormatToken(0,["YY",2],0,function(){return this.year()%100});addFormatToken(0,["YYYY",4],0,"year");addFormatToken(0,["YYYYY",5],0,"year");addFormatToken(0,["YYYYYY",6,true],0,"year");addUnitAlias("year","y");addUnitPriority("year",1);addRegexToken("Y",matchSigned);addRegexToken("YY",match1to2,match2);addRegexToken("YYYY",match1to4,match4);addRegexToken("YYYYY",match1to6,match6);addRegexToken("YYYYYY",match1to6,match6);addParseToken(["YYYYY","YYYYYY"],YEAR);addParseToken("YYYY",function(input,array){array[YEAR]=input.length===2?hooks.parseTwoDigitYear(input):toInt(input)});addParseToken("YY",function(input,array){array[YEAR]=hooks.parseTwoDigitYear(input)});addParseToken("Y",function(input,array){array[YEAR]=parseInt(input,10)});function daysInYear(year){return isLeapYear(year)?366:365}hooks.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",true);function getIsLeapYear(){return isLeapYear(this.year())}function createDate(y,m,d,h,M,s,ms){var date;if(y<100&&y>=0){date=new Date(y+400,m,d,h,M,s,ms);if(isFinite(date.getFullYear())){date.setFullYear(y)}}else{date=new Date(y,m,d,h,M,s,ms)}return date}function createUTCDate(y){var date,args;if(y<100&&y>=0){args=Array.prototype.slice.call(arguments);args[0]=y+400;date=new Date(Date.UTC.apply(null,args));if(isFinite(date.getUTCFullYear())){date.setUTCFullYear(y)}}else{date=new Date(Date.UTC.apply(null,arguments))}return date}function firstWeekOffset(year,dow,doy){var fwd=7+dow-doy,fwdlw=(7+createUTCDate(year,0,fwd).getUTCDay()-dow)%7;return-fwdlw+fwd-1}function dayOfYearFromWeeks(year,week,weekday,dow,doy){var localWeekday=(7+weekday-dow)%7,weekOffset=firstWeekOffset(year,dow,doy),dayOfYear=1+7*(week-1)+localWeekday+weekOffset,resYear,resDayOfYear;if(dayOfYear<=0){resYear=year-1;resDayOfYear=daysInYear(resYear)+dayOfYear}else if(dayOfYear>daysInYear(year)){resYear=year+1;resDayOfYear=dayOfYear-daysInYear(year)}else{resYear=year;resDayOfYear=dayOfYear}return{year:resYear,dayOfYear:resDayOfYear}}function weekOfYear(mom,dow,doy){var weekOffset=firstWeekOffset(mom.year(),dow,doy),week=Math.floor((mom.dayOfYear()-weekOffset-1)/7)+1,resWeek,resYear;if(week<1){resYear=mom.year()-1;resWeek=week+weeksInYear(resYear,dow,doy)}else if(week>weeksInYear(mom.year(),dow,doy)){resWeek=week-weeksInYear(mom.year(),dow,doy);resYear=mom.year()+1}else{resYear=mom.year();resWeek=week}return{week:resWeek,year:resYear}}function weeksInYear(year,dow,doy){var weekOffset=firstWeekOffset(year,dow,doy),weekOffsetNext=firstWeekOffset(year+1,dow,doy);return(daysInYear(year)-weekOffset+weekOffsetNext)/7}addFormatToken("w",["ww",2],"wo","week");addFormatToken("W",["WW",2],"Wo","isoWeek");addUnitAlias("week","w");addUnitAlias("isoWeek","W");addUnitPriority("week",5);addUnitPriority("isoWeek",5);addRegexToken("w",match1to2);addRegexToken("ww",match1to2,match2);addRegexToken("W",match1to2);addRegexToken("WW",match1to2,match2);addWeekParseToken(["w","ww","W","WW"],function(input,week,config,token){week[token.substr(0,1)]=toInt(input)});function localeWeek(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week}var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(input){var week=this.localeData().week(this);return input==null?week:this.add((input-week)*7,"d")}function getSetISOWeek(input){var week=weekOfYear(this,1,4).week;return input==null?week:this.add((input-week)*7,"d")}addFormatToken("d",0,"do","day");addFormatToken("dd",0,0,function(format){return this.localeData().weekdaysMin(this,format)});addFormatToken("ddd",0,0,function(format){return this.localeData().weekdaysShort(this,format)});addFormatToken("dddd",0,0,function(format){return this.localeData().weekdays(this,format)});addFormatToken("e",0,0,"weekday");addFormatToken("E",0,0,"isoWeekday");addUnitAlias("day","d");addUnitAlias("weekday","e");addUnitAlias("isoWeekday","E");addUnitPriority("day",11);addUnitPriority("weekday",11);addUnitPriority("isoWeekday",11);addRegexToken("d",match1to2);addRegexToken("e",match1to2);addRegexToken("E",match1to2);addRegexToken("dd",function(isStrict,locale){return locale.weekdaysMinRegex(isStrict)});addRegexToken("ddd",function(isStrict,locale){return locale.weekdaysShortRegex(isStrict)});addRegexToken("dddd",function(isStrict,locale){return locale.weekdaysRegex(isStrict)});addWeekParseToken(["dd","ddd","dddd"],function(input,week,config,token){var weekday=config._locale.weekdaysParse(input,token,config._strict);if(weekday!=null){week.d=weekday}else{getParsingFlags(config).invalidWeekday=input}});addWeekParseToken(["d","e","E"],function(input,week,config,token){week[token]=toInt(input)});function parseWeekday(input,locale){if(typeof input!=="string"){return input}if(!isNaN(input)){return parseInt(input,10)}input=locale.weekdaysParse(input);if(typeof input==="number"){return input}return null}function parseIsoWeekday(input,locale){if(typeof input==="string"){return locale.weekdaysParse(input)%7||7}return isNaN(input)?null:input}function shiftWeekdays(ws,n){return ws.slice(n,7).concat(ws.slice(0,n))}var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),defaultWeekdaysRegex=matchWord,defaultWeekdaysShortRegex=matchWord,defaultWeekdaysMinRegex=matchWord;function localeWeekdays(m,format){var weekdays=isArray(this._weekdays)?this._weekdays:this._weekdays[m&&m!==true&&this._weekdays.isFormat.test(format)?"format":"standalone"];return m===true?shiftWeekdays(weekdays,this._week.dow):m?weekdays[m.day()]:weekdays}function localeWeekdaysShort(m){return m===true?shiftWeekdays(this._weekdaysShort,this._week.dow):m?this._weekdaysShort[m.day()]:this._weekdaysShort}function localeWeekdaysMin(m){return m===true?shiftWeekdays(this._weekdaysMin,this._week.dow):m?this._weekdaysMin[m.day()]:this._weekdaysMin}function handleStrictParse$1(weekdayName,format,strict){var i,ii,mom,llc=weekdayName.toLocaleLowerCase();if(!this._weekdaysParse){this._weekdaysParse=[];this._shortWeekdaysParse=[];this._minWeekdaysParse=[];for(i=0;i<7;++i){mom=createUTC([2e3,1]).day(i);this._minWeekdaysParse[i]=this.weekdaysMin(mom,"").toLocaleLowerCase();this._shortWeekdaysParse[i]=this.weekdaysShort(mom,"").toLocaleLowerCase();this._weekdaysParse[i]=this.weekdays(mom,"").toLocaleLowerCase()}}if(strict){if(format==="dddd"){ii=indexOf.call(this._weekdaysParse,llc);return ii!==-1?ii:null}else if(format==="ddd"){ii=indexOf.call(this._shortWeekdaysParse,llc);return ii!==-1?ii:null}else{ii=indexOf.call(this._minWeekdaysParse,llc);return ii!==-1?ii:null}}else{if(format==="dddd"){ii=indexOf.call(this._weekdaysParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._shortWeekdaysParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._minWeekdaysParse,llc);return ii!==-1?ii:null}else if(format==="ddd"){ii=indexOf.call(this._shortWeekdaysParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._weekdaysParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._minWeekdaysParse,llc);return ii!==-1?ii:null}else{ii=indexOf.call(this._minWeekdaysParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._weekdaysParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._shortWeekdaysParse,llc);return ii!==-1?ii:null}}}function localeWeekdaysParse(weekdayName,format,strict){var i,mom,regex;if(this._weekdaysParseExact){return handleStrictParse$1.call(this,weekdayName,format,strict)}if(!this._weekdaysParse){this._weekdaysParse=[];this._minWeekdaysParse=[];this._shortWeekdaysParse=[];this._fullWeekdaysParse=[]}for(i=0;i<7;i++){mom=createUTC([2e3,1]).day(i);if(strict&&!this._fullWeekdaysParse[i]){this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(mom,"").replace(".","\\.?")+"$","i");this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(mom,"").replace(".","\\.?")+"$","i");this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(mom,"").replace(".","\\.?")+"$","i")}if(!this._weekdaysParse[i]){regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,"");this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")}if(strict&&format==="dddd"&&this._fullWeekdaysParse[i].test(weekdayName)){return i}else if(strict&&format==="ddd"&&this._shortWeekdaysParse[i].test(weekdayName)){return i}else if(strict&&format==="dd"&&this._minWeekdaysParse[i].test(weekdayName)){return i}else if(!strict&&this._weekdaysParse[i].test(weekdayName)){return i}}}function getSetDayOfWeek(input){if(!this.isValid()){return input!=null?this:NaN}var day=this._isUTC?this._d.getUTCDay():this._d.getDay();if(input!=null){input=parseWeekday(input,this.localeData());return this.add(input-day,"d")}else{return day}}function getSetLocaleDayOfWeek(input){if(!this.isValid()){return input!=null?this:NaN}var weekday=(this.day()+7-this.localeData()._week.dow)%7;return input==null?weekday:this.add(input-weekday,"d")}function getSetISODayOfWeek(input){if(!this.isValid()){return input!=null?this:NaN}if(input!=null){var weekday=parseIsoWeekday(input,this.localeData());return this.day(this.day()%7?weekday:weekday-7)}else{return this.day()||7}}function weekdaysRegex(isStrict){if(this._weekdaysParseExact){if(!hasOwnProp(this,"_weekdaysRegex")){computeWeekdaysParse.call(this)}if(isStrict){return this._weekdaysStrictRegex}else{return this._weekdaysRegex}}else{if(!hasOwnProp(this,"_weekdaysRegex")){this._weekdaysRegex=defaultWeekdaysRegex}return this._weekdaysStrictRegex&&isStrict?this._weekdaysStrictRegex:this._weekdaysRegex}}function weekdaysShortRegex(isStrict){if(this._weekdaysParseExact){if(!hasOwnProp(this,"_weekdaysRegex")){computeWeekdaysParse.call(this)}if(isStrict){return this._weekdaysShortStrictRegex}else{return this._weekdaysShortRegex}}else{if(!hasOwnProp(this,"_weekdaysShortRegex")){this._weekdaysShortRegex=defaultWeekdaysShortRegex}return this._weekdaysShortStrictRegex&&isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}}function weekdaysMinRegex(isStrict){if(this._weekdaysParseExact){if(!hasOwnProp(this,"_weekdaysRegex")){computeWeekdaysParse.call(this)}if(isStrict){return this._weekdaysMinStrictRegex}else{return this._weekdaysMinRegex}}else{if(!hasOwnProp(this,"_weekdaysMinRegex")){this._weekdaysMinRegex=defaultWeekdaysMinRegex}return this._weekdaysMinStrictRegex&&isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}}function computeWeekdaysParse(){function cmpLenRev(a,b){return b.length-a.length}var minPieces=[],shortPieces=[],longPieces=[],mixedPieces=[],i,mom,minp,shortp,longp;for(i=0;i<7;i++){mom=createUTC([2e3,1]).day(i);minp=regexEscape(this.weekdaysMin(mom,""));shortp=regexEscape(this.weekdaysShort(mom,""));longp=regexEscape(this.weekdays(mom,""));minPieces.push(minp);shortPieces.push(shortp);longPieces.push(longp);mixedPieces.push(minp);mixedPieces.push(shortp);mixedPieces.push(longp)}minPieces.sort(cmpLenRev);shortPieces.sort(cmpLenRev);longPieces.sort(cmpLenRev);mixedPieces.sort(cmpLenRev);this._weekdaysRegex=new RegExp("^("+mixedPieces.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+longPieces.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+minPieces.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}addFormatToken("H",["HH",2],0,"hour");addFormatToken("h",["hh",2],0,hFormat);addFormatToken("k",["kk",2],0,kFormat);addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)});addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)});addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase)})}meridiem("a",true);meridiem("A",false);addUnitAlias("hour","h");addUnitPriority("hour",13);function matchMeridiem(isStrict,locale){return locale._meridiemParse}addRegexToken("a",matchMeridiem);addRegexToken("A",matchMeridiem);addRegexToken("H",match1to2);addRegexToken("h",match1to2);addRegexToken("k",match1to2);addRegexToken("HH",match1to2,match2);addRegexToken("hh",match1to2,match2);addRegexToken("kk",match1to2,match2);addRegexToken("hmm",match3to4);addRegexToken("hmmss",match5to6);addRegexToken("Hmm",match3to4);addRegexToken("Hmmss",match5to6);addParseToken(["H","HH"],HOUR);addParseToken(["k","kk"],function(input,array,config){var kInput=toInt(input);array[HOUR]=kInput===24?0:kInput});addParseToken(["a","A"],function(input,array,config){config._isPm=config._locale.isPM(input);config._meridiem=input});addParseToken(["h","hh"],function(input,array,config){array[HOUR]=toInt(input);getParsingFlags(config).bigHour=true});addParseToken("hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos));array[MINUTE]=toInt(input.substr(pos));getParsingFlags(config).bigHour=true});addParseToken("hmmss",function(input,array,config){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1));array[MINUTE]=toInt(input.substr(pos1,2));array[SECOND]=toInt(input.substr(pos2));getParsingFlags(config).bigHour=true});addParseToken("Hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos));array[MINUTE]=toInt(input.substr(pos))});addParseToken("Hmmss",function(input,array,config){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1));array[MINUTE]=toInt(input.substr(pos1,2));array[SECOND]=toInt(input.substr(pos2))});function localeIsPM(input){return(input+"").toLowerCase().charAt(0)==="p"}var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",true);function localeMeridiem(hours,minutes,isLower){if(hours>11){return isLower?"pm":"PM"}else{return isLower?"am":"AM"}}var baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,dayOfMonthOrdinalParse:defaultDayOfMonthOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse};var locales={},localeFamilies={},globalLocale;function commonPrefix(arr1,arr2){var i,minl=Math.min(arr1.length,arr2.length);for(i=0;i<minl;i+=1){if(arr1[i]!==arr2[i]){return i}}return minl}function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){var i=0,j,next,locale,split;while(i<names.length){split=normalizeLocale(names[i]).split("-");j=split.length;next=normalizeLocale(names[i+1]);next=next?next.split("-"):null;while(j>0){locale=loadLocale(split.slice(0,j).join("-"));if(locale){return locale}if(next&&next.length>=j&&commonPrefix(split,next)>=j-1){break}j--}i++}return globalLocale}function isLocaleNameSane(name){return name.match("^[^/\\\\]*$")!=null}function loadLocale(name){var oldLocale=null,aliasedRequire;if(locales[name]===undefined&&typeof module!=="undefined"&&module&&module.exports&&isLocaleNameSane(name)){try{oldLocale=globalLocale._abbr;aliasedRequire=require;aliasedRequire("./locale/"+name);getSetGlobalLocale(oldLocale)}catch(e){locales[name]=null}}return locales[name]}function getSetGlobalLocale(key,values){var data;if(key){if(isUndefined(values)){data=getLocale(key)}else{data=defineLocale(key,values)}if(data){globalLocale=data}else{if(typeof console!=="undefined"&&console.warn){console.warn("Locale "+key+" not found. Did you forget to load it?")}}}return globalLocale._abbr}function defineLocale(name,config){if(config!==null){var locale,parentConfig=baseConfig;config.abbr=name;if(locales[name]!=null){deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change "+"an existing locale. moment.defineLocale(localeName, "+"config) should only be used for creating a new locale "+"See http://momentjs.com/guides/#/warnings/define-locale/ for more info.");parentConfig=locales[name]._config}else if(config.parentLocale!=null){if(locales[config.parentLocale]!=null){parentConfig=locales[config.parentLocale]._config}else{locale=loadLocale(config.parentLocale);if(locale!=null){parentConfig=locale._config}else{if(!localeFamilies[config.parentLocale]){localeFamilies[config.parentLocale]=[]}localeFamilies[config.parentLocale].push({name:name,config:config});return null}}}locales[name]=new Locale(mergeConfigs(parentConfig,config));if(localeFamilies[name]){localeFamilies[name].forEach(function(x){defineLocale(x.name,x.config)})}getSetGlobalLocale(name);return locales[name]}else{delete locales[name];return null}}function updateLocale(name,config){if(config!=null){var locale,tmpLocale,parentConfig=baseConfig;if(locales[name]!=null&&locales[name].parentLocale!=null){locales[name].set(mergeConfigs(locales[name]._config,config))}else{tmpLocale=loadLocale(name);if(tmpLocale!=null){parentConfig=tmpLocale._config}config=mergeConfigs(parentConfig,config);if(tmpLocale==null){config.abbr=name}locale=new Locale(config);locale.parentLocale=locales[name];locales[name]=locale}getSetGlobalLocale(name)}else{if(locales[name]!=null){if(locales[name].parentLocale!=null){locales[name]=locales[name].parentLocale;if(name===getSetGlobalLocale()){getSetGlobalLocale(name)}}else if(locales[name]!=null){delete locales[name]}}}return locales[name]}function getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr){key=key._locale._abbr}if(!key){return globalLocale}if(!isArray(key)){locale=loadLocale(key);if(locale){return locale}key=[key]}return chooseLocale(key)}function listLocales(){return keys(locales)}function checkOverflow(m){var overflow,a=m._a;if(a&&getParsingFlags(m).overflow===-2){overflow=a[MONTH]<0||a[MONTH]>11?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||a[HOUR]>24||a[HOUR]===24&&(a[MINUTE]!==0||a[SECOND]!==0||a[MILLISECOND]!==0)?HOUR:a[MINUTE]<0||a[MINUTE]>59?MINUTE:a[SECOND]<0||a[SECOND]>59?SECOND:a[MILLISECOND]<0||a[MILLISECOND]>999?MILLISECOND:-1;if(getParsingFlags(m)._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)){overflow=DATE}if(getParsingFlags(m)._overflowWeeks&&overflow===-1){overflow=WEEK}if(getParsingFlags(m)._overflowWeekday&&overflow===-1){overflow=WEEKDAY}getParsingFlags(m).overflow=overflow}return m}var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,false],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,false],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,false],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,false],["YYYY",/\d{4}/,false]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((-?\d+)/i,rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,obsOffsets={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function configFromISO(config){var i,l,string=config._i,match=extendedIsoRegex.exec(string)||basicIsoRegex.exec(string),allowTime,dateFormat,timeFormat,tzFormat,isoDatesLen=isoDates.length,isoTimesLen=isoTimes.length;if(match){getParsingFlags(config).iso=true;for(i=0,l=isoDatesLen;i<l;i++){if(isoDates[i][1].exec(match[1])){dateFormat=isoDates[i][0];allowTime=isoDates[i][2]!==false;break}}if(dateFormat==null){config._isValid=false;return}if(match[3]){for(i=0,l=isoTimesLen;i<l;i++){if(isoTimes[i][1].exec(match[3])){timeFormat=(match[2]||" ")+isoTimes[i][0];break}}if(timeFormat==null){config._isValid=false;return}}if(!allowTime&&timeFormat!=null){config._isValid=false;return}if(match[4]){if(tzRegex.exec(match[4])){tzFormat="Z"}else{config._isValid=false;return}}config._f=dateFormat+(timeFormat||"")+(tzFormat||"");configFromStringAndFormat(config)}else{config._isValid=false}}function extractFromRFC2822Strings(yearStr,monthStr,dayStr,hourStr,minuteStr,secondStr){var result=[untruncateYear(yearStr),defaultLocaleMonthsShort.indexOf(monthStr),parseInt(dayStr,10),parseInt(hourStr,10),parseInt(minuteStr,10)];if(secondStr){result.push(parseInt(secondStr,10))}return result}function untruncateYear(yearStr){var year=parseInt(yearStr,10);if(year<=49){return 2e3+year}else if(year<=999){return 1900+year}return year}function preprocessRFC2822(s){return s.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function checkWeekday(weekdayStr,parsedInput,config){if(weekdayStr){var weekdayProvided=defaultLocaleWeekdaysShort.indexOf(weekdayStr),weekdayActual=new Date(parsedInput[0],parsedInput[1],parsedInput[2]).getDay();if(weekdayProvided!==weekdayActual){getParsingFlags(config).weekdayMismatch=true;config._isValid=false;return false}}return true}function calculateOffset(obsOffset,militaryOffset,numOffset){if(obsOffset){return obsOffsets[obsOffset]}else if(militaryOffset){return 0}else{var hm=parseInt(numOffset,10),m=hm%100,h=(hm-m)/100;return h*60+m}}function configFromRFC2822(config){var match=rfc2822.exec(preprocessRFC2822(config._i)),parsedArray;if(match){parsedArray=extractFromRFC2822Strings(match[4],match[3],match[2],match[5],match[6],match[7]);if(!checkWeekday(match[1],parsedArray,config)){return}config._a=parsedArray;config._tzm=calculateOffset(match[8],match[9],match[10]);config._d=createUTCDate.apply(null,config._a);config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm);getParsingFlags(config).rfc2822=true}else{config._isValid=false}}function configFromString(config){var matched=aspNetJsonRegex.exec(config._i);if(matched!==null){config._d=new Date(+matched[1]);return}configFromISO(config);if(config._isValid===false){delete config._isValid}else{return}configFromRFC2822(config);if(config._isValid===false){delete config._isValid}else{return}if(config._strict){config._isValid=false}else{hooks.createFromInputFallback(config)}}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), "+"which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are "+"discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))});function defaults(a,b,c){if(a!=null){return a}if(b!=null){return b}return c}function currentDateArray(config){var nowValue=new Date(hooks.now());if(config._useUTC){return[nowValue.getUTCFullYear(),nowValue.getUTCMonth(),nowValue.getUTCDate()]}return[nowValue.getFullYear(),nowValue.getMonth(),nowValue.getDate()]}function configFromArray(config){var i,date,input=[],currentDate,expectedWeekday,yearToUse;if(config._d){return}currentDate=currentDateArray(config);if(config._w&&config._a[DATE]==null&&config._a[MONTH]==null){dayOfYearFromWeekInfo(config)}if(config._dayOfYear!=null){yearToUse=defaults(config._a[YEAR],currentDate[YEAR]);if(config._dayOfYear>daysInYear(yearToUse)||config._dayOfYear===0){getParsingFlags(config)._overflowDayOfYear=true}date=createUTCDate(yearToUse,0,config._dayOfYear);config._a[MONTH]=date.getUTCMonth();config._a[DATE]=date.getUTCDate()}for(i=0;i<3&&config._a[i]==null;++i){config._a[i]=input[i]=currentDate[i]}for(;i<7;i++){config._a[i]=input[i]=config._a[i]==null?i===2?1:0:config._a[i]}if(config._a[HOUR]===24&&config._a[MINUTE]===0&&config._a[SECOND]===0&&config._a[MILLISECOND]===0){config._nextDay=true;config._a[HOUR]=0}config._d=(config._useUTC?createUTCDate:createDate).apply(null,input);expectedWeekday=config._useUTC?config._d.getUTCDay():config._d.getDay();if(config._tzm!=null){config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm)}if(config._nextDay){config._a[HOUR]=24}if(config._w&&typeof config._w.d!=="undefined"&&config._w.d!==expectedWeekday){getParsingFlags(config).weekdayMismatch=true}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp,weekdayOverflow,curWeek;w=config._w;if(w.GG!=null||w.W!=null||w.E!=null){dow=1;doy=4;weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(createLocal(),1,4).year);week=defaults(w.W,1);weekday=defaults(w.E,1);if(weekday<1||weekday>7){weekdayOverflow=true}}else{dow=config._locale._week.dow;doy=config._locale._week.doy;curWeek=weekOfYear(createLocal(),dow,doy);weekYear=defaults(w.gg,config._a[YEAR],curWeek.year);week=defaults(w.w,curWeek.week);if(w.d!=null){weekday=w.d;if(weekday<0||weekday>6){weekdayOverflow=true}}else if(w.e!=null){weekday=w.e+dow;if(w.e<0||w.e>6){weekdayOverflow=true}}else{weekday=dow}}if(week<1||week>weeksInYear(weekYear,dow,doy)){getParsingFlags(config)._overflowWeeks=true}else if(weekdayOverflow!=null){getParsingFlags(config)._overflowWeekday=true}else{temp=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy);config._a[YEAR]=temp.year;config._dayOfYear=temp.dayOfYear}}hooks.ISO_8601=function(){};hooks.RFC_2822=function(){};function configFromStringAndFormat(config){if(config._f===hooks.ISO_8601){configFromISO(config);return}if(config._f===hooks.RFC_2822){configFromRFC2822(config);return}config._a=[];getParsingFlags(config).empty=true;var string=""+config._i,i,parsedInput,tokens,token,skipped,stringLength=string.length,totalParsedInputLength=0,era,tokenLen;tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[];tokenLen=tokens.length;for(i=0;i<tokenLen;i++){token=tokens[i];parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0];if(parsedInput){skipped=string.substr(0,string.indexOf(parsedInput));if(skipped.length>0){getParsingFlags(config).unusedInput.push(skipped)}string=string.slice(string.indexOf(parsedInput)+parsedInput.length);totalParsedInputLength+=parsedInput.length}if(formatTokenFunctions[token]){if(parsedInput){getParsingFlags(config).empty=false}else{getParsingFlags(config).unusedTokens.push(token)}addTimeToArrayFromToken(token,parsedInput,config)}else if(config._strict&&!parsedInput){getParsingFlags(config).unusedTokens.push(token)}}getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength;if(string.length>0){getParsingFlags(config).unusedInput.push(string)}if(config._a[HOUR]<=12&&getParsingFlags(config).bigHour===true&&config._a[HOUR]>0){getParsingFlags(config).bigHour=undefined}getParsingFlags(config).parsedDateParts=config._a.slice(0);getParsingFlags(config).meridiem=config._meridiem;config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem);era=getParsingFlags(config).era;if(era!==null){config._a[YEAR]=config._locale.erasConvertYear(era,config._a[YEAR])}configFromArray(config);checkOverflow(config)}function meridiemFixWrap(locale,hour,meridiem){var isPm;if(meridiem==null){return hour}if(locale.meridiemHour!=null){return locale.meridiemHour(hour,meridiem)}else if(locale.isPM!=null){isPm=locale.isPM(meridiem);if(isPm&&hour<12){hour+=12}if(!isPm&&hour===12){hour=0}return hour}else{return hour}}function configFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore,validFormatFound,bestFormatIsValid=false,configfLen=config._f.length;if(configfLen===0){getParsingFlags(config).invalidFormat=true;config._d=new Date(NaN);return}for(i=0;i<configfLen;i++){currentScore=0;validFormatFound=false;tempConfig=copyConfig({},config);if(config._useUTC!=null){tempConfig._useUTC=config._useUTC}tempConfig._f=config._f[i];configFromStringAndFormat(tempConfig);if(isValid(tempConfig)){validFormatFound=true}currentScore+=getParsingFlags(tempConfig).charsLeftOver;currentScore+=getParsingFlags(tempConfig).unusedTokens.length*10;getParsingFlags(tempConfig).score=currentScore;if(!bestFormatIsValid){if(scoreToBeat==null||currentScore<scoreToBeat||validFormatFound){scoreToBeat=currentScore;bestMoment=tempConfig;if(validFormatFound){bestFormatIsValid=true}}}else{if(currentScore<scoreToBeat){scoreToBeat=currentScore;bestMoment=tempConfig}}}extend(config,bestMoment||tempConfig)}function configFromObject(config){if(config._d){return}var i=normalizeObjectUnits(config._i),dayOrDate=i.day===undefined?i.date:i.day;config._a=map([i.year,i.month,dayOrDate,i.hour,i.minute,i.second,i.millisecond],function(obj){return obj&&parseInt(obj,10)});configFromArray(config)}function createFromConfig(config){var res=new Moment(checkOverflow(prepareConfig(config)));if(res._nextDay){res.add(1,"d");res._nextDay=undefined}return res}function prepareConfig(config){var input=config._i,format=config._f;config._locale=config._locale||getLocale(config._l);if(input===null||format===undefined&&input===""){return createInvalid({nullInput:true})}if(typeof input==="string"){config._i=input=config._locale.preparse(input)}if(isMoment(input)){return new Moment(checkOverflow(input))}else if(isDate(input)){config._d=input}else if(isArray(format)){configFromStringAndArray(config)}else if(format){configFromStringAndFormat(config)}else{configFromInput(config)}if(!isValid(config)){config._d=null}return config}function configFromInput(config){var input=config._i;if(isUndefined(input)){config._d=new Date(hooks.now())}else if(isDate(input)){config._d=new Date(input.valueOf())}else if(typeof input==="string"){configFromString(config)}else if(isArray(input)){config._a=map(input.slice(0),function(obj){return parseInt(obj,10)});configFromArray(config)}else if(isObject(input)){configFromObject(config)}else if(isNumber(input)){config._d=new Date(input)}else{hooks.createFromInputFallback(config)}}function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};if(format===true||format===false){strict=format;format=undefined}if(locale===true||locale===false){strict=locale;locale=undefined}if(isObject(input)&&isObjectEmpty(input)||isArray(input)&&input.length===0){input=undefined}c._isAMomentObject=true;c._useUTC=c._isUTC=isUTC;c._l=locale;c._i=input;c._f=format;c._strict=strict;return createFromConfig(c)}function createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,false)}var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=createLocal.apply(null,arguments);if(this.isValid()&&other.isValid()){return other<this?this:other}else{return createInvalid()}}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=createLocal.apply(null,arguments);if(this.isValid()&&other.isValid()){return other>this?this:other}else{return createInvalid()}});function pickBy(fn,moments){var res,i;if(moments.length===1&&isArray(moments[0])){moments=moments[0]}if(!moments.length){return createLocal()}res=moments[0];for(i=1;i<moments.length;++i){if(!moments[i].isValid()||moments[i][fn](res)){res=moments[i]}}return res}function min(){var args=[].slice.call(arguments,0);return pickBy("isBefore",args)}function max(){var args=[].slice.call(arguments,0);return pickBy("isAfter",args)}var now=function(){return Date.now?Date.now():+new Date};var ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];function isDurationValid(m){var key,unitHasDecimal=false,i,orderLen=ordering.length;for(key in m){if(hasOwnProp(m,key)&&!(indexOf.call(ordering,key)!==-1&&(m[key]==null||!isNaN(m[key])))){return false}}for(i=0;i<orderLen;++i){if(m[ordering[i]]){if(unitHasDecimal){return false}if(parseFloat(m[ordering[i]])!==toInt(m[ordering[i]])){unitHasDecimal=true}}}return true}function isValid$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||normalizedInput.isoWeek||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._isValid=isDurationValid(normalizedInput);this._milliseconds=+milliseconds+seconds*1e3+minutes*6e4+hours*1e3*60*60;this._days=+days+weeks*7;this._months=+months+quarters*3+years*12;this._data={};this._locale=getLocale();this._bubble()}function isDuration(obj){return obj instanceof Duration}function absRound(number){if(number<0){return Math.round(-1*number)*-1}else{return Math.round(number)}}function compareArrays(array1,array2,dontConvert){var len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0,i;for(i=0;i<len;i++){if(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i])){diffs++}}return diffs+lengthDiff}function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset(),sign="+";if(offset<0){offset=-offset;sign="-"}return sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~offset%60,2)})}offset("Z",":");offset("ZZ","");addRegexToken("Z",matchShortOffset);addRegexToken("ZZ",matchShortOffset);addParseToken(["Z","ZZ"],function(input,array,config){config._useUTC=true;config._tzm=offsetFromString(matchShortOffset,input)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(matcher,string){var matches=(string||"").match(matcher),chunk,parts,minutes;if(matches===null){return null}chunk=matches[matches.length-1]||[];parts=(chunk+"").match(chunkOffset)||["-",0,0];minutes=+(parts[1]*60)+toInt(parts[2]);return minutes===0?0:parts[0]==="+"?minutes:-minutes}function cloneWithOffset(input,model){var res,diff;if(model._isUTC){res=model.clone();diff=(isMoment(input)||isDate(input)?input.valueOf():createLocal(input).valueOf())-res.valueOf();res._d.setTime(res._d.valueOf()+diff);hooks.updateOffset(res,false);return res}else{return createLocal(input).local()}}function getDateOffset(m){return-Math.round(m._d.getTimezoneOffset())}hooks.updateOffset=function(){};function getSetOffset(input,keepLocalTime,keepMinutes){var offset=this._offset||0,localAdjust;if(!this.isValid()){return input!=null?this:NaN}if(input!=null){if(typeof input==="string"){input=offsetFromString(matchShortOffset,input);if(input===null){return this}}else if(Math.abs(input)<16&&!keepMinutes){input=input*60}if(!this._isUTC&&keepLocalTime){localAdjust=getDateOffset(this)}this._offset=input;this._isUTC=true;if(localAdjust!=null){this.add(localAdjust,"m")}if(offset!==input){if(!keepLocalTime||this._changeInProgress){addSubtract(this,createDuration(input-offset,"m"),1,false)}else if(!this._changeInProgress){this._changeInProgress=true;hooks.updateOffset(this,true);this._changeInProgress=null}}return this}else{return this._isUTC?offset:getDateOffset(this)}}function getSetZone(input,keepLocalTime){if(input!=null){if(typeof input!=="string"){input=-input}this.utcOffset(input,keepLocalTime);return this}else{return-this.utcOffset()}}function setOffsetToUTC(keepLocalTime){return this.utcOffset(0,keepLocalTime)}function setOffsetToLocal(keepLocalTime){if(this._isUTC){this.utcOffset(0,keepLocalTime);this._isUTC=false;if(keepLocalTime){this.subtract(getDateOffset(this),"m")}}return this}function setOffsetToParsedOffset(){if(this._tzm!=null){this.utcOffset(this._tzm,false,true)}else if(typeof this._i==="string"){var tZone=offsetFromString(matchOffset,this._i);if(tZone!=null){this.utcOffset(tZone)}else{this.utcOffset(0,true)}}return this}function hasAlignedHourOffset(input){if(!this.isValid()){return false}input=input?createLocal(input).utcOffset():0;return(this.utcOffset()-input)%60===0}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted)){return this._isDSTShifted}var c={},other;copyConfig(c,this);c=prepareConfig(c);if(c._a){other=c._isUTC?createUTC(c._a):createLocal(c._a);this._isDSTShifted=this.isValid()&&compareArrays(c._a,other.toArray())>0}else{this._isDSTShifted=false}return this._isDSTShifted}function isLocal(){return this.isValid()?!this._isUTC:false}function isUtcOffset(){return this.isValid()?this._isUTC:false}function isUtc(){return this.isValid()?this._isUTC&&this._offset===0:false}var aspNetRegex=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,isoRegex=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration(input,key){var duration=input,match=null,sign,ret,diffRes;if(isDuration(input)){duration={ms:input._milliseconds,d:input._days,M:input._months}}else if(isNumber(input)||!isNaN(+input)){duration={};if(key){duration[key]=+input}else{duration.milliseconds=+input}}else if(match=aspNetRegex.exec(input)){sign=match[1]==="-"?-1:1;duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(absRound(match[MILLISECOND]*1e3))*sign}}else if(match=isoRegex.exec(input)){sign=match[1]==="-"?-1:1;duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),w:parseIso(match[4],sign),d:parseIso(match[5],sign),h:parseIso(match[6],sign),m:parseIso(match[7],sign),s:parseIso(match[8],sign)}}else if(duration==null){duration={}}else if(typeof duration==="object"&&("from"in duration||"to"in duration)){diffRes=momentsDifference(createLocal(duration.from),createLocal(duration.to));duration={};duration.ms=diffRes.milliseconds;duration.M=diffRes.months}ret=new Duration(duration);if(isDuration(input)&&hasOwnProp(input,"_locale")){ret._locale=input._locale}if(isDuration(input)&&hasOwnProp(input,"_isValid")){ret._isValid=input._isValid}return ret}createDuration.fn=Duration.prototype;createDuration.invalid=createInvalid$1;function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign}function positiveMomentsDifference(base,other){var res={};res.months=other.month()-base.month()+(other.year()-base.year())*12;if(base.clone().add(res.months,"M").isAfter(other)){--res.months}res.milliseconds=+other-+base.clone().add(res.months,"M");return res}function momentsDifference(base,other){var res;if(!(base.isValid()&&other.isValid())){return{milliseconds:0,months:0}}other=cloneWithOffset(other,base);if(base.isBefore(other)){res=positiveMomentsDifference(base,other)}else{res=positiveMomentsDifference(other,base);res.milliseconds=-res.milliseconds;res.months=-res.months}return res}function createAdder(direction,name){return function(val,period){var dur,tmp;if(period!==null&&!isNaN(+period)){deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period). "+"See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.");tmp=val;val=period;period=tmp}dur=createDuration(val,period);addSubtract(this,dur,direction);return this}}function addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=absRound(duration._days),months=absRound(duration._months);if(!mom.isValid()){return}updateOffset=updateOffset==null?true:updateOffset;if(months){setMonth(mom,get(mom,"Month")+months*isAdding)}if(days){set$1(mom,"Date",get(mom,"Date")+days*isAdding)}if(milliseconds){mom._d.setTime(mom._d.valueOf()+milliseconds*isAdding)}if(updateOffset){hooks.updateOffset(mom,days||months)}}var add=createAdder(1,"add"),subtract=createAdder(-1,"subtract");function isString(input){return typeof input==="string"||input instanceof String}function isMomentInput(input){return isMoment(input)||isDate(input)||isString(input)||isNumber(input)||isNumberOrStringArray(input)||isMomentInputObject(input)||input===null||input===undefined}function isMomentInputObject(input){var objectTest=isObject(input)&&!isObjectEmpty(input),propertyTest=false,properties=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,property,propertyLen=properties.length;for(i=0;i<propertyLen;i+=1){property=properties[i];propertyTest=propertyTest||hasOwnProp(input,property)}return objectTest&&propertyTest}function isNumberOrStringArray(input){var arrayTest=isArray(input),dataTypeTest=false;if(arrayTest){dataTypeTest=input.filter(function(item){return!isNumber(item)&&isString(input)}).length===0}return arrayTest&&dataTypeTest}function isCalendarSpec(input){var objectTest=isObject(input)&&!isObjectEmpty(input),propertyTest=false,properties=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,property;for(i=0;i<properties.length;i+=1){property=properties[i];propertyTest=propertyTest||hasOwnProp(input,property)}return objectTest&&propertyTest}function getCalendarFormat(myMoment,now){var diff=myMoment.diff(now,"days",true);return diff<-6?"sameElse":diff<-1?"lastWeek":diff<0?"lastDay":diff<1?"sameDay":diff<2?"nextDay":diff<7?"nextWeek":"sameElse"}function calendar$1(time,formats){if(arguments.length===1){if(!arguments[0]){time=undefined;formats=undefined}else if(isMomentInput(arguments[0])){time=arguments[0];formats=undefined}else if(isCalendarSpec(arguments[0])){formats=arguments[0];time=undefined}}var now=time||createLocal(),sod=cloneWithOffset(now,this).startOf("day"),format=hooks.calendarFormat(this,sod)||"sameElse",output=formats&&(isFunction(formats[format])?formats[format].call(this,now):formats[format]);return this.format(output||this.localeData().calendar(format,this,createLocal(now)))}function clone(){return new Moment(this)}function isAfter(input,units){var localInput=isMoment(input)?input:createLocal(input);if(!(this.isValid()&&localInput.isValid())){return false}units=normalizeUnits(units)||"millisecond";if(units==="millisecond"){return this.valueOf()>localInput.valueOf()}else{return localInput.valueOf()<this.clone().startOf(units).valueOf()}}function isBefore(input,units){var localInput=isMoment(input)?input:createLocal(input);if(!(this.isValid()&&localInput.isValid())){return false}units=normalizeUnits(units)||"millisecond";if(units==="millisecond"){return this.valueOf()<localInput.valueOf()}else{return this.clone().endOf(units).valueOf()<localInput.valueOf()}}function isBetween(from,to,units,inclusivity){var localFrom=isMoment(from)?from:createLocal(from),localTo=isMoment(to)?to:createLocal(to);if(!(this.isValid()&&localFrom.isValid()&&localTo.isValid())){return false}inclusivity=inclusivity||"()";return(inclusivity[0]==="("?this.isAfter(localFrom,units):!this.isBefore(localFrom,units))&&(inclusivity[1]===")"?this.isBefore(localTo,units):!this.isAfter(localTo,units))}function isSame(input,units){var localInput=isMoment(input)?input:createLocal(input),inputMs;if(!(this.isValid()&&localInput.isValid())){return false}units=normalizeUnits(units)||"millisecond";if(units==="millisecond"){return this.valueOf()===localInput.valueOf()}else{inputMs=localInput.valueOf();return this.clone().startOf(units).valueOf()<=inputMs&&inputMs<=this.clone().endOf(units).valueOf()}}function isSameOrAfter(input,units){return this.isSame(input,units)||this.isAfter(input,units)}function isSameOrBefore(input,units){return this.isSame(input,units)||this.isBefore(input,units)}function diff(input,units,asFloat){var that,zoneDelta,output;if(!this.isValid()){return NaN}that=cloneWithOffset(input,this);if(!that.isValid()){return NaN}zoneDelta=(that.utcOffset()-this.utcOffset())*6e4;units=normalizeUnits(units);switch(units){case"year":output=monthDiff(this,that)/12;break;case"month":output=monthDiff(this,that);break;case"quarter":output=monthDiff(this,that)/3;break;case"second":output=(this-that)/1e3;break;case"minute":output=(this-that)/6e4;break;case"hour":output=(this-that)/36e5;break;case"day":output=(this-that-zoneDelta)/864e5;break;case"week":output=(this-that-zoneDelta)/6048e5;break;default:output=this-that}return asFloat?output:absFloor(output)}function monthDiff(a,b){if(a.date()<b.date()){return-monthDiff(b,a)}var wholeMonthDiff=(b.year()-a.year())*12+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,"months"),anchor2,adjust;if(b-anchor<0){anchor2=a.clone().add(wholeMonthDiff-1,"months");adjust=(b-anchor)/(anchor-anchor2)}else{anchor2=a.clone().add(wholeMonthDiff+1,"months");adjust=(b-anchor)/(anchor2-anchor)}return-(wholeMonthDiff+adjust)||0}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(keepOffset){if(!this.isValid()){return null}var utc=keepOffset!==true,m=utc?this.clone().utc():this;if(m.year()<0||m.year()>9999){return formatMoment(m,utc?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ")}if(isFunction(Date.prototype.toISOString)){if(utc){return this.toDate().toISOString()}else{return new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",formatMoment(m,"Z"))}}return formatMoment(m,utc?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function inspect(){if(!this.isValid()){return"moment.invalid(/* "+this._i+" */)"}var func="moment",zone="",prefix,year,datetime,suffix;if(!this.isLocal()){func=this.utcOffset()===0?"moment.utc":"moment.parseZone";zone="Z"}prefix="["+func+'("]';year=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";datetime="-MM-DD[T]HH:mm:ss.SSS";suffix=zone+'[")]';return this.format(prefix+year+datetime+suffix)}function format(inputString){if(!inputString){inputString=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat}var output=formatMoment(this,inputString);return this.localeData().postformat(output)}function from(time,withoutSuffix){if(this.isValid()&&(isMoment(time)&&time.isValid()||createLocal(time).isValid())){return createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix)}else{return this.localeData().invalidDate()}}function fromNow(withoutSuffix){return this.from(createLocal(),withoutSuffix)}function to(time,withoutSuffix){if(this.isValid()&&(isMoment(time)&&time.isValid()||createLocal(time).isValid())){return createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix)}else{return this.localeData().invalidDate()}}function toNow(withoutSuffix){return this.to(createLocal(),withoutSuffix)}function locale(key){var newLocaleData;if(key===undefined){return this._locale._abbr}else{newLocaleData=getLocale(key);if(newLocaleData!=null){this._locale=newLocaleData}return this}}var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){if(key===undefined){return this.localeData()}else{return this.locale(key)}});function localeData(){return this._locale}var MS_PER_SECOND=1e3,MS_PER_MINUTE=60*MS_PER_SECOND,MS_PER_HOUR=60*MS_PER_MINUTE,MS_PER_400_YEARS=(365*400+97)*24*MS_PER_HOUR;function mod$1(dividend,divisor){return(dividend%divisor+divisor)%divisor}function localStartOfDate(y,m,d){if(y<100&&y>=0){return new Date(y+400,m,d)-MS_PER_400_YEARS}else{return new Date(y,m,d).valueOf()}}function utcStartOfDate(y,m,d){if(y<100&&y>=0){return Date.UTC(y+400,m,d)-MS_PER_400_YEARS}else{return Date.UTC(y,m,d)}}function startOf(units){var time,startOfDate;units=normalizeUnits(units);if(units===undefined||units==="millisecond"||!this.isValid()){return this}startOfDate=this._isUTC?utcStartOfDate:localStartOfDate;switch(units){case"year":time=startOfDate(this.year(),0,1);break;case"quarter":time=startOfDate(this.year(),this.month()-this.month()%3,1);break;case"month":time=startOfDate(this.year(),this.month(),1);break;case"week":time=startOfDate(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":time=startOfDate(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":time=startOfDate(this.year(),this.month(),this.date());break;case"hour":time=this._d.valueOf();time-=mod$1(time+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR);break;case"minute":time=this._d.valueOf();time-=mod$1(time,MS_PER_MINUTE);break;case"second":time=this._d.valueOf();time-=mod$1(time,MS_PER_SECOND);break}this._d.setTime(time);hooks.updateOffset(this,true);return this}function endOf(units){var time,startOfDate;units=normalizeUnits(units);if(units===undefined||units==="millisecond"||!this.isValid()){return this}startOfDate=this._isUTC?utcStartOfDate:localStartOfDate;switch(units){case"year":time=startOfDate(this.year()+1,0,1)-1;break;case"quarter":time=startOfDate(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":time=startOfDate(this.year(),this.month()+1,1)-1;break;case"week":time=startOfDate(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":time=startOfDate(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":time=startOfDate(this.year(),this.month(),this.date()+1)-1;break;case"hour":time=this._d.valueOf();time+=MS_PER_HOUR-mod$1(time+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR)-1;break;case"minute":time=this._d.valueOf();time+=MS_PER_MINUTE-mod$1(time,MS_PER_MINUTE)-1;break;case"second":time=this._d.valueOf();time+=MS_PER_SECOND-mod$1(time,MS_PER_SECOND)-1;break}this._d.setTime(time);hooks.updateOffset(this,true);return this}function valueOf(){return this._d.valueOf()-(this._offset||0)*6e4}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]}function toObject(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}addFormatToken("N",0,0,"eraAbbr");addFormatToken("NN",0,0,"eraAbbr");addFormatToken("NNN",0,0,"eraAbbr");addFormatToken("NNNN",0,0,"eraName");addFormatToken("NNNNN",0,0,"eraNarrow");addFormatToken("y",["y",1],"yo","eraYear");addFormatToken("y",["yy",2],0,"eraYear");addFormatToken("y",["yyy",3],0,"eraYear");addFormatToken("y",["yyyy",4],0,"eraYear");addRegexToken("N",matchEraAbbr);addRegexToken("NN",matchEraAbbr);addRegexToken("NNN",matchEraAbbr);addRegexToken("NNNN",matchEraName);addRegexToken("NNNNN",matchEraNarrow);addParseToken(["N","NN","NNN","NNNN","NNNNN"],function(input,array,config,token){var era=config._locale.erasParse(input,token,config._strict);if(era){getParsingFlags(config).era=era}else{getParsingFlags(config).invalidEra=input}});addRegexToken("y",matchUnsigned);addRegexToken("yy",matchUnsigned);addRegexToken("yyy",matchUnsigned);addRegexToken("yyyy",matchUnsigned);addRegexToken("yo",matchEraYearOrdinal);addParseToken(["y","yy","yyy","yyyy"],YEAR);addParseToken(["yo"],function(input,array,config,token){var match;if(config._locale._eraYearOrdinalRegex){match=input.match(config._locale._eraYearOrdinalRegex)}if(config._locale.eraYearOrdinalParse){array[YEAR]=config._locale.eraYearOrdinalParse(input,match)}else{array[YEAR]=parseInt(input,10)}});function localeEras(m,format){var i,l,date,eras=this._eras||getLocale("en")._eras;for(i=0,l=eras.length;i<l;++i){switch(typeof eras[i].since){case"string":date=hooks(eras[i].since).startOf("day");eras[i].since=date.valueOf();break}switch(typeof eras[i].until){case"undefined":eras[i].until=+Infinity;break;case"string":date=hooks(eras[i].until).startOf("day").valueOf();eras[i].until=date.valueOf();break}}return eras}function localeErasParse(eraName,format,strict){var i,l,eras=this.eras(),name,abbr,narrow;eraName=eraName.toUpperCase();for(i=0,l=eras.length;i<l;++i){name=eras[i].name.toUpperCase();abbr=eras[i].abbr.toUpperCase();narrow=eras[i].narrow.toUpperCase();if(strict){switch(format){case"N":case"NN":case"NNN":if(abbr===eraName){return eras[i]}break;case"NNNN":if(name===eraName){return eras[i]}break;case"NNNNN":if(narrow===eraName){return eras[i]}break}}else if([name,abbr,narrow].indexOf(eraName)>=0){return eras[i]}}}function localeErasConvertYear(era,year){var dir=era.since<=era.until?+1:-1;if(year===undefined){return hooks(era.since).year()}else{return hooks(era.since).year()+(year-era.offset)*dir}}function getEraName(){var i,l,val,eras=this.localeData().eras();for(i=0,l=eras.length;i<l;++i){val=this.clone().startOf("day").valueOf();if(eras[i].since<=val&&val<=eras[i].until){return eras[i].name}if(eras[i].until<=val&&val<=eras[i].since){return eras[i].name}}return""}function getEraNarrow(){var i,l,val,eras=this.localeData().eras();for(i=0,l=eras.length;i<l;++i){val=this.clone().startOf("day").valueOf();if(eras[i].since<=val&&val<=eras[i].until){return eras[i].narrow}if(eras[i].until<=val&&val<=eras[i].since){return eras[i].narrow}}return""}function getEraAbbr(){var i,l,val,eras=this.localeData().eras();for(i=0,l=eras.length;i<l;++i){val=this.clone().startOf("day").valueOf();if(eras[i].since<=val&&val<=eras[i].until){return eras[i].abbr}if(eras[i].until<=val&&val<=eras[i].since){return eras[i].abbr}}return""}function getEraYear(){var i,l,dir,val,eras=this.localeData().eras();for(i=0,l=eras.length;i<l;++i){dir=eras[i].since<=eras[i].until?+1:-1;val=this.clone().startOf("day").valueOf();if(eras[i].since<=val&&val<=eras[i].until||eras[i].until<=val&&val<=eras[i].since){return(this.year()-hooks(eras[i].since).year())*dir+eras[i].offset}}return this.year()}function erasNameRegex(isStrict){if(!hasOwnProp(this,"_erasNameRegex")){computeErasParse.call(this)}return isStrict?this._erasNameRegex:this._erasRegex}function erasAbbrRegex(isStrict){if(!hasOwnProp(this,"_erasAbbrRegex")){computeErasParse.call(this)}return isStrict?this._erasAbbrRegex:this._erasRegex}function erasNarrowRegex(isStrict){if(!hasOwnProp(this,"_erasNarrowRegex")){computeErasParse.call(this)}return isStrict?this._erasNarrowRegex:this._erasRegex}function matchEraAbbr(isStrict,locale){return locale.erasAbbrRegex(isStrict)}function matchEraName(isStrict,locale){return locale.erasNameRegex(isStrict)}function matchEraNarrow(isStrict,locale){return locale.erasNarrowRegex(isStrict)}function matchEraYearOrdinal(isStrict,locale){return locale._eraYearOrdinalRegex||matchUnsigned}function computeErasParse(){var abbrPieces=[],namePieces=[],narrowPieces=[],mixedPieces=[],i,l,eras=this.eras();for(i=0,l=eras.length;i<l;++i){namePieces.push(regexEscape(eras[i].name));abbrPieces.push(regexEscape(eras[i].abbr));narrowPieces.push(regexEscape(eras[i].narrow));mixedPieces.push(regexEscape(eras[i].name));mixedPieces.push(regexEscape(eras[i].abbr));mixedPieces.push(regexEscape(eras[i].narrow))}this._erasRegex=new RegExp("^("+mixedPieces.join("|")+")","i");this._erasNameRegex=new RegExp("^("+namePieces.join("|")+")","i");this._erasAbbrRegex=new RegExp("^("+abbrPieces.join("|")+")","i");this._erasNarrowRegex=new RegExp("^("+narrowPieces.join("|")+")","i")}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100});addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100});function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter)}addWeekYearFormatToken("gggg","weekYear");addWeekYearFormatToken("ggggg","weekYear");addWeekYearFormatToken("GGGG","isoWeekYear");addWeekYearFormatToken("GGGGG","isoWeekYear");addUnitAlias("weekYear","gg");addUnitAlias("isoWeekYear","GG");addUnitPriority("weekYear",1);addUnitPriority("isoWeekYear",1);addRegexToken("G",matchSigned);addRegexToken("g",matchSigned);addRegexToken("GG",match1to2,match2);addRegexToken("gg",match1to2,match2);addRegexToken("GGGG",match1to4,match4);addRegexToken("gggg",match1to4,match4);addRegexToken("GGGGG",match1to6,match6);addRegexToken("ggggg",match1to6,match6);addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(input,week,config,token){week[token.substr(0,2)]=toInt(input)});addWeekParseToken(["gg","GG"],function(input,week,config,token){week[token]=hooks.parseTwoDigitYear(input)});function getSetWeekYear(input){return getSetWeekYearHelper.call(this,input,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(input){return getSetWeekYearHelper.call(this,input,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getISOWeeksInISOWeekYear(){return weeksInYear(this.isoWeekYear(),1,4)}function getWeeksInYear(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)}function getWeeksInWeekYear(){var weekInfo=this.localeData()._week;return weeksInYear(this.weekYear(),weekInfo.dow,weekInfo.doy)}function getSetWeekYearHelper(input,week,weekday,dow,doy){var weeksTarget;if(input==null){return weekOfYear(this,dow,doy).year}else{weeksTarget=weeksInYear(input,dow,doy);if(week>weeksTarget){week=weeksTarget}return setWeekAll.call(this,input,week,weekday,dow,doy)}}function setWeekAll(weekYear,week,weekday,dow,doy){var dayOfYearData=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),date=createUTCDate(dayOfYearData.year,0,dayOfYearData.dayOfYear);this.year(date.getUTCFullYear());this.month(date.getUTCMonth());this.date(date.getUTCDate());return this}addFormatToken("Q",0,"Qo","quarter");addUnitAlias("quarter","Q");addUnitPriority("quarter",7);addRegexToken("Q",match1);addParseToken("Q",function(input,array){array[MONTH]=(toInt(input)-1)*3});function getSetQuarter(input){return input==null?Math.ceil((this.month()+1)/3):this.month((input-1)*3+this.month()%3)}addFormatToken("D",["DD",2],"Do","date");addUnitAlias("date","D");addUnitPriority("date",9);addRegexToken("D",match1to2);addRegexToken("DD",match1to2,match2);addRegexToken("Do",function(isStrict,locale){return isStrict?locale._dayOfMonthOrdinalParse||locale._ordinalParse:locale._dayOfMonthOrdinalParseLenient});addParseToken(["D","DD"],DATE);addParseToken("Do",function(input,array){array[DATE]=toInt(input.match(match1to2)[0])});var getSetDayOfMonth=makeGetSet("Date",true);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear");addUnitAlias("dayOfYear","DDD");addUnitPriority("dayOfYear",4);addRegexToken("DDD",match1to3);addRegexToken("DDDD",match3);addParseToken(["DDD","DDDD"],function(input,array,config){config._dayOfYear=toInt(input)});function getSetDayOfYear(input){var dayOfYear=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return input==null?dayOfYear:this.add(input-dayOfYear,"d")}addFormatToken("m",["mm",2],0,"minute");addUnitAlias("minute","m");addUnitPriority("minute",14);addRegexToken("m",match1to2);addRegexToken("mm",match1to2,match2);addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",false);addFormatToken("s",["ss",2],0,"second");addUnitAlias("second","s");addUnitPriority("second",15);addRegexToken("s",match1to2);addRegexToken("ss",match1to2,match2);addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",false);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)});addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)});addFormatToken(0,["SSS",3],0,"millisecond");addFormatToken(0,["SSSS",4],0,function(){return this.millisecond()*10});addFormatToken(0,["SSSSS",5],0,function(){return this.millisecond()*100});addFormatToken(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});addFormatToken(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});addFormatToken(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});addFormatToken(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});addUnitAlias("millisecond","ms");addUnitPriority("millisecond",16);addRegexToken("S",match1to3,match1);addRegexToken("SS",match1to3,match2);addRegexToken("SSS",match1to3,match3);var token,getSetMillisecond;for(token="SSSS";token.length<=9;token+="S"){addRegexToken(token,matchUnsigned)}function parseMs(input,array){array[MILLISECOND]=toInt(("0."+input)*1e3)}for(token="S";token.length<=9;token+="S"){addParseToken(token,parseMs)}getSetMillisecond=makeGetSet("Milliseconds",false);addFormatToken("z",0,0,"zoneAbbr");addFormatToken("zz",0,0,"zoneName");function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}var proto=Moment.prototype;proto.add=add;proto.calendar=calendar$1;proto.clone=clone;proto.diff=diff;proto.endOf=endOf;proto.format=format;proto.from=from;proto.fromNow=fromNow;proto.to=to;proto.toNow=toNow;proto.get=stringGet;proto.invalidAt=invalidAt;proto.isAfter=isAfter;proto.isBefore=isBefore;proto.isBetween=isBetween;proto.isSame=isSame;proto.isSameOrAfter=isSameOrAfter;proto.isSameOrBefore=isSameOrBefore;proto.isValid=isValid$2;proto.lang=lang;proto.locale=locale;proto.localeData=localeData;proto.max=prototypeMax;proto.min=prototypeMin;proto.parsingFlags=parsingFlags;proto.set=stringSet;proto.startOf=startOf;proto.subtract=subtract;proto.toArray=toArray;proto.toObject=toObject;proto.toDate=toDate;proto.toISOString=toISOString;proto.inspect=inspect;if(typeof Symbol!=="undefined"&&Symbol.for!=null){proto[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}}proto.toJSON=toJSON;proto.toString=toString;proto.unix=unix;proto.valueOf=valueOf;proto.creationData=creationData;proto.eraName=getEraName;proto.eraNarrow=getEraNarrow;proto.eraAbbr=getEraAbbr;proto.eraYear=getEraYear;proto.year=getSetYear;proto.isLeapYear=getIsLeapYear;proto.weekYear=getSetWeekYear;proto.isoWeekYear=getSetISOWeekYear;proto.quarter=proto.quarters=getSetQuarter;proto.month=getSetMonth;proto.daysInMonth=getDaysInMonth;proto.week=proto.weeks=getSetWeek;proto.isoWeek=proto.isoWeeks=getSetISOWeek;proto.weeksInYear=getWeeksInYear;proto.weeksInWeekYear=getWeeksInWeekYear;proto.isoWeeksInYear=getISOWeeksInYear;proto.isoWeeksInISOWeekYear=getISOWeeksInISOWeekYear;proto.date=getSetDayOfMonth;proto.day=proto.days=getSetDayOfWeek;proto.weekday=getSetLocaleDayOfWeek;proto.isoWeekday=getSetISODayOfWeek;proto.dayOfYear=getSetDayOfYear;proto.hour=proto.hours=getSetHour;proto.minute=proto.minutes=getSetMinute;proto.second=proto.seconds=getSetSecond;proto.millisecond=proto.milliseconds=getSetMillisecond;proto.utcOffset=getSetOffset;proto.utc=setOffsetToUTC;proto.local=setOffsetToLocal;proto.parseZone=setOffsetToParsedOffset;proto.hasAlignedHourOffset=hasAlignedHourOffset;proto.isDST=isDaylightSavingTime;proto.isLocal=isLocal;proto.isUtcOffset=isUtcOffset;proto.isUtc=isUtc;proto.isUTC=isUtc;proto.zoneAbbr=getZoneAbbr;proto.zoneName=getZoneName;proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth);proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth);proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear);proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone);proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);function createUnix(input){return createLocal(input*1e3)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(string){return string}var proto$1=Locale.prototype;proto$1.calendar=calendar;proto$1.longDateFormat=longDateFormat;proto$1.invalidDate=invalidDate;proto$1.ordinal=ordinal;proto$1.preparse=preParsePostFormat;proto$1.postformat=preParsePostFormat;proto$1.relativeTime=relativeTime;proto$1.pastFuture=pastFuture;proto$1.set=set;proto$1.eras=localeEras;proto$1.erasParse=localeErasParse;proto$1.erasConvertYear=localeErasConvertYear;proto$1.erasAbbrRegex=erasAbbrRegex;proto$1.erasNameRegex=erasNameRegex;proto$1.erasNarrowRegex=erasNarrowRegex;proto$1.months=localeMonths;proto$1.monthsShort=localeMonthsShort;proto$1.monthsParse=localeMonthsParse;proto$1.monthsRegex=monthsRegex;proto$1.monthsShortRegex=monthsShortRegex;proto$1.week=localeWeek;proto$1.firstDayOfYear=localeFirstDayOfYear;proto$1.firstDayOfWeek=localeFirstDayOfWeek;proto$1.weekdays=localeWeekdays;proto$1.weekdaysMin=localeWeekdaysMin;proto$1.weekdaysShort=localeWeekdaysShort;proto$1.weekdaysParse=localeWeekdaysParse;proto$1.weekdaysRegex=weekdaysRegex;proto$1.weekdaysShortRegex=weekdaysShortRegex;proto$1.weekdaysMinRegex=weekdaysMinRegex;proto$1.isPM=localeIsPM;proto$1.meridiem=localeMeridiem;function get$1(format,index,field,setter){var locale=getLocale(),utc=createUTC().set(setter,index);return locale[field](utc,format)}function listMonthsImpl(format,index,field){if(isNumber(format)){index=format;format=undefined}format=format||"";if(index!=null){return get$1(format,index,field,"month")}var i,out=[];for(i=0;i<12;i++){out[i]=get$1(format,i,field,"month")}return out}function listWeekdaysImpl(localeSorted,format,index,field){if(typeof localeSorted==="boolean"){if(isNumber(format)){index=format;format=undefined}format=format||""}else{format=localeSorted;index=format;localeSorted=false;if(isNumber(format)){index=format;format=undefined}format=format||""}var locale=getLocale(),shift=localeSorted?locale._week.dow:0,i,out=[];if(index!=null){return get$1(format,(index+shift)%7,field,"day")}for(i=0;i<7;i++){out[i]=get$1(format,(i+shift)%7,field,"day")}return out}function listMonths(format,index){return listMonthsImpl(format,index,"months")}function listMonthsShort(format,index){return listMonthsImpl(format,index,"monthsShort")}function listWeekdays(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdays")}function listWeekdaysShort(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysShort")}function listWeekdaysMin(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysMin")}getSetGlobalLocale("en",{eras:[{since:"0001-01-01",until:+Infinity,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-Infinity,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=toInt(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return number+output}});hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale);hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs=Math.abs;function abs(){var data=this._data;this._milliseconds=mathAbs(this._milliseconds);this._days=mathAbs(this._days);this._months=mathAbs(this._months);data.milliseconds=mathAbs(data.milliseconds);data.seconds=mathAbs(data.seconds);data.minutes=mathAbs(data.minutes);data.hours=mathAbs(data.hours);data.months=mathAbs(data.months);data.years=mathAbs(data.years);return this}function addSubtract$1(duration,input,value,direction){var other=createDuration(input,value);duration._milliseconds+=direction*other._milliseconds;duration._days+=direction*other._days;duration._months+=direction*other._months;return duration._bubble()}function add$1(input,value){return addSubtract$1(this,input,value,1)}function subtract$1(input,value){return addSubtract$1(this,input,value,-1)}function absCeil(number){if(number<0){return Math.floor(number)}else{return Math.ceil(number)}}function bubble(){var milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data,seconds,minutes,hours,years,monthsFromDays;if(!(milliseconds>=0&&days>=0&&months>=0||milliseconds<=0&&days<=0&&months<=0)){milliseconds+=absCeil(monthsToDays(months)+days)*864e5;days=0;months=0}data.milliseconds=milliseconds%1e3;seconds=absFloor(milliseconds/1e3);data.seconds=seconds%60;minutes=absFloor(seconds/60);data.minutes=minutes%60;hours=absFloor(minutes/60);data.hours=hours%24;days+=absFloor(hours/24);monthsFromDays=absFloor(daysToMonths(days));months+=monthsFromDays;days-=absCeil(monthsToDays(monthsFromDays));years=absFloor(months/12);months%=12;data.days=days;data.months=months;data.years=years;return this}function daysToMonths(days){return days*4800/146097}function monthsToDays(months){return months*146097/4800}function as(units){if(!this.isValid()){return NaN}var days,months,milliseconds=this._milliseconds;units=normalizeUnits(units);if(units==="month"||units==="quarter"||units==="year"){days=this._days+milliseconds/864e5;months=this._months+daysToMonths(days);switch(units){case"month":return months;case"quarter":return months/3;case"year":return months/12}}else{days=this._days+Math.round(monthsToDays(this._months));switch(units){case"week":return days/7+milliseconds/6048e5;case"day":return days+milliseconds/864e5;case"hour":return days*24+milliseconds/36e5;case"minute":return days*1440+milliseconds/6e4;case"second":return days*86400+milliseconds/1e3;case"millisecond":return Math.floor(days*864e5)+milliseconds;default:throw new Error("Unknown unit "+units)}}}function valueOf$1(){if(!this.isValid()){return NaN}return this._milliseconds+this._days*864e5+this._months%12*2592e6+toInt(this._months/12)*31536e6}function makeAs(alias){return function(){return this.as(alias)}}var asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asQuarters=makeAs("Q"),asYears=makeAs("y");function clone$1(){return createDuration(this)}function get$2(units){units=normalizeUnits(units);return this.isValid()?this[units+"s"]():NaN}function makeGetter(name){return function(){return this.isValid()?this._data[name]:NaN}}var milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years");function weeks(){return absFloor(this.days()/7)}var round=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function relativeTime$1(posNegDuration,withoutSuffix,thresholds,locale){var duration=createDuration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),weeks=round(duration.as("w")),years=round(duration.as("y")),a=seconds<=thresholds.ss&&["s",seconds]||seconds<thresholds.s&&["ss",seconds]||minutes<=1&&["m"]||minutes<thresholds.m&&["mm",minutes]||hours<=1&&["h"]||hours<thresholds.h&&["hh",hours]||days<=1&&["d"]||days<thresholds.d&&["dd",days];if(thresholds.w!=null){a=a||weeks<=1&&["w"]||weeks<thresholds.w&&["ww",weeks]}a=a||months<=1&&["M"]||months<thresholds.M&&["MM",months]||years<=1&&["y"]||["yy",years];a[2]=withoutSuffix;a[3]=+posNegDuration>0;a[4]=locale;return substituteTimeAgo.apply(null,a)}function getSetRelativeTimeRounding(roundingFunction){if(roundingFunction===undefined){return round}if(typeof roundingFunction==="function"){round=roundingFunction;return true}return false}function getSetRelativeTimeThreshold(threshold,limit){if(thresholds[threshold]===undefined){return false}if(limit===undefined){return thresholds[threshold]}thresholds[threshold]=limit;if(threshold==="s"){thresholds.ss=limit-1}return true}function humanize(argWithSuffix,argThresholds){if(!this.isValid()){return this.localeData().invalidDate()}var withSuffix=false,th=thresholds,locale,output;if(typeof argWithSuffix==="object"){argThresholds=argWithSuffix;argWithSuffix=false}if(typeof argWithSuffix==="boolean"){withSuffix=argWithSuffix}if(typeof argThresholds==="object"){th=Object.assign({},thresholds,argThresholds);if(argThresholds.s!=null&&argThresholds.ss==null){th.ss=argThresholds.s-1}}locale=this.localeData();output=relativeTime$1(this,!withSuffix,th,locale);if(withSuffix){output=locale.pastFuture(+this,output)}return locale.postformat(output)}var abs$1=Math.abs;function sign(x){return(x>0)-(x<0)||+x}function toISOString$1(){if(!this.isValid()){return this.localeData().invalidDate()}var seconds=abs$1(this._milliseconds)/1e3,days=abs$1(this._days),months=abs$1(this._months),minutes,hours,years,s,total=this.asSeconds(),totalSign,ymSign,daysSign,hmsSign;if(!total){return"P0D"}minutes=absFloor(seconds/60);hours=absFloor(minutes/60);seconds%=60;minutes%=60;years=absFloor(months/12);months%=12;s=seconds?seconds.toFixed(3).replace(/\.?0+$/,""):"";totalSign=total<0?"-":"";ymSign=sign(this._months)!==sign(total)?"-":"";daysSign=sign(this._days)!==sign(total)?"-":"";hmsSign=sign(this._milliseconds)!==sign(total)?"-":"";return totalSign+"P"+(years?ymSign+years+"Y":"")+(months?ymSign+months+"M":"")+(days?daysSign+days+"D":"")+(hours||minutes||seconds?"T":"")+(hours?hmsSign+hours+"H":"")+(minutes?hmsSign+minutes+"M":"")+(seconds?hmsSign+s+"S":"")}var proto$2=Duration.prototype;proto$2.isValid=isValid$1;proto$2.abs=abs;proto$2.add=add$1;proto$2.subtract=subtract$1;proto$2.as=as;proto$2.asMilliseconds=asMilliseconds;proto$2.asSeconds=asSeconds;proto$2.asMinutes=asMinutes;proto$2.asHours=asHours;proto$2.asDays=asDays;proto$2.asWeeks=asWeeks;proto$2.asMonths=asMonths;proto$2.asQuarters=asQuarters;proto$2.asYears=asYears;proto$2.valueOf=valueOf$1;proto$2._bubble=bubble;proto$2.clone=clone$1;proto$2.get=get$2;proto$2.milliseconds=milliseconds;proto$2.seconds=seconds;proto$2.minutes=minutes;proto$2.hours=hours;proto$2.days=days;proto$2.weeks=weeks;proto$2.months=months;proto$2.years=years;proto$2.humanize=humanize;proto$2.toISOString=toISOString$1;proto$2.toString=toISOString$1;proto$2.toJSON=toISOString$1;proto$2.locale=locale;proto$2.localeData=localeData;proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1);proto$2.lang=lang;addFormatToken("X",0,0,"unix");addFormatToken("x",0,0,"valueOf");addRegexToken("x",matchSigned);addRegexToken("X",matchTimestamp);addParseToken("X",function(input,array,config){config._d=new Date(parseFloat(input)*1e3)});addParseToken("x",function(input,array,config){config._d=new Date(toInt(input))});hooks.version="2.29.3";setHookCallback(createLocal);hooks.fn=proto;hooks.min=min;hooks.max=max;hooks.now=now;hooks.utc=createUTC;hooks.unix=createUnix;hooks.months=listMonths;hooks.isDate=isDate;hooks.locale=getSetGlobalLocale;hooks.invalid=createInvalid;hooks.duration=createDuration;hooks.isMoment=isMoment;hooks.weekdays=listWeekdays;hooks.parseZone=createInZone;hooks.localeData=getLocale;hooks.isDuration=isDuration;hooks.monthsShort=listMonthsShort;hooks.weekdaysMin=listWeekdaysMin;hooks.defineLocale=defineLocale;hooks.updateLocale=updateLocale;hooks.locales=listLocales;hooks.weekdaysShort=listWeekdaysShort;hooks.normalizeUnits=normalizeUnits;hooks.relativeTimeRounding=getSetRelativeTimeRounding;hooks.relativeTimeThreshold=getSetRelativeTimeThreshold;hooks.calendarFormat=getCalendarFormat;hooks.prototype=proto;hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};return hooks})},{}],8:[function(require,module,exports){exports=module.exports={};exports.parse=function(_q,options){var q=_q;if(!options)options={};if(q.indexOf("/")===0){var lqpos=q.lastIndexOf("/");if(lqpos>0){var qflags=q.substr(lqpos+1);var flags="g";if(qflags.indexOf("i")>=0)flags+="i";if(qflags.indexOf("m")>=0)flags+="m";q=new RegExp(q.substr(1,lqpos-1),flags)}}else{var exp=exports.escape(q);if(options.multiWord){q=q.split(/[ ,]+/);for(var i=0;i<q.length;i++){q[i]=q[i].trim();if(!q[i]){q.splice(i,1);i--}}exp="";for(var j=0;j<q.length;j++){if(exp)exp+="|";exp+=exports.escape(q[j])}if(exp)exp="("+exp+")"}if(options.caseSensitive)q=new RegExp(exp,"g");else q=new RegExp(exp,"ig")}return q};exports.search=function(data,q,fpath){var rslt=[];var m=[];var mlen=[];var pos=-1;if(q instanceof RegExp){var rm=null;while(rm=q.exec(data)){m.push(rm.index);mlen.push(rm[0].length)}}else{while((pos=data.indexOf(q,pos+1))>=0){m.push(pos);mlen.push(q.length)}}if(m.length){var lineno=0;var line="";var i=0;var lastpos=-1;pos=-1;while(i<m.length){if(m[i]>pos){lineno++;lastpos=pos;pos=data.indexOf("\n",pos+1);if(pos==-1)pos=data.length-1;line=data.substr(lastpos+1,pos-lastpos)}else{line=ReplaceAll(line,"\r","");line=ReplaceAll(line,"\n","");line=ReplaceAll(line,"\t","  ");rslt.push({File:fpath,Line:lineno,Char:m[i]-(lastpos+1)+1,Len:mlen[i],Preview:line});i++}}}return rslt};exports.replace=function(data,q,val){if(!(q instanceof RegExp))q=exports.parse(q);return data.replace(q,val)};exports.numMatches=function(data,q){if(!(q instanceof RegExp))q=exports.parse(q);return(data.match(q)||[]).length};function ReplaceAll(val,find,replace){return val.split(find).join(replace)}exports.escape=function(q){return q.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}},{}],9:[function(require,module,exports){var $=require("./jquery-1.11.2");$.fn.$find=function(){return $.fn.find.apply(this,arguments)};var _=require("lodash");exports=module.exports=function(jsh){var XAPIForm=function(){};XAPIForm.base=function(){};XAPIForm.base.prototype.ExecuteURL=function(ExecParams,callback){if(ExecParams.model.indexOf("?")<=0&&ExecParams.url[ExecParams.url.length-1]!="/")ExecParams.url+="/";if(!callback)callback=function(errdata,rslt){};var _this=this;var url=ExecParams.url;if(!_.isEmpty(ExecParams.query))url+="?"+$.param(ExecParams.query);var loader=jsh.xLoader;if(jsh.xDialog.length)loader=jsh.xDialogLoader;if(loader)loader.StartLoading(_this);$.ajax({type:ExecParams.method.toUpperCase(),cache:false,url:url,data:ExecParams.post,async:ExecParams.async,dataType:"json",xhrFields:{withCredentials:true},success:function(rslt){if(loader)loader.StopLoading(_this);callback(null,rslt)},error:function(errdata){if(loader)loader.StopLoading(_this);callback(errdata,null)}})};XAPIForm.Static=function(modelid,dataset){this.modelid=jsh.XExt.resolveModelID(modelid);this.dataset=dataset;this.onSelect=function(action,actionrslt,keys){};this.onInsert=function(action,actionrslt,newrow){};this.onUpdate=function(action,actionrslt,keys,newdata){};this.onDelete=function(action,actionrslt,keys){}};XAPIForm.Static.prototype=new XAPIForm.base;XAPIForm.Static.prototype.getRowByKeys=function(keys){var _this=this;var rslt=_.filter(_this.dataset,function(row){for(var key in keys){var keyval=keys[key];if(jsh.XExt.isNullUndefined(keyval))keyval="";keyval=keyval.toString().toUpperCase();var rowval=row[key];if(jsh.XExt.isNullUndefined(rowval))rowval="";rowval=rowval.toString().toUpperCase();if(keyval!=rowval)return false}return true});if(rslt.length>1)throw new Error("Multiple rows ("+rslt.length+") match target key");else if(rslt.length==0)throw new Error("No rows match target key");else return rslt[0]};XAPIForm.Static.prototype.Execute=function(ExecParams,callback){var _this=this;if(ExecParams.url)return this.ExecuteURL(ExecParams,callback);function genError(err){return JSON.stringify({_error:{Number:-99999,Message:err.toString()}})}var model=jsh.XModels[this.modelid];function parsePost(data){var rslt={};if(data&&!_.isString(data))return data;if(data)rslt=jsh.XExt.parseGET(data);return rslt}var actions=[];var isTransaction=false;if(ExecParams.model=="_transaction"){isTransaction=true;try{var post=parsePost(ExecParams.post);if(post.data)actions=JSON.parse(post.data)}catch(ex){return callback(genError(ex),null)}}else{actions.push({method:ExecParams.method,model:ExecParams.model,query:ExecParams.query,post:ExecParams.post})}var rslt={_stats:{}};for(var i=0;i<actions.length;i++){try{var action=actions[i];action.query=parsePost(action.query);action.post=parsePost(action.post);var method=(action.method||"").toString().toUpperCase();if(action.model!=_this.modelid)throw new Error("Invalid model for static API call: "+(action.model||""));var actionrslt=null;if(method=="GET"){(function(){if(_.isEmpty(action.query))throw new Error("Empty query parameter in GET request - keys required");if(!_.isEmpty(action.post))throw new Error("Invalid post parameters in GET request - should be empty");actionrslt={_stats:{}};actionrslt[_this.modelid]=null;actionrslt._stats[_this.modelid]={warnings:[],notices:[]};if(model&&model.title){actionrslt._title=model.title;actionrslt._stats._title={}}var keys=action.query;if(_this.onSelect(action,actionrslt,keys)!==false){var row=_this.getRowByKeys(keys);actionrslt[_this.modelid]=row}})()}else if(method=="PUT"){(function(){if(!_.isEmpty(action.query))throw new Error("Invalid query parameters in PUT request - should be empty");if(_.isEmpty(action.post))throw new Error("Empty post parameter in PUT request - new data required");var newrow=action.post;actionrslt={_stats:{}};actionrslt[_this.modelid]=null;actionrslt._stats[_this.modelid]={warnings:[],notices:[]};if(_this.onInsert(action,actionrslt,newrow)!==false){if(model){_.each(model.fields,function(field){if(field.key&&!(field.name in newrow))newrow[field.name]=null})}_this.dataset.push(newrow)}})()}else if(method=="POST"){(function(){if(_.isEmpty(action.query))throw new Error("Empty query parameter in POST request - keys required");if(_.isEmpty(action.post))throw new Error("Empty post parameter in POST request - updated data required");actionrslt={_stats:{}};actionrslt[_this.modelid]=null;actionrslt._stats[_this.modelid]={warnings:[],notices:[]};var keys=action.query;var newdata=action.post;if(_this.onUpdate(action,actionrslt,keys,newdata)!==false){var row=_this.getRowByKeys(keys);for(var key in newdata)row[key]=newdata[key];actionrslt[_this.modelid]={xrowcount:1}}})()}else if(method=="DELETE"){(function(){if(_.isEmpty(action.query))throw new Error("Empty query parameter in GET request - keys required");if(!_.isEmpty(action.post))throw new Error("Invalid post parameters in DELETE request - should be empty");actionrslt={_stats:{}};actionrslt[_this.modelid]=null;actionrslt._stats[_this.modelid]={warnings:[],notices:[]};var keys=action.query;if(_this.onDelete(action,actionrslt,keys)!==false){var row=_this.getRowByKeys(keys);var deleted=false;for(var j=0;j<_this.dataset.length;j++){if(_this.dataset[j]===row){_this.dataset.splice(j,1);deleted=true;break}}if(!deleted)throw new Error("Target row for delete operation not found");actionrslt[_this.modelid]={xrowcount:1}}})()}else throw new Error("Invalid method: "+method)}catch(ex){return callback(genError(ex),null)}if(isTransaction){var transIdx=i+1;for(var key in actionrslt){if(key=="_stats"){for(var statskey in actionrslt._stats){rslt._stats[transIdx+"_"+statskey]=actionrslt._stats[statskey]}}else rslt[transIdx+"_"+key]=actionrslt[key]}}}rslt._success=true;setTimeout(function(){callback(null,rslt)},1)};XAPIForm.jsHarmony=function(modelid){this.modelid=jsh.XExt.resolveModelID(modelid)};XAPIForm.jsHarmony.prototype=new XAPIForm.base;XAPIForm.jsHarmony.prototype.Execute=function(ExecParams,callback){if(!ExecParams.url){ExecParams.url=jsh._BASEURL+"_d/"+ExecParams.model}return this.ExecuteURL(ExecParams,callback)};return XAPIForm}},{"./jquery-1.11.2":27,lodash:34}],10:[function(require,module,exports){var $=require("./jquery-1.11.2");$.fn.$find=function(){return $.fn.find.apply(this,arguments)};var _=require("lodash");exports=module.exports=function(jsh){var XAPIGrid=function(){};XAPIGrid.base=function(){};XAPIGrid.base.HandleGenericError=function(errdata){var jerrdata={};try{jerrdata=JSON.parse(errdata)}catch(ex){}if(jerrdata instanceof Object&&"_error"in jerrdata){if(jsh.DefaultErrorHandler(jerrdata._error.Number,jerrdata._error.Message)){}else if(jerrdata._error.Number==-9||jerrdata._error.Number==-5){jsh.XExt.Alert(jerrdata._error.Message)}else{jsh.XExt.Alert("Error #"+jerrdata._error.Number+": "+jerrdata._error.Message)}return}if("status"in errdata&&errdata.status=="404"){jsh.XExt.Alert("(404) The requested page was not found.")}else if(jsh._show_system_errors){var errmsg=errdata.toString();if(errdata.responseText)errmsg=errdata.responseText;jsh.XExt.Alert("An error has occurred: "+errmsg)}else jsh.XExt.Alert("An error has occurred.  If the problem continues, please contact the system administrator for assistance.")};XAPIGrid.Static=function(modelid,dataset){this.modelid=jsh.XExt.resolveModelID(modelid);this.dataset=dataset||[]};XAPIGrid.Static.prototype=new XAPIGrid.base;XAPIGrid.rowFilter=function(row,d){if(!row)return false;if(!d)return true;for(var key in d){if(jsh.XExt.isNullUndefined(row[key])&&jsh.XExt.isNullUndefined(d[key]))continue;if(jsh.XExt.isNullUndefined(row[key])||jsh.XExt.isNullUndefined(d[key]))return false;if(row[key].toString().toUpperCase()!=d[key].toString().toUpperCase())return false}return true};XAPIGrid.rowSearchMatch=function(model,row,searchjson){if(!row)return false;if(!searchjson||!searchjson.length)return true;var exprslt=[];var i=0;for(i=0;i<searchjson.length;i++){var exp=searchjson[i];if(!exp.Column){exprslt.push(null);continue}var vals=null;var val=null;if(exp.Column=="ALL"){vals=[];var keys=[];if(model)keys=_.map(model.fields,function(field){return field.name})||[];else keys=_.keys(jsh.XExt.XModel.GetOwnFields(row));_.each(keys,function(key){val=row[key];if(model)val=jsh.XExt.getTypedFieldValue(jsh.XExt.getFieldByName(model,key),val);vals.push(val)})}else{val=row[exp.Column];if(model)val=jsh.XExt.getTypedFieldValue(jsh.XExt.getFieldByName(model,exp.Column),val);vals=[val]}var cmprslt=false;if(!_.includes(["null","notnull","contains","notcontains","=","<>","beginswith","endswith",">","<",">=","<="],exp.Comparison)){exprslt.push(null);continue}for(var j=0;j<vals.length;j++){val=vals[j];var cmpval=exp.Value;if(exp.Comparison=="null"){if(jsh.XExt.isNullUndefinedEmpty(val))cmprslt=true}else if(exp.Comparison=="notnull"){if(!jsh.XExt.isNullUndefinedEmpty(val))cmprslt=true}else if(jsh.XExt.isNullUndefinedEmpty(cmpval))cmprslt=true;else if(jsh.XExt.isNullUndefined(val))cmprslt=false;else{if(jsh.XExt.isNullUndefined(cmpval))cmpval="";if(jsh.XExt.isNullUndefined(val))val="";var cmpvalstr=cmpval.toString().toUpperCase();var valstr=val.toString().toUpperCase();if(exp.Comparison=="contains"){if(valstr.indexOf(cmpvalstr)>=0)cmprslt=true}else if(exp.Comparison=="notcontains"){if(valstr.indexOf(cmpvalstr)<0)cmprslt=true}else if(exp.Comparison=="beginswith"){if(jsh.XExt.beginsWith(valstr,cmpvalstr))cmprslt=true}else if(exp.Comparison=="endswith"){if(jsh.XExt.endsWith(valstr,cmpvalstr))cmprslt=true}else{if(_.isString(val)){cmpval=cmpvalstr;val=valstr}else if(_.isNumber(val))cmpval=Number(cmpval);else if(_.isBoolean(val))cmpval=jsh.XFormat.bool_decode(cmpval);else if(_.isDate(val)){if(!cmpval)continue;cmpval=new Date(jsh.XFormat.date_decode(null,cmpval));val=val.getTime();cmpval=cmpval.getTime()}if(exp.Comparison=="="){if(val==cmpval)cmprslt=true}else if(exp.Comparison=="<>"){if(val!=cmpval)cmprslt=true}else if(exp.Comparison==">"){if(val>cmpval)cmprslt=true}else if(exp.Comparison=="<"){if(val<cmpval)cmprslt=true}else if(exp.Comparison==">="){if(val>=cmpval)cmprslt=true}else if(exp.Comparison=="<="){if(val<=cmpval)cmprslt=true}}}}exprslt.push(cmprslt)}for(i=searchjson.length-1;i>0;i--){if(searchjson[i].Join=="and"){if(exprslt[i-1]===null&&exprslt[i]!==null){exprslt[i-1]=exprslt[i]}else if(exprslt[i-1]===null&&exprslt[i]===null){}else exprslt[i-1]=exprslt[i-1]&&exprslt[i];exprslt.splice(i,1)}}for(i=0;i<exprslt.length;i++){if(exprslt[i]===true)return true}return false};XAPIGrid.rowSort=function(model,_sort){var sort=[];if(_sort&&_sort.length)for(var i=0;i<_sort.length;i++){var sortexp=_sort[i];if(!sortexp||sortexp.length<2)continue;var sortdir=sortexp[0];var sortcol=sortexp.substr(1);sort.push({dir:sortdir,col:sortcol,field:jsh.XExt.getFieldByName(model,sortcol)})}return function(row1,row2){if(!row1&&!row2)return 0;if(!row1)return-1;if(!row2)return 1;for(var i=0;i<sort.length;i++){var sortexp=sort[i];var col1=row1[sortexp.col];var col2=row2[sortexp.col];if(sortexp.field){col1=jsh.XExt.getTypedFieldValue(sortexp.field,col1);col2=jsh.XExt.getTypedFieldValue(sortexp.field,col2)}if(_.isString(col1))col1=col1.toUpperCase();if(_.isString(col2))col2=col2.toUpperCase();if(sortexp.dir=="^"){if(col1<col2)return-1;if(col2<col1)return 1}else{if(col1<col2)return 1;if(col2<col1)return-1}}return 0}};XAPIGrid.Static.prototype.Select=function(params,callback){params=_.extend({rowstart:0,rowcount:0,sort:JSON.stringify([]),searchjson:undefined,d:undefined,meta:undefined,getcount:undefined},params);if(!callback)callback=function(err,rslt){};function genError(err){return JSON.stringify({_error:{Number:-99999,Message:err.toString()}})}var model=jsh.XModels[this.modelid];if(!params.rowcount){if(model&&"rowlimit"in model)params.rowcount=model.rowlimit}if(params.searchjson){try{params.searchjson=JSON.parse(params.searchjson)}catch(ex){return callback(genError(ex),null)}}if(params.sort){try{params.sort=JSON.parse(params.sort)}catch(ex){return callback(genError(ex),null)}}if(params.d){try{params.d=JSON.parse(params.d)}catch(ex){return callback(genError(ex),null)}}params.d=params.d||{};var resultset=[].concat(this.dataset);resultset=_.filter(resultset,function(row){return XAPIGrid.rowFilter(row,params.d)});resultset=_.filter(resultset,function(row){return XAPIGrid.rowSearchMatch(model,row,params.searchjson)});if(params.sort)resultset.sort(XAPIGrid.rowSort(model,params.sort));var fullcount=resultset.length;var eof=true;if(params.rowcount>0){resultset=resultset.slice(params.rowstart,params.rowstart+params.rowcount);eof=params.rowstart+params.rowcount>=fullcount}var rslt={_success:1,_stats:{}};if(params.meta){rslt._defaults={};rslt._stats._defaults={};if(model&&model.title){rslt._title=model.title;rslt._stats._title={}}}rslt[this.modelid]=resultset;rslt._stats[this.modelid]={warnings:[],notices:[]};rslt["_eof_"+this.modelid]=eof;var getcount=params.rowcount==-1||params.getcount;if(getcount){rslt["_count_"+this.modelid]=fullcount;rslt._stats["_count_"+this.modelid]={warnings:[],notices:[]}}return callback(null,rslt)};XAPIGrid.Static.prototype.ExportCSV=function(params,callback){jsh.XExt.Alert("Static Grid Data Adapter does not support CSV export")};XAPIGrid.jsHarmony=function(modelid){this.modelid=jsh.XExt.resolveModelID(modelid)};XAPIGrid.jsHarmony.prototype=new XAPIGrid.base;XAPIGrid.jsHarmony.prototype.Select=function(params,callback){params=_.extend({rowstart:0,rowcount:0,sort:JSON.stringify([]),searchjson:undefined,d:undefined,meta:undefined,getcount:undefined},params);if(!callback)callback=function(err,rslt){};$.ajax({type:"GET",cache:false,url:jsh._BASEURL+"_d/"+this.modelid+"/",data:params,dataType:"json",success:function(data){callback(null,data)},error:function(data){callback(data||{},null)}})};XAPIGrid.jsHarmony.prototype.ExportCSV=function(params,callback){var url=jsh._BASEURL+"_csv/"+this.modelid+"/?"+$.param(params);jsh.getFileProxy().prop("src",url);if(callback)callback()};return XAPIGrid}},{"./jquery-1.11.2":27,lodash:34}],11:[function(require,module,exports){exports=module.exports=function(jsh){var XAPI=function(){};XAPI.Form=require("./XAPI.Form.js")(jsh);XAPI.Grid=require("./XAPI.Grid.js")(jsh);return XAPI}},{"./XAPI.Form.js":9,"./XAPI.Grid.js":10}],12:[function(require,module,exports){var $=require("./jquery-1.11.2");$.fn.$find=function(){return $.fn.find.apply(this,arguments)};var _=require("lodash");exports=module.exports=function(jsh){function XBarcode(_Template,_Params){this.Template=_Template;this.Server=jsh.globalparams.barcode_server;if(_Params)this.Params=_Params;else this.Params={}}var XBarcode_Timer=null;function XBarcode_SetLoadEvents(onFail){XBarcode_Timer=setTimeout(function(){XBarcode_Timeout(onFail)},1e4)}function XBarcode_ClearLoadEvents(){jsh.xLoader.StopLoading(jsh.xfileuploadLoader);if(XBarcode_Timer){clearTimeout(XBarcode_Timer);XBarcode_Timer=null}}function XBarcode_Timeout(onFail){XBarcode_ClearLoadEvents();jsh.XExt.Alert("Print Failed: Could not connect to Barcode Print Server.",onFail)}XBarcode.prototype.Print=function(_Params,onComplete,onFail){var params={};if(_Params)params=_.extend(this.Params,_Params);var url=this.Server+"/print/"+this.Template+"/?"+$.param(params);XBarcode_ClearLoadEvents();XBarcode_SetLoadEvents(onFail);jsh.xLoader.StartLoading(jsh.xfileuploadLoader);$.ajax({cache:false,url:url,jsonp:"callback",dataType:"jsonp",complete:function(data){XBarcode_ClearLoadEvents();var jdata=data.responseJSON;if(jdata instanceof Object&&"_error"in jdata){if(jsh.DefaultErrorHandler(jdata._error.Number,jdata._error.Message)){}else if(jdata._error.Number==-9||jdata._error.Number==-5){jsh.XExt.Alert(jdata._error.Message)}else{jsh.XExt.Alert("Error #"+jdata._error.Number+": "+jdata._error.Message)}return}else if(jdata instanceof Object&&"_success"in jdata){if(onComplete)onComplete()}else{jsh.XExt.Alert("Error Printing Barcode: "+JSON.stringify(data.responseJSON?data.responseJSON:""),onFail)}},error:function(err){XBarcode_Timeout(onFail)}})};XBarcode.EnableScanner=function(jobj,onSuccess){if(typeof jobj.data("keydown_focus")!=="undefined")return;jobj.data("keydown_focus","");jobj.keydown(function(e){if(e.which==17&&e.ctrlKey||e.which==66&&e.ctrlKey||e.which==85&&e.ctrlKey){e.preventDefault();return}else if(e.keyCode==13){if(onSuccess)if(onSuccess.call(this)===false){e.preventDefault();e.stopImmediatePropagation();return}}jobj.data("keydown_focus","1")});jobj.blur(function(e){jobj.data("keydown_focus","")});jobj.keyup(function(e){if(jobj.data("keydown_focus")!="1")return})};return XBarcode}},{"./jquery-1.11.2":27,lodash:34}],13:[function(require,module,exports){var $=require("./jquery-1.11.2");$.fn.$find=function(){return $.fn.find.apply(this,arguments)};var _=require("lodash");exports=module.exports=function(jsh){var XDebugConsole=function(){this.isInitialized=false;this.SettingsCookieID="debugconsole";this.socket=null;this.socket_url=(window.location.protocol=="https:"?"wss:":"ws:")+"//"+window.location.hostname+":"+window.location.port+jsh._BASEURL+"_log";this.settings={};this.dock_positions=["bottom","right"];this.client_sources={client_requests:"Client Requests"};this.server_sources={webserver:"Web Server",system:"System",database:"Database",database_raw_sql:"Database Raw SQL",authentication:"Authentication"};this.all_sources=_.extend({},this.client_sources,this.server_sources);this.default_settings={running:0,minimized:0,dock:"bottom",sources:{client_requests:false,webserver:true,system:true,database:false,database_raw_sql:false,authentication:false},window_size:{width:500,height:300},settings_visible:true};this.saveSettingsTimer=null;this.init()};XDebugConsole.prototype.init=function(){this.loadSettings();this.saveSettings();this.createPanel();this.isInitialized=true;if(this.settings.running)this.start(true)};XDebugConsole.prototype.isRunning=function(){return jsh.dev&&this.settings&&this.settings.running};XDebugConsole.prototype.isMinimized=function(){return this.settings.minimized};XDebugConsole.prototype.loadSettings=function(){this.settings=jsh.XExt.GetSettingsCookie(this.SettingsCookieID)||{};this.settings=_.extend({},this.default_settings,this.settings)};XDebugConsole.prototype.saveSettings=function(options){options=_.extend({debounce:false},options);var _this=this;if(options.debouce){if(this.saveSettingsTimer)return;this.saveSettingsTimer=window.setTimeout(function(){_this.saveSettings(_.extend(options,{debounce:false}))});return}if(this.saveSettingsTimer){window.clearTimeout(this.saveSettingsTimer);this.saveSettingsTimer=null}try{jsh.XExt.SetSettingsCookie(this.SettingsCookieID,this.settings)}catch(ex){console.error(ex)}};XDebugConsole.prototype.getSourcesForWebSocket=function(){var sources=_.extend({},this.settings.sources);for(var client_source in this.client_sources){delete sources[client_source]}for(var k in sources){if(!sources[k])delete sources[k]}return sources};XDebugConsole.prototype.toggle=function(){if(this.isRunning())this.close();else this.start()};XDebugConsole.prototype.start=function(force){if(!force&&this.isRunning())return;this.settings.running=1;this.saveSettings();this.expandWindow();this.startWebSocketListener();this.bindXMLHttpRequestListener();this.saveSettings()};XDebugConsole.prototype.close=function(){this.settings.running=0;this.saveSettings();this.DebugDialog.hide();this.clear();if(this.isRunning()){this.endWebSocketListener();this.unbindXMLHttpRequestListener()}};XDebugConsole.prototype.onXMLHttpRequestLoad=function(event){if(this.settings.sources["client_requests"]&&this.settings.running){var t=new Date;var client_resp="";try{client_resp=JSON.stringify(JSON.parse(event.currentTarget.responseText),null,2)}catch(e){if(e instanceof SyntaxError){client_resp=event.currentTarget.responseText}}this.log(t.toLocaleString()+" - Client Request: "+decodeURIComponent(event.currentTarget.responseURL)+"<br>Client Response: "+client_resp)}};XDebugConsole.prototype.bindXMLHttpRequestListener=function(){if(!XMLHttpRequest.prototype._baseSend){var _this=this;XMLHttpRequest.prototype._baseSend=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(value){this.addEventListener("load",_this.onXMLHttpRequestLoad.bind(_this),false);this._baseSend(value)}}};XDebugConsole.prototype.unbindXMLHttpRequestListener=function(){if(XMLHttpRequest.prototype._baseSend){XMLHttpRequest.prototype.send=XMLHttpRequest.prototype._baseSend;delete XMLHttpRequest.prototype._baseSend}};XDebugConsole.prototype.startWebSocketListener=function(){var _this=this;if(!this.socket||typeof this.socket.readyState==="undefined"){this.socket=new WebSocket(this.socket_url);this.socket.onopen=function(e){_this.socket.send(JSON.stringify({setSettings:{sources:_this.getSourcesForWebSocket()}}));_this.socket.send(JSON.stringify({getHistory:true}))};this.socket.onclose=function(e){if(!e.wasClean){var t=new Date;_this.log('<span style="color: red;">'+t.toLocaleString()+" - "+" Can't connect to Web Socket (URL: "+XDebugConsole.socket_url+"; Code: "+e.code+") Will try to reconnect in 2 sec.</span>");_this.socket=null;setTimeout(function(){var t=new Date;_this.log('<span style="color: green;">'+t.toLocaleString()+" - "+"Trying to reconnect to Web Socket.</span>");if(!_this.settings.running)return;_this.startWebSocketListener()},2e3)}};this.socket.onmessage=function(e){try{var m=JSON.parse(e.data);var t=new Date(m.timestamp);_this.log('<span style="color: '+m.color+'">'+t.toLocaleString()+" - "+_this.all_sources[m.source]+": "+m.txt+"</span>")}catch(e){if(e instanceof SyntaxError){_this.log('<span style="color: red">Can\'t parse json. Error: '+e.message+"</span>")}else{throw e}}}}else{this.updateWebSocketSources()}};XDebugConsole.prototype.updateWebSocketSources=function(){var _this=this;if(this.socket&&typeof this.socket.readyState!=="undefined"){this.socket.send(JSON.stringify({setSettings:{sources:_this.getSourcesForWebSocket()}}))}};XDebugConsole.prototype.endWebSocketListener=function(){if(this.socket&&typeof this.socket.readyState!=="undefined"){this.socket.close();this.socket=null}};XDebugConsole.prototype.createPanel=function(){var _this=this;var settingsHtml="";for(var source_id in _this.all_sources){var obj_id="xdebugconsole_source_"+source_id;settingsHtml+='<label for="'+obj_id+'">'+'<input type="checkbox" class="xdebugconsole_source" id="'+obj_id+'" value="'+source_id+'"> '+_this.all_sources[source_id]+"</label>"}this.DebugDialog=jsh.$root(".xdebugconsole");this.DebugPanel=this.DebugDialog.$find(".debug-panel");this.DebugPanel.$find(".debug-settings").append($(settingsHtml));this.DebugPanelMin=this.DebugDialog.$find(".debug-panel-minimized");var checkboxes=this.DebugPanel.$find(".xdebugconsole_source");for(var i=0;i<checkboxes.length;i++){if(this.settings.sources[checkboxes[i].value]){$(checkboxes[i]).click()}}this.DebugDialog.hide().removeClass("visible");this.updatePanelLayout();jsh.XExt.makeResizableDiv(".debug-panel",[{selector:".xdebuginfo-body",correction_y:function(){return _this.getBodyHeight(0)},correction_x:function(){return _this.settings.dock=="bottom"?0:-3}},{selector:".xdebugconsole",correction_y:0,correction_x:0}],{onDragEnd:function(){_this.settings.window_size=_this.getWindowSize();_this.saveSettings()}});this.DebugPanel.on("click",".xdebugconsole_source",function(){var jobj=$(this);_this.settings.sources[jobj.val()]=!!jobj.prop("checked");_this.saveSettings();_this.updateWebSocketSources()});this.DebugDialog.$find(".controls i").on("click",function(){var action=$(this).data("action");if(action&&_this[action])_this[action]()})};XDebugConsole.prototype.getWindowSize=function(){var width=$(".debug-panel").width();var height=$(".debug-panel").height();if(this.settings.dock=="bottom")return{height:height};return{width:width,height:height}};XDebugConsole.prototype.getBodyHeight=function(baseHeight){return baseHeight-31-(this.settings.settings_visible?this.DebugPanel.$find(".debug-settings").outerHeight():0)};XDebugConsole.prototype.setWindowSize=function(size){if(!size)size={};if(!("width"in size))size.width=this.default_settings.window_size.width;if(!("height"in size))size.height=this.default_settings.window_size.height;if(this.settings.dock=="bottom"){$(".debug-panel").height(size.height);$(".xdebuginfo-body").height(this.getBodyHeight(size.height))}else if(this.settings.dock=="right"){$(".debug-panel").width(size.width);$(".debug-panel").height(size.height);$(".xdebuginfo-body").height(this.getBodyHeight(size.height))}};XDebugConsole.prototype.updatePanelLayout=function(){for(var i=0;i<this.dock_positions.length;i++){this.DebugDialog.removeClass(this.dock_positions[i])}this.DebugDialog.addClass(this.settings.dock);this.setWindowSize(this.settings.window_size);this.renderSettings()};XDebugConsole.prototype.renderSettings=function(){this.DebugPanel.$find(".debug-settings").toggle(!!this.settings.settings_visible)};XDebugConsole.prototype.toggleSettings=function(){this.settings.settings_visible=!this.settings.settings_visible;this.saveSettings();this.renderSettings()};XDebugConsole.prototype.minimizeWindow=function(){this.DebugPanel.hide();this.DebugPanelMin.show();this.DebugDialog.removeClass("visible");this.settings.minimized=1;this.saveSettings()};XDebugConsole.prototype.expandWindow=function(){this.DebugPanel.show();this.DebugPanelMin.hide();this.DebugDialog.show();this.DebugDialog.addClass("visible");this.settings.minimized=0;this.saveSettings()};XDebugConsole.prototype.dockRight=function(){this.settings.dock="right";this.updatePanelLayout();this.saveSettings()};XDebugConsole.prototype.dockBottom=function(){this.settings.dock="bottom";this.DebugPanel.attr("style",null);this.DebugPanel.show();this.DebugPanel.$find(".xdebuginfo-body").attr("style",null);this.updatePanelLayout();this.saveSettings()};XDebugConsole.prototype.clear=function(){this.DebugPanel.$find(".xdebuginfo-body").empty()};XDebugConsole.prototype.log=function(txt,clear){if(clear)this.clear();this.DebugPanel.$find(".xdebuginfo-body").prepend($('<div class="info-message">'+txt+"</div>"))};return XDebugConsole}},{"./jquery-1.11.2":27,lodash:34}],14:[function(require,module,exports){var $=require("./jquery-1.11.2");$.fn.$find=function(){return $.fn.find.apply(this,arguments)};var _=require("lodash");exports=module.exports=function(jsh){function XEditableGrid(options){options=_.extend({modelid:undefined,CommitLevel:"row",ValidationLevel:"row",DialogContainer:undefined},options);this.modelid=options.modelid;this.ErrorClass="xinputerror";this.CommitLevel=options.CommitLevel;this.ValidationLevel=options.ValidationLevel;this.DialogContainer=options.DialogContainer;this.CurrentCell=null;this.OnCellEnter=null;this.OnCellLeave=null;this.OnRowEnter=null;this.OnRowLeave=null;this.OnGridEnter=null;this.OnGridLeave=null;this.OnControlUpdate=null;this.OnValiding=null;this.OnCommit=null;this.IsDirty=null;this.GetDatasetRowID=null;this.OnCancelEdit=null;this.SaveBeforeUpdate=false;this.Init()}XEditableGrid.prototype.CellEnter=function(obj,e){this.DebugLog("Enter Cell "+$(obj).data("id"));this.CurrentCell=obj;if(this.OnCellEnter)this.OnCellEnter(obj,e)};XEditableGrid.prototype.CellLeave=function(oldobj,newobj,e){this.DebugLog("Leave Cell "+$(oldobj).data("id"));if(this.OnCellLeave)this.OnCellLeave(oldobj,e)};XEditableGrid.prototype.RowEnter=function(rowid){this.DebugLog("Enter Row "+rowid);if(this.OnRowEnter)this.OnRowEnter(rowid)};XEditableGrid.prototype.RowLeave=function(rowid){this.DebugLog("Leave Row "+rowid);if(this.OnRowLeave)this.OnRowLeave(rowid)};XEditableGrid.prototype.GridEnter=function(){this.DebugLog("Enter Grid");if(this.OnGridEnter)this.OnGridEnter()};XEditableGrid.prototype.GridLeave=function(oldobj){this.DebugLog("Leave Grid");this.CurrentCell=undefined;if(this.OnGridLeave)this.OnGridLeave(oldobj)};XEditableGrid.prototype.CellChange=function(oldobj,newobj,e){var oldrowid=-1;var newrowid=-1;if(oldobj){oldrowid=jsh.XExt.XModel.GetRowID(this.modelid,oldobj);this.CellLeave(oldobj,newobj,e)}if(newobj)newrowid=jsh.XExt.XModel.GetRowID(this.modelid,newobj);if(oldrowid!=newrowid){if(oldobj)this.RowLeave(oldrowid);if(newobj){if(!oldobj)this.GridEnter();this.RowEnter(newrowid)}else{this.GridLeave(oldobj)}}if(newobj){this.CellEnter(newobj,e)}};XEditableGrid.prototype.Init=function(){var _this=this;jsh.addFocusHandler(_this.DialogContainer,function(newobj){if(newobj&&newobj.tagName&&newobj.tagName.toUpperCase()=="BODY")newobj=null;if(jsh.xLoader.IsLoading){return}var newrowid=-1;var oldobj=_this.CurrentCell;if(!oldobj)return;if($.datepicker&&$.datepicker._datepickerShowing){if(newobj==$("body")[0])return;else if(jsh.$root(".ui-datepicker").has(newobj).length)return}if(newobj)newrowid=jsh.XExt.XModel.GetRowID(_this.modelid,newobj);if(newrowid>=0)return;_this.DebugLog("FocusHandler Triggered");_this.CellLeaving(oldobj,newobj,undefined,function(){_this.CellChange(_this.CurrentCell)})})};XEditableGrid.prototype.DebugLog=function(obj){if(jsh&&jsh._debug)console.log(obj)};XEditableGrid.prototype.ControlEnter=function(obj,e,onComplete){var _this=this;if(this.CurrentCell==obj){if(onComplete)onComplete();return}if(this.ErrorClass)if($(obj).hasClass(this.ErrorClass)){this.CurrentCell=obj;if(onComplete)onComplete();return}var immediate_result=this.ControlLeaving(obj,e,function(_immediate_result){_this.CellChange(_this.CurrentCell,obj,e);if(onComplete)onComplete();if(!_immediate_result){}},function(_immediate_result){if(_immediate_result){e.preventDefault();e.stopPropagation()}});if(!immediate_result){e.preventDefault();e.stopPropagation();window.setTimeout(function(){$(obj).blur()},1)}return};XEditableGrid.prototype.CheckboxUpdate=function(obj,e){var _this=this;if(this.ErrorClass)if($(obj).hasClass(this.ErrorClass)){this.CurrentCell=obj;return}var ischecked=obj.checked;obj.checked=!ischecked;$(obj).prop("disabled",true);var immediate_result=this.ControlLeaving(obj,e,function(){_this.CellChange(_this.CurrentCell,obj,e);$(obj).prop("disabled",false);obj.checked=ischecked;$(obj).focus();_this.ControlUpdate(obj,e);if(true&&_this.CommitLevel=="cell"){_this.ControlLeaving(obj,e)}},function(_immediate_result){$(obj).prop("disabled",false);if(_immediate_result){e.preventDefault();e.stopPropagation()}});if(!immediate_result){e.preventDefault();e.stopPropagation()}};XEditableGrid.prototype.ControlLeaving=function(newobj,e,onsuccess,oncancel){var rslt=this.CellLeaving(this.CurrentCell,newobj,e,onsuccess,oncancel);if(rslt===true)return true;else if(rslt===false)return true;return false};XEditableGrid.prototype.ControlUpdate=function(obj,e){this.DebugLog("Update "+$(obj).data("id"));if(this.OnControlUpdate)this.OnControlUpdate(obj,e)};XEditableGrid.prototype.ControlKeyDown=function(obj,e){if(e.keyCode==27){var rowid=-1;var obj_currentCell=this.CurrentCell;if(obj_currentCell)rowid=jsh.XExt.XModel.GetRowID(this.modelid,obj_currentCell);if(rowid<0)return;if(this.OnCancelEdit)this.OnCancelEdit(rowid,obj_currentCell)}};XEditableGrid.prototype.CellLeaving=function(oldobj,newobj,e,onsuccess,oncancel){if(!onsuccess)onsuccess=function(){};var oldrowid=-1;var newrowid=-1;if(oldobj)oldrowid=jsh.XExt.XModel.GetRowID(this.modelid,oldobj);if(newobj)newrowid=jsh.XExt.XModel.GetRowID(this.modelid,newobj);var rowchange=oldrowid!=newrowid;if(rowchange){if(oldrowid==-1&&newrowid>=0){if(newrowid===this.GetDatasetRowID()){onsuccess();return true}}}if(this.ValidationLevel=="cell"||this.CommitLevel=="cell"){if(this.OnValidating&&!this.OnValidating(oldrowid,oldobj)){if(oncancel)oncancel(true);return true}}else if(rowchange&&(this.ValidationLevel=="row"||this.CommitLevel=="row")){if(this.OnValidating&&!this.OnValidating(oldrowid,oldobj)){if(oncancel)oncancel(true);return true}}if(this.SaveBeforeUpdate&&(this.CommitLevel=="row"||this.CommitLevel=="cell")&&!oldobj&&rowchange&&(!this.IsDirty||!this.IsDirty())){if(jsh.XPage.GetChanges().length>0){jsh.XExt.Alert("Please save all changes before updating the grid.",function(){$(document.activeElement).blur()});if(oncancel)oncancel(true);return true}}if(this.IsDirty&&this.IsDirty()&&this.OnCommit&&(this.CommitLevel=="cell"||this.CommitLevel=="cell"&&(newrowid>=0&&newobj&&$(newobj).is(":checkbox"))||rowchange&&this.CommitLevel=="row")){if(newobj){jsh.queuedInputAction=new jsh.XExt.XInputAction(newobj)}else if(jsh.queuedInputAction&&!jsh.queuedInputAction.IsExpired()){}else jsh.queuedInputAction=null;jsh.ignorefocusHandler=true;window.setTimeout(function(){$(document.activeElement).blur();$(oldobj).focus();window.setTimeout(function(){jsh.ignorefocusHandler=false;if($(oldobj).data("datepicker"))$(oldobj).datepicker("hide")},1)},1);var onsuccess_override=function(){onsuccess(false);if(!newobj)$(document.activeElement).blur();else if(jsh.queuedInputAction){if(!jsh.queuedInputAction.IsExpired()){if(jsh.lastSquashedActionTime&&jsh.lastSquashedActionTime>jsh.queuedInputAction.tstamp){jsh.queuedInputAction.Exec()}else{var jobj=$(jsh.queuedInputAction.obj);if(jobj.is("input,select,textarea")||jobj.hasClass("xform_ctrl")){jsh.queuedInputAction.Exec()}}}jsh.queuedInputAction=null}};if(!this.OnCommit(oldrowid,oldobj,onsuccess_override,oncancel))return false}onsuccess();return true};XEditableGrid.prototype.IsContainerActive=function(){return this.DialogContainer==jsh.getTopDialogContainer()};XEditableGrid.prototype.SetFocus=function(obj,e,onComplete){if(!this.IsContainerActive())return;var containerobj=obj;if(!$(obj).hasClass("editable")){containerobj=null;if($(obj).hasClass("xtag_focusable")){containerobj=$(obj).closest(".xtagbox").next()[0]}else{var parentctrl=$(obj).closest(".xform_ctrl");if(parentctrl.length&&parentctrl.hasClass("editable")){containerobj=parentctrl[0]}}if(!containerobj)return}if(obj instanceof jsh.$)throw new Error("SetFocus obj must not be a jquery object");return this.ControlEnter(containerobj,e,function(){if(!e&&document.hasFocus&&document.hasFocus())$(obj).focus();if(onComplete)onComplete()})};XEditableGrid.prototype.BindRow=function(jobj,datarow){var _this=this;var modelid=_this.modelid;var xmodel=modelid?jsh.XModels[modelid]:null;var xfields=xmodel?xmodel.fields:[];jobj.$find(".xelem"+xmodel.class).each(function(){if(this.nodeName.toLowerCase()=="input"&&this.type.toLowerCase()=="hidden")return;var jobj=$(this);var classList=this.classList||[];if(!_.includes(classList,"checkbox")){if(_.includes(classList,"editable"))jobj.keyup(function(e){return _this.ControlUpdate(this,e)});jobj.focus(function(e){return _this.SetFocus(this,e)})}jobj.change(function(e){if(!$(this).hasClass("editable"))return;return _this.ControlUpdate(this,e)});if(_.includes(classList,"xtagbox_base")){jobj.on("input keyup",function(e){if(!$(this).hasClass("editable"))return;return _this.ControlUpdate(this,e)});jsh.XExt.TagBox_Focus(jobj.prev(),function(e){return _this.SetFocus(this,e)})}if(_.includes(classList,"editable"))if(_.includes(classList,"checkbox"))jobj.click(function(e){return _this.CheckboxUpdate(this,e)});if(_.includes(classList,"datepicker")&&_.includes(classList,"editable")){var ctrl=this;var dateformat=jsh.DEFAULT_DATEFORMAT;var fname=$(this).data("id");var xfield=xfields[fname];if(xfield&&xfield.controlparams&&xfield.controlparams.dateformat)dateformat=xfield.controlparams.dateformat;$(this).datepicker({changeMonth:true,changeYear:true,dateFormat:dateformat,duration:"",showAnim:"",onSelect:function(){jsh.ignorefocusHandler=true;window.setTimeout(function(){window.setTimeout(function(){$(ctrl).next(".datepicker_handle").focus();jsh.ignorefocusHandler=false;_this.ControlUpdate(ctrl)},1)},1)}})}});jobj.$find(".xelem"+xmodel.class+", .xlookup, .xtextzoom").keydown(function(e){return _this.ControlKeyDown(this,e)});jobj.$find(".xlookup,.xtextzoom").focus(function(e){var ctrl=$(this).prev()[0];return _this.SetFocus(ctrl,e)});if(datarow&&datarow._is_insert){jobj.$find(".xelem"+xmodel.class).each(function(){var jobj=$(this);if(!jobj.hasClass("editable"))return;jobj.addClass("updated");if(jobj.parent().hasClass("xform_checkbox_container"))jobj.parent().addClass("updated");if(jobj.hasClass("xtagbox_base"))jobj.prev().addClass("updated")})}};return XEditableGrid}},{"./jquery-1.11.2":27,lodash:34}],15:[function(require,module,exports){var $=require("./jquery-1.11.2");$.fn.$find=function(){return $.fn.find.apply(this,arguments)};var _=require("lodash");exports=module.exports=function(jsh){var XExtXModel=function(){};XExtXModel.GetRowID=function(modelid,obj){modelid=jsh.XExt.resolveModelID(modelid);var jobj=$(obj);var xmodel=jsh.XModels[modelid];var rslt=-1;if(jobj.hasClass("row_independent")){}else{var cur_row=jobj.closest(".xrow_"+xmodel.class);if(cur_row.length)rslt=cur_row.data("id")}return rslt};XExtXModel.OnRender=function(modelid){modelid=jsh.XExt.resolveModelID(modelid);return function(){var _this=this;var parentobj=jsh.root;if(this._jrow)parentobj=this._jrow;var xmodel=jsh.XModels[modelid];if(!xmodel)return;var isGrid=xmodel.layout=="grid";parentobj.$find(".xelem"+xmodel.class+".xform_ctrl.updated").removeClass("updated");if(xmodel.layout=="form-m"){if(xmodel.controller.form.Count()==0){jsh.$root(".xelem"+xmodel.class+".xnorecords").show();jsh.$root(".xelem"+xmodel.class+".xformcontainer").css("visibility","hidden")}else{jsh.$root(".xelem"+xmodel.class+".xnorecords").hide();jsh.$root(".xelem"+xmodel.class+".xformcontainer").css("visibility","visible")}}else if(xmodel.layout=="form"){if(!jsh.is_insert){if(xmodel.controller.form.Data._is_insert){jsh.$root(".xelem"+xmodel.class+".xnorecords").show();jsh.$root(".xelem"+xmodel.class+".xformcontainer").css("visibility","hidden")}else{jsh.$root(".xelem"+xmodel.class+".xnorecords").hide();jsh.$root(".xelem"+xmodel.class+".xformcontainer").css("visibility","visible")}}}if("_LOVs"in this){for(var _LOV in this._LOVs){var lovselector="."+_LOV+".xelem"+xmodel.class;if(isGrid)lovselector="."+_LOV+".xelem"+xmodel.class;var ctrl=parentobj.$find(lovselector);if("control"in this.Fields[_LOV]&&this.Fields[_LOV].control=="tree")jsh.XExt.TreeRender(ctrl,this._LOVs[_LOV],this.Fields[_LOV]);else if("lovparent"in this.Fields[_LOV])jsh.XExt.RenderParentLOV(_this,ctrl,[_this[this.Fields[_LOV].lovparent]],this._LOVs[_LOV],this.Fields[_LOV],false);else if("lovparents"in this.Fields[_LOV]){var parentvals=[];for(var i=0;i<this.Fields[_LOV].lovparents.length;i++){parentvals.push(_this[this.Fields[_LOV].lovparents[i]])}jsh.XExt.RenderParentLOV(_this,ctrl,parentvals,this._LOVs[_LOV],this.Fields[_LOV],true)}else jsh.XExt.RenderLOV(this,ctrl,this._LOVs[_LOV])}}_.each(this.Fields,function(field){if(field.control=="tagbox"){jsh.XExt.TagBox_Render(parentobj.$find("."+field.name+"_editor.xtagbox"+".xelem"+xmodel.class),parentobj.$find("."+field.name+".xelem"+xmodel.class))}XExtXModel.RenderField(_this,parentobj,modelid,field)});if(xmodel.layout=="form-m"){jsh.$root(".navtext_"+xmodel.class).html(xmodel.controller.form.Index+1+" of "+xmodel.controller.form.Count())}}};XExtXModel.SetFieldValue=function(xformdata,field,val){xformdata[field.name]=val;var parentobj=jsh.root;if(xformdata._jrow)parentobj=xformdata._jrow;XExtXModel.RenderField(xformdata,parentobj,xformdata._modelid,field,val)};XExtXModel.SetControlValue=function(xformdata,field,val){var parentobj=jsh.root;if(xformdata._jrow)parentobj=xformdata._jrow;var jctrl=XExtXModel.RenderField(xformdata,parentobj,xformdata._modelid,field,val,{updatePreviousValue:false});if(jctrl&&jctrl.length){jctrl.trigger("change");xformdata.OnControlUpdate(jctrl[0])}};XExtXModel.RenderField=function(_this,parentobj,modelid,field,val,options){if(!options)options={updatePreviousValue:true};modelid=jsh.XExt.resolveModelID(modelid);var xmodel=jsh.XModels[modelid];var isGrid=xmodel.layout=="grid";if(typeof val==="undefined"){val=_this[field.name]}var dataval=val;if(field.name in _this&&typeof val=="undefined")val="";else val=jsh.XFormat.Apply(field.format,val);if(options.updatePreviousValue)field._previous_value=dataval;var lovTxt="";if(field.showlovtxt){var lovTxtName="__"+jsh.uimap.code_txt+"__"+field.name;if(lovTxtName in _this){lovTxt=_this[lovTxtName]}else if(_this._LOVs&&field.name in _this._LOVs){lovTxt=jsh.XExt.getLOVTxt(_this._LOVs[field.name],val);if(!val&&typeof lovTxt=="undefined")lovTxt=""}if(lovTxtName in _this&&typeof lovTxt=="undefined")lovTxt="";else lovTxt=jsh.XFormat.Apply(field.format,lovTxt)}var fieldselector="."+field.name+".xelem"+xmodel.class;var jctrl=parentobj.$find(fieldselector);if(jsh.XExt.hasAction(field.actions,"BIU")&&_.includes(["html","label","linkbutton","button"],field.control)){var jctrl_hidden=parentobj.$find("."+field.name+"_field_value.xelem"+xmodel.class);jctrl_hidden.val(val)}if("control"in field&&(field.control=="file_upload"||field.control=="file_download"||field.control=="image")){var filefieldselector=".xelem"+xmodel.class+" ."+field.name;if(field.control=="image")filefieldselector=".xelem"+xmodel.class+"."+field.name;var jctrl_token=parentobj.$find(filefieldselector+"_token");var jctrl_dbdelete=parentobj.$find(filefieldselector+"_dbdelete");var jctrl_dbexists=parentobj.$find(filefieldselector+"_dbexists");var jctrl_thumbnail=parentobj.$find(filefieldselector+"_thumbnail");var file_token=jctrl_token.val();if(val===true){jctrl.removeClass("nodocument");jctrl_token.val("");jctrl_dbdelete.val("0");jctrl_dbexists.val("1");if(jctrl_thumbnail.length&&(field.control=="image"||field.controlparams.show_thumbnail)){var keys=xmodel.controller.form.GetKeys();if(xmodel.keys.length!=1){throw new Error("File models require one key.")}var download_thumb_url=jsh._BASEURL+"_dl/"+modelid+"/"+keys[xmodel.keys[0]]+"/"+field.name+"?view=1&_="+Date.now();if(field.controlparams.show_thumbnail)download_thumb_url+="&thumb="+field.controlparams.show_thumbnail;jctrl_thumbnail.attr("src",download_thumb_url).show();if(typeof field.controlparams.thumbnail_width!="undefined")jctrl_thumbnail.attr("width",field.controlparams.thumbnail_width+"px")}else jctrl_thumbnail.hide()}else if(val===false){jctrl.addClass("nodocument");jctrl_token.val("");jctrl_dbdelete.val("0");jctrl_dbexists.val("0")}else if(val===""){jctrl.addClass("nodocument");jctrl_token.val("");if(jctrl_dbexists.val()=="1")jctrl_dbdelete.val("1");else jctrl_dbdelete.val("0")}else if(_.isString(val)){jctrl.removeClass("nodocument");jctrl_token.val(val);jctrl_dbdelete.val("0");if(jctrl_thumbnail.length&&field.controlparams.show_thumbnail){var thumb_url=jsh._BASEURL+"_dl/_temp/"+file_token+"?view=1";jctrl_thumbnail.attr("src",thumb_url).show();if(typeof field.controlparams.thumbnail_width!="undefined")jctrl_thumbnail.attr("width",field.controlparams.thumbnail_width+"px")}else jctrl_thumbnail.hide()}}else if("control"in field&&field.control=="tree"){jsh.XExt.TreeSelectNode(jctrl,val,{triggerChange:false})}else if("control"in field&&field.control=="button"){}else if("control"in field&&field.control=="checkbox"){var checkval=false;var checkhidden=false;if(val==null||typeof val=="undefined")val="";if("controlparams"in field){if("value_hidden"in field.controlparams&&val.toString().toUpperCase()==field.controlparams.value_hidden.toString().toUpperCase())checkhidden=true;if("value_true"in field.controlparams&&val.toString().toUpperCase()==field.controlparams.value_true.toString().toUpperCase())checkval=true;else if("value_false"in field.controlparams&&val.toString().toUpperCase()==field.controlparams.value_false.toString().toUpperCase())checkval=false;else checkval=jsh.XFormat.bool_decode(val)}else checkval=jsh.XFormat.bool_decode(val);jctrl.prop("checked",checkval);if(checkhidden)jctrl.css("visibility","hidden");else if(checkhidden)jctrl.css("visibility","visible")}else if(jctrl.size()>0&&jctrl.hasClass("xform_label")){var showLabel=true;if(lovTxt)val=lovTxt;if(jctrl.hasClass("xform_label_static")){if(field.value&&field.value.indexOf("<#")>=0){var baseval=val;val=field.value;val=val.replace(/<#/g,"<"+"%").replace(/#>/g,"%"+">");val=jsh.XExt.renderEJS(val,modelid,{data:_this,val:baseval,obj:jctrl[0],enabled:jctrl.hasClass("editable")?true:jctrl.hasClass("uneditable")?false:null});jctrl.html(val);showLabel=!!val}}else{jctrl.html(jsh.XExt.escapeHTMLBR(val))}if(field.type&&jctrl.parent().hasClass("xform_link")){showLabel=showLabel&&!!dataval}jctrl.toggleClass("hidden",!showLabel)}else if(jctrl.size()>0&&jctrl.hasClass("xform_html")){if(lovTxt)val=lovTxt;if(val.indexOf("<#")>=0){val=val.replace(/<#/g,"<"+"%").replace(/#>/g,"%"+">");val=jsh.XExt.renderEJS(val,modelid,{data:_this,obj:jctrl[0],enabled:jctrl.hasClass("editable")?true:jctrl.hasClass("uneditable")?false:null})}jctrl.html(val);jctrl.toggleClass("hidden",!val)}else if(jctrl.size()>0&&String(jctrl.prop("nodeName")).toUpperCase()=="SELECT"){var lov_matches=jctrl.children("option").filter(function(){return String($(this).val()).toUpperCase()==String(val).toUpperCase()}).length;var has_lov=lov_matches>0;var has_parent="lovparent"in field||"lovparents"in field;var form_action=_this._is_insert?"I":"U";if(has_lov||!has_parent||!jsh.XExt.hasAction(field.actions,form_action)){if(!has_lov){var codtxt=_this["__"+jsh.uimap.code_txt+"__"+field.name];if(!codtxt)codtxt=val;jctrl.append($("<option>",{value:val}).text(codtxt))}jctrl.val(val)}}else if("control"in field&&field.control=="tagbox"){jctrl.val(val);jsh.XExt.TagBox_Refresh(parentobj.$find("."+field.name+"_editor.xtagbox"+".xelem"+xmodel.class),jctrl)}else{jctrl.val(val)}var ckeditorid=xmodel.class+"_"+field.name;if(typeof window.CKEDITOR!="undefined"&&ckeditorid in window.CKEDITOR.instances){window.CKEDITOR.instances[ckeditorid].setData(val)}var show_lookup_when_readonly=false;var action=_this._is_insert?"I":"U";if(xmodel.layout=="exec"||xmodel.layout=="report")action="B";var is_editable=jsh.XExt.hasAction(field.actions,action);if(is_editable&&!field.locked_by_querystring&&(action=="I"||(xmodel.layout=="exec"||xmodel.layout=="report"))){}else{if(is_editable&&"readonly"in field&&field.readonly)is_editable=false;if(_this._querystring_applied&&_.includes(_this._querystring_applied,field.name))is_editable=false;if(field.name in xmodel.binding_fields){var binding_val=xmodel.getBindingOrRootKey(field.name);if(typeof binding_val!="undefined"&&binding_val!==null&&binding_val!=="")is_editable=false}}if("always_editable"in field&&field.always_editable)is_editable=true;if(is_editable&&"controlparams"in field&&field.controlparams.base_readonly){is_editable=false;show_lookup_when_readonly=true}if(is_editable&&jctrl.hasClass("readonly"))is_editable=false;if(is_editable&&isGrid&&jctrl.closest("tr.xrow").hasClass("readonly"))is_editable=false;if(is_editable&&!jctrl.hasClass("editable")){jsh.XPage.Enable(jctrl,field)}else if(!is_editable&&!jctrl.hasClass("uneditable")){jsh.XPage.Disable(jctrl,field,show_lookup_when_readonly)}return jctrl};XExtXModel.OnControlUpdate=function(modelid){modelid=jsh.XExt.resolveModelID(modelid);return function(obj,e){var jobj=$(obj);var id=jsh.XExt.getFieldNameFromObject(obj);var _this=this;var field=this.Fields[id];if(field){if(!this._is_insert&&!field.unbound&&field.control!="tree"&&jsh.XExt.hasAction(field.actions,"IU")){if(this.HasUpdate(id)){if(!jobj.hasClass("updated")){jobj.addClass("updated");if(jobj.parent().hasClass("xform_checkbox_container"))jobj.parent().addClass("updated");if(field.control=="tagbox")jobj.prev().addClass("updated")}}else{if(jobj.hasClass("updated")){jobj.removeClass("updated");if(jobj.parent().hasClass("xform_checkbox_container"))jobj.parent().removeClass("updated");if(field.control=="tagbox")jobj.prev().removeClass("updated")}}}var oldval=field._previous_value;var newval=_this.GetValue(field);var firedUndo=false;var xmodel=jsh.XModels[modelid];if("onchange"in field||xmodel&&"onchange"in xmodel){var undoChange=function(){firedUndo=true;var xmodel=jsh.XModels[modelid];field._previous_value=oldval;xmodel.set(field.name,oldval,null)};if(!XExtXModel.StringEquals(oldval,newval)){if(field.onchange){var fieldEvent=new Function("obj","newval","undoChange","e",field.onchange);fieldEvent.call(_this,obj,newval,undoChange,e)}if(xmodel&&xmodel.onchange){xmodel.onchange.call(_this,obj,newval,e)}}}if(!firedUndo)field._previous_value=newval}}};XExtXModel.GetValues=function(){return function(perm){var _this=this;_.each(this.Fields,function(field){if(!jsh.XExt.hasAction(field.actions,perm))return;var newval=_this.GetValue(field);_this[field.name]=newval})}};XExtXModel.GetValue=function(modelid){modelid=jsh.XExt.resolveModelID(modelid);return function(field){var parentobj=jsh.root;if(this._jrow)parentobj=this._jrow;var xmodel=jsh.XModels[modelid];var isGrid=xmodel.layout=="grid";var fieldselector="."+field.name+".xelem"+xmodel.class;if(isGrid)fieldselector="."+field.name+".xelem"+xmodel.class;var jctrl=parentobj.$find(fieldselector);var val="";if("control"in field&&field.control=="file_upload"){var filefieldselector=".xelem"+xmodel.class+" ."+field.name;if(isGrid)filefieldselector=".xelem"+xmodel.class+" ."+field.name;var jctrl_token=parentobj.$find(filefieldselector+"_token");var jctrl_dbdelete=parentobj.$find(filefieldselector+"_dbdelete");var jctrl_dbexists=parentobj.$find(filefieldselector+"_dbexists");var file_token=jctrl_token.val();if(file_token)val=file_token;else if(jctrl_dbdelete.val()=="1")val="";else if(jctrl_dbexists.val()=="1")val=true;else val=false}else if("control"in field&&field.control=="tree"){if(jctrl.length){var selected_nodes=jsh.XExt.TreeGetSelectedNodes(jctrl[0]);if(selected_nodes.length>0)val=selected_nodes[0];else val=null}else val=null}else if("control"in field&&field.control=="checkbox"){var checked=jctrl.prop("checked");var ishidden=jctrl.css("visibility").toLowerCase()=="hidden";var checkval=checked?"1":"0";if("controlparams"in field){if(ishidden&&"value_hidden"in field.controlparams)checkval=field.controlparams.value_hidden;else if(checked&&"value_true"in field.controlparams)checkval=field.controlparams.value_true;else if(!checked&&"value_false"in field.controlparams)checkval=field.controlparams.value_false}val=checkval}else{val=jctrl.val();if(_.includes(["html","label","linkbutton","button"],field.control)){var jctrl_hidden=parentobj.$find("."+field.name+"_field_value.xelem"+xmodel.class);val=jctrl_hidden.val()}if(typeof val==="undefined")val="";var ckeditorid=xmodel.class+"_"+field.name;if(typeof window.CKEDITOR!="undefined"&&ckeditorid in window.CKEDITOR.instances){val=window.CKEDITOR.instances[ckeditorid].getData();val=jsh.XExt.ReplaceAll(val,"&lt;%","<"+"%");val=jsh.XExt.ReplaceAll(val,"%&gt;","%"+">");val=jsh.XExt.ReplaceAll(val,"&#39;","'");val=jsh.XExt.ReplaceAll(val,"&quot;",'"')}}if(xmodel.bindings&&field.name in xmodel.bindings){var binding_val=xmodel.bindings[field.name]();if(!val||typeof binding_val!="undefined"&&binding_val!==null&&binding_val!=="")val=binding_val}if(field.ongetvalue)val=field.ongetvalue(val,field,xmodel,jctrl,parentobj);if("format"in field){val=jsh.XFormat.Decode(field.format,val)}return val}};XExtXModel.HasUpdates=function(){return function(){if(jsh.XModels[this._modelid].layout=="exec")return false;if(jsh.XModels[this._modelid].layout=="report")return false;var _this=this;if(this._is_insert){return true}var action=this._is_insert?"I":"U";var hasUpdates=false;_.each(this.Fields,function(field){if(!jsh.XExt.hasAction(field.actions,action))return;if(field.unbound)return;if(_this.HasUpdate(field.name)){hasUpdates=true}});return hasUpdates}};XExtXModel.StringEquals=function(a,b){if(typeof a==="undefined")a="";if(a===null)a="";if(typeof b==="undefined")b="";if(b===null)b="";if(a!=b){a=jsh.XExt.ReplaceAll(a.toString(),"\r\n","\n");b=jsh.XExt.ReplaceAll(b.toString(),"\r\n","\n");if(a==b)return true;return false}return true};XExtXModel.HasUpdate=function(){return function(id){if(jsh.XModels[this._modelid].layout=="exec")return false;if(jsh.XModels[this._modelid].layout=="report")return false;var field=this.Fields[id];if(!field)return false;var oldval=this[id];oldval=jsh.XFormat.Decode(field.format,oldval);var newval=this.GetValue(field);if(!XExtXModel.StringEquals(oldval,newval)){if(jsh&&jsh._debug){console.log(id+" Old: "+oldval);console.log(id+" New: "+newval)}return true}return false}};XExtXModel.Commit=function(xmodel){return function(perm){if(xmodel.layout=="form-m"||xmodel.layout=="grid"){if(xmodel.controller.form.Count()==0)return true}var action=this._is_insert?"I":"U";if(xmodel.layout=="exec"||xmodel.layout=="report")action="B";if(this.HasUpdates()){if(!this._is_dirty){this._orig=XExtXModel.GetOwnFields(this);this._is_dirty=true}}this.GetValues(action);var _xvalidate=xmodel.datamodel.prototype.xvalidate;if(_xvalidate){this.xvalidate=_xvalidate;var valid=xmodel.controller.form.Validate(action);delete this.xvalidate;if(!valid)return false}xmodel.saveUnboundFields(this);return true}};XExtXModel.GetOwnFields=function(val){var rslt={};_.forOwn(val,function(val,key){if(key=="_LOVs")return;if(key=="_defaults")return;if(key=="_title")return;if(key=="_bcrumbs")return;if(key=="_is_insert")return;if(key=="_is_dirty")return;if(key=="_is_deleted")return;if(key=="_orig")return;if(key=="_jrow")return;if(key=="_modelid")return;if(key=="_readonly")return;rslt[key]=val});return rslt};XExtXModel.BindLOV=function(modelid){modelid=jsh.XExt.resolveModelID(modelid);return function(xform,parentobj){if(!parentobj)parentobj=jsh.root;var xmodel=jsh.XModels[modelid];if(!xmodel)return;var isGrid=xmodel.layout=="grid";_.each(this.Fields,function(field){if(!("control"in field))return;if(field.control=="subform")return;if(field.control=="dropdown"){var lovparents=[];var lovparents_selector="";var lovparents_val="";if(field.lovparent)lovparents=[field.lovparent];else if(field.lovparents)lovparents=field.lovparents;if(lovparents.length==0)return;for(var i=0;i<lovparents.length;i++){var curselector=(isGrid?".":".")+lovparents[i]+".xelem"+xmodel.class;lovparents_selector+=(i>0?",":"")+curselector;lovparents_val+='parentvals.push(parentobj.find("'+curselector+'").val()); '}parentobj.$find(lovparents_selector).change(function(evt){var parentvals=[];var ctrl=parentobj.$find((isGrid?".":".")+field.name+".xelem"+xmodel.class);jsh.XExt.JSEval(lovparents_val,this,{parentvals:parentvals,parentobj:parentobj,xform:xform,modelid:modelid});jsh.XExt.RenderParentLOV(xform.Data,ctrl,parentvals,xform.Data._LOVs[field.name],xform.Data.Fields[field.name],"lovparents"in field)})}})}};XExtXModel.ParseDefault=function(dflt,jslocals){if(_.isString(dflt)&&dflt.substr(0,3)=="js:"){return"function(data){"+jslocals+"return "+dflt.substr(3)+";}"}return JSON.stringify(dflt)};XExtXModel.ApplyDefaults=function(xformdata){if(!("_querystring_applied"in xformdata))xformdata._querystring_applied=[];for(var fname in xformdata.Fields){if(fname in jsh._GET&&jsh._GET[fname]&&jsh.XExt.isFieldTopmost(xformdata._modelid,fname)){xformdata[fname]=jsh._GET[fname];xformdata._querystring_applied.push(fname)}}};XExtXModel.XController=function(xmodel){this.xmodel=xmodel;this.form=undefined;this.grid=undefined};XExtXModel.XController.prototype.Select=function(onDone){if(this.grid)return this.grid.Select(onDone);else if(this.form)return this.form.Select(onDone)};XExtXModel.XController.prototype.HasUpdates=function(){if(this.grid)return this.grid.HasUpdates();else if(this.form)return this.form.HasUpdates()};XExtXModel.XController.prototype.HasBreadCrumbs=function(){if(this.grid)return"bcrumbs"in this.grid;else if(this.form)return"bcrumbs"in this.form};XExtXModel.XController.prototype.GetBreadCrumbs=function(){if(this.grid)return this.grid.bcrumbs;else if(this.form)return this.form.bcrumbs};XExtXModel.XController.prototype.HasTitle=function(){if(this.grid)return"title"in this.grid;else if(this.form)return"title"in this.form};XExtXModel.XController.prototype.GetTitle=function(){if(this.grid)return this.grid.title;else if(this.form)return this.form.title};XExtXModel.XField=function(props){this._previous_value=undefined;for(var prop in props)this[prop]=props[prop]};XExtXModel.XField.prototype.hasDefault=function(){if("default"in this)return true;return false};XExtXModel.XField.prototype.getDefault=function(data){if("default"in this){if(_.isFunction(this.default))return this.default(data);return this.default}return undefined};return XExtXModel}},{"./jquery-1.11.2":27,lodash:34}],16:[function(require,module,exports){var $=require("./jquery-1.11.2");$.fn.$find=function(){return $.fn.find.apply(this,arguments)};var _=require("lodash");exports=module.exports=function(jsh){var XValidate=jsh.XValidate;var XExt=function(){};XExt.XModel=require("./XExt.XModel.js")(jsh);XExt.COOKIE_MAX_EXPIRATION=2147483647;XExt.DOUBLECLICK_TIMEOUT=500;XExt.ejsDelimiter={open:"<%",close:"%>"};XExt.parseGET=function(qs){if(typeof qs=="undefined")qs=window.location.search;if(qs==""||qs.length==1)return{};if(qs[0]=="?"||qs[0]=="#")qs=qs.substr(1);var qsa=qs.split("&");var b={};for(var i=0;i<qsa.length;i++){var p=qsa[i].split("=",2);if(p.length==1)b[p[0]]="";else b[p[0]]=decodeURIComponent(p[1].replace(/\+/g," "))}return b};XExt.RenderLOV=function(_data,ctrl,LOV){ctrl.empty();ctrl.html(jsh.ejs.render('      <% for(var i=0;i<data.length;i++){ %>      <option value="<%=data[i][jsh.uimap.code_val]%>"><%=data[i][jsh.uimap.code_txt]%></option>      <% } %>',{data:LOV,jsh:jsh}))};XExt.RenderParentLOV=function(_data,ctrl,parentvals,LOV,field,plural){var prevval=_data[field.name];if(prevval==null)prevval="";ctrl.empty();var lovfilter={};if(!plural)lovfilter[jsh.uimap.code_parent]=parentvals[0];else{for(var j=0;j<parentvals.length;j++){lovfilter[jsh.uimap.code_parent+(j+1)]=parentvals[j]}}var cLOV=[];for(var i=0;i<LOV.length;i++){var isMatch=true;if(!LOV[i])continue;for(var key in lovfilter){if(LOV[i][key]===null&&lovfilter[key]===null){}else if(typeof LOV[i][key]==="undefined"&&typeof lovfilter[key]==="undefined"){}else if(XExt.isNullUndefined(LOV[i][key])||XExt.isNullUndefined(lovfilter[key]))isMatch=false;else if(LOV[i][key]&&lovfilter[key]&&LOV[i][key].toString()==lovfilter[key].toString()){}else isMatch=false}if(isMatch)cLOV.push(LOV[i])}if(!plural&&!(jsh.uimap.code_parent in LOV[0]))cLOV.unshift(LOV[0]);else if(plural&&!(jsh.uimap.code_parent+"1"in LOV[0]))cLOV.unshift(LOV[0]);else if("lovblank"in field)cLOV.unshift(LOV[0]);ctrl.html(jsh.ejs.render('      <% for(var i=0;i<data.length;i++){ %>      <option value="<%=data[i][jsh.uimap.code_val]%>"><%=data[i][jsh.uimap.code_txt]%></option>      <% } %>',{data:cLOV,jsh:jsh}));var lov_matches=ctrl.children("option").filter(function(){return String($(this).val()).toUpperCase()==String(prevval).toUpperCase()}).length;if(lov_matches>0)ctrl.val(prevval)};XExt.TagBox_Refresh=function(jctrl,jbaseinputctrl){jctrl.$find("span").remove();XExt.TagBox_AddTags(jctrl,jbaseinputctrl,jbaseinputctrl.val().split(","))};XExt.TagBox_Save=function(jctrl,jbaseinputctrl){var tags=[];jctrl.children("span").each(function(){tags.push($(this).data("val"))});var prevval=jbaseinputctrl.val();jbaseinputctrl.val(tags.join(", "));if(jbaseinputctrl.val()!=prevval)jbaseinputctrl.trigger("input")};XExt.TagBox_Focus=function(jctrl,onFocus){jctrl.on("click_remove",function(tmp_e,e){onFocus.call(this,e)});jctrl.$find(".xtag_input").on("focus",function(e){onFocus.call(this,e)});jctrl.on("click",function(e){onFocus.call(this,e)})};XExt.TagBox_AddTags=function(jctrl,jbaseinputctrl,new_tags){var addTag=function(val){val=val.trim();if(!val.length)return;var jnew=$('<span class="notextselect">'+XExt.escapeHTML(val)+'\t&#8203;<div class="xtag_remove xtag_focusable"></div></span>');jnew.data("val",val);jctrl.$find(".xtag_input").before(jnew);jnew.$find(".xtag_remove").on("click",function(e){if(jctrl.hasClass("uneditable"))return;jctrl.trigger("click_remove",[e]);if(e.isPropagationStopped()||e.isImmediatePropagationStopped())return;jctrl.$find(".xtag_input").blur();$(this).closest("span").remove();XExt.TagBox_Save(jctrl,jbaseinputctrl)})};_.each(new_tags,function(tag){addTag(tag)});XExt.TagBox_Save(jctrl,jbaseinputctrl)};XExt.TagBox_Render=function(jctrl,jbaseinputctrl){jbaseinputctrl.hide();jctrl.empty();jctrl.off("click");jctrl.css("display","inline-block");jctrl.addClass("xtag_focusable");jctrl.append('<input class="xtag_input inactive xtag_focusable" size="1" />');var jinput=jctrl.$find(".xtag_input");jctrl.on("click",function(){if(jinput.hasClass("inactive")){jinput.val("");jinput[0].parentNode.insertBefore(jinput[0],null);jinput.focus()}});if(jbaseinputctrl.data("id"))jinput.data("id",jbaseinputctrl.data("id"));jinput.on("input keyup",function(e){var val=$(this).val();if(val.indexOf(",")>=0){$(this).val("");XExt.TagBox_AddTags(jctrl,jbaseinputctrl,val.split(","))}$(this).attr("size",Math.round(($(this).val()||" ").toString().length/.87))});var isMovingInput=false;jinput.on("keydown",function(e){if(jctrl.hasClass("uneditable"))return;var obj=this;var jobj=$(obj);var handled=false;isMovingInput=false;var cursorpos=0;var sel=XExt.getSelection(obj);if(sel)cursorpos=sel.start;if(e.which==39){if(jobj.next().length&&cursorpos==jobj.val().length){handled=true;var objnextnext=null;if(jobj.next().next().length)objnextnext=jobj.next().next()[0];isMovingInput=true;jobj[0].parentNode.insertBefore(jobj[0],objnextnext);jobj.focus();isMovingInput=false}}else if(e.which==37){if(jobj.prev().length&&cursorpos==0){handled=true;var objprev=jobj.prev()[0];isMovingInput=true;jobj[0].parentNode.insertBefore(jobj[0],objprev);jobj.focus();isMovingInput=false}}else if(e.which==8){if(jobj.prev().length&&cursorpos==0){handled=true;jobj.prev().remove();XExt.TagBox_Save(jctrl,jbaseinputctrl)}}else if(e.which==13){var val=$(this).val();$(this).val("");XExt.TagBox_AddTags(jctrl,jbaseinputctrl,[val])}if(handled){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation()}});jinput.on("focus",function(){$(this).removeClass("inactive")});jinput.on("focusout",function(){if(isMovingInput)return;if(!jctrl.hasClass("uneditable")){var val=$(this).val();$(this).val("");XExt.TagBox_AddTags(jctrl,jbaseinputctrl,[val])}$(this).addClass("inactive")})};XExt.CancelBubble=function(e){if(!e)e=window.event;if(e.stopPropagation)e.stopPropagation();else e.cancelBubble=true;if(e.preventDefault)e.preventDefault()};XExt.HideContextMenu=function(){jsh.$root(".xcontext_menu").hide()};XExt.ShowContextMenu=function(selector,context_item,data,options){options=_.extend({top:jsh.mouseY,left:jsh.mouseX},options);if(!selector)selector=".xcontext_menu";XExt.HideContextMenu();jsh.$root(selector).css("visibility","hidden");jsh.$root(selector).show();var xtop=options.top;var xleft=options.left;var wwidth=$(window).width();var wheight=$(window).height()-20;var dwidth=jsh.$root(selector).outerWidth()+4;var dheight=jsh.$root(selector).outerHeight()+4;if(xtop+dheight>wheight)xtop=wheight-dheight;if(xleft+dwidth>wwidth)xleft=wwidth-dwidth;var offset=jsh.$root(selector).offsetParent().offset();xtop-=offset.top-1;xleft-=offset.left-1;if(xtop<0)xtop=0;if(xleft<0)xleft=0;jsh.$root(selector).children("a").each(function(){var obj=this;var onrender=$(obj).data("onrender");if(onrender){var f=new Function("context_item","data",onrender);var frslt=f.call(obj,context_item,data);$(this).toggle(frslt!==false)}});jsh.$root(selector).css({top:xtop,left:xleft});jsh.$root(selector).css("visibility","visible");if(jsh){jsh.xContextMenuVisible=true;jsh.xContextMenuItem=context_item;jsh.xContextMenuItemData=data}};XExt.jForEach=function(jctrls,f){if(!jctrls||!jctrls.length)return;if(jctrls.length==1)f(jctrls);else{for(var i=0;i<jctrls.length;i++)f($(jctrls[i]))}};XExt.CallAppFunc=function(url,method,d,onComplete,onFail,options){if(!jsh)throw new Error("XExt requires jsHarmony instance to run CallAppFunc");if(!options)options={};var getVars=function(){for(var dname in d){var dval=d[dname];if(dval&&dval instanceof XExt.InputValue){dval.Prompt(function(rslt){if(rslt){d[dname]=dval.Value;getVars()}});return}}var xform=new jsh.XForm(url);xform.Data=d;var dq={},dp={};if(method=="get")dq=d;else if(method=="postq"){dq=d;method="post"}else if(method=="putq"){dq=d;method="put";if(options.post){dp=options.post}}else dp=d;xform.qExecute(xform.PrepExecute(method,xform.url,dq,dp,function(rslt){if("_success"in rslt){if(onComplete)onComplete(rslt);else XExt.Alert("Operation completed successfully.")}},onFail))};getVars()};XExt.InputValue=function(_Caption,_Validation,_Default,_PostProcess){this.Caption=_Caption;this.Validation=_Validation;this.Default=_Default?_Default:"";this.PostProcess=_PostProcess;this.Value=undefined};XExt.InputValue.prototype.Prompt=function(onComplete){var _this=this;XExt.Prompt(_this.Caption,_this.Default,function(rslt){if(rslt==null){if(onComplete){onComplete(null)}return}else{if(_this.Validation){var v=new jsh.XValidate(jsh);v.AddValidator("_obj.Value",_this.Caption,"BIUD",_this.Validation);v.ResetValidation();var verrors=v.Validate("BIUD",{Value:rslt});if(!_.isEmpty(verrors)){XExt.Alert(verrors[""].join("\n"),function(){if(onComplete)onComplete(null)});return}}if(_this.PostProcess)rslt=_this.PostProcess(rslt);_this.Value=rslt;if(onComplete)onComplete(rslt)}})};XExt.getLOVTxt=function(LOV,val){var lov=XExt.getLOV(LOV,val);if(lov)return lov[jsh.uimap.code_txt];return undefined};XExt.getLOV=function(LOV,val){if(val)val=val.toString();for(var i=0;i<LOV.length;i++){if(LOV[i][jsh.uimap.code_val]==val)return LOV[i]}return undefined};XExt.pushLOV=function(LOV,val,txt){var newlov={};newlov[jsh.uimap.code_val]=val;newlov[jsh.uimap.code_txt]=txt;LOV.push(newlov)};XExt.parseLOV=function(LOV){var rslt=LOV;if(_.isArray(LOV)){rslt=LOV.slice();for(var i=0;i<LOV.length;i++){if(_.isString(rslt[i])){var val=rslt[i];rslt[i]={};rslt[i][jsh.uimap.code_val]=val;rslt[i][jsh.uimap.code_txt]=val}}}else if(_.isObject(LOV)){rslt=[];for(var key in LOV){var newval={};newval[jsh.uimap.code_val]=key;newval[jsh.uimap.code_txt]=LOV[key];rslt.push(newval)}}return rslt};XExt.endsWith=function(str,suffix){return(str||"").toString().match(suffix+"$")==suffix};XExt.beginsWith=function(str,prefix){return(str||"").toString().indexOf(prefix)===0};XExt.hasAction=function(actions,perm){if(actions===undefined)return false;for(var i=0;i<perm.length;i++){if(actions.indexOf(perm[i])>-1)return true}return false};XExt.UndefinedBlank=function(val){if(typeof val=="undefined")return"";return val};XExt.ReplaceAll=function(val,find,replace){return val.split(find).join(replace)};XExt.trim=function(str,chr,dir){if(!chr)chr=" \t\n\r\v\f";var foundchr=true;var rslt=str||"";if(!dir){rslt=XExt.trim(str,chr,1);rslt=XExt.trim(rslt,chr,-1);return rslt}while(foundchr){foundchr=false;if(!rslt)break;var tgtchr="";if(dir>0)tgtchr=rslt[rslt.length-1];else tgtchr=rslt[0];for(var i=0;i<chr.length;i++){if(tgtchr==chr[i]){foundchr=true;break}}if(foundchr){if(dir>0)rslt=rslt.substr(0,rslt.length-1);else rslt=rslt.substr(1)}}return rslt};XExt.trimRight=function(str,chr){return XExt.trim(str,chr,1)};XExt.trimLeft=function(str,chr){return XExt.trim(str,chr,-1)};XExt.AddHistory=function(url,obj,title){if(jsh&&!jsh.isHTML5)return;if(typeof obj=="undefined")obj={};if(typeof title=="undefined")title=document.title;window.history.pushState(obj,title,url)};XExt.ReplaceHistory=function(url,obj,title){if(jsh&&!jsh.isHTML5)return;if(typeof obj=="undefined")obj={};if(typeof title=="undefined")title=document.title;window.history.replaceState(obj,title,url)};XExt.clearFileInput=function(obj){var oldInput=obj;var newInput=document.createElement("input");newInput.type="file";newInput.id=oldInput.id;newInput.name=oldInput.name;newInput.className=oldInput.className;newInput.style.cssText=oldInput.style.cssText;newInput.accept=oldInput.accept;newInput.multiple=oldInput.multiple;oldInput.parentNode.replaceChild(newInput,oldInput)};XExt.hideTab=function(modelid,tabname){modelid=XExt.resolveModelID(modelid);var modelclass=modelid;if(modelid in jsh.XModels)modelclass=jsh.XModels[modelid].class;jsh.$root(".xtab"+modelclass).each(function(i,obj){var jobj=$(obj);if(jobj.html()==tabname)jobj.hide()})};XExt.escapeJS=function(q){if(!q)return"";return q.replace(/[\\'"]/g,"\\$&")};XExt.escapeHTMLQ=function(q){if(!q)return"";return q.replace(/["]/g,"&quot;")};XExt.escapeHTMLN=function(val){var rslt=XExt.escapeHTML(val);return String(rslt).replace(/&amp;([\w]+);/g,function(s,p1){return"&"+p1+";"})};XExt.escapeHTML=function(val){var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","":"&#xa0;"};return String(val).replace(/[\u00A0&<>"'/]/g,function(s){return entityMap[s]})};XExt.escapeHTMLBR=function(val){if(typeof val=="undefined"||val===null)return val;return XExt.ReplaceAll(XExt.ReplaceAll(XExt.escapeHTML(val.toString()),"\n","<br/>"),"\r","")};XExt.escapeBRSpace=function(val){if(typeof val=="undefined"||val===null)return val;return XExt.ReplaceAll(XExt.ReplaceAll(val.toString(),"\n"," "),"\r","")};XExt.escapeRegEx=function(q,options){options=_.extend({ignore:""},options);var chars={"-":"-","[":"[","]":"\\]","{":"{","}":"}","(":"(",")":")","*":"*","+":"+","?":"?",".":".",",":",","\\":"\\\\","/":"/","^":"^",$:"$","|":"|","#":"#"};var rxstr="";for(var key in chars){if(!options.ignore||options.ignore.indexOf(key)<0)rxstr+=chars[key]}return q.replace(new RegExp("["+rxstr+"\\s]","g"),"\\$&")};XExt.escapeCSSClass=function(val,options){if(!options)options={nodash:false};var rslt=(val||"").toString();if(rslt&&options.nodash)rslt=rslt.replace(/[^a-zA-Z0-9_]+/g,"_");else rslt=rslt.replace(/[^a-zA-Z0-9_-]+/g,"_");rslt=XExt.trimLeft(rslt,"-");while(rslt.indexOf("__")>0)rslt=XExt.ReplaceAll(rslt,"__","_");return rslt};XExt.prettyURL=function(val,options){var rslt=(val||"").toString().toLowerCase();rslt=rslt.replace(/[^a-zA-Z0-9_-]+/g,"-");rslt=XExt.trim(rslt,"-");while(rslt.indexOf("--")>0)rslt=XExt.ReplaceAll(rslt,"--","-");return rslt};XExt.encodeEJSURI=function(val){if(val===null)return"";if(typeof val=="undefined")return"";return encodeURI(val)};XExt.pad=function(val,padding,length){var rslt=val.toString();while(rslt.length<length)rslt=padding+rslt;return rslt};XExt.getMargin=function(jctrl){return{top:parseInt(jctrl.css("margin-top")),right:parseInt(jctrl.css("margin-right")),bottom:parseInt(jctrl.css("margin-bottom")),left:parseInt(jctrl.css("margin-left"))}};XExt.getPadding=function(jctrl){return{top:parseInt(jctrl.css("padding-top")),right:parseInt(jctrl.css("padding-right")),bottom:parseInt(jctrl.css("padding-bottom")),left:parseInt(jctrl.css("padding-left"))}};XExt.getBorder=function(jctrl){return{top:parseInt(jctrl.css("border-top-width")),right:parseInt(jctrl.css("border-right-width")),bottom:parseInt(jctrl.css("border-bottom-width")),left:parseInt(jctrl.css("border-left-width"))}};XExt.xejs={escapeJS:function(val){return XExt.escapeJS(val)},escapeHTML:function(val){return XExt.escapeHTML(val)},escapeHTMLN:function(val){return XExt.escapeHTMLN(val)},escapeHTMLBR:function(val){return XExt.escapeHTMLBR(val)},iif:function(cond,tval,fval){if(cond)return tval;if(fval!==undefined)return fval;return""},ifnull:function(val,nullval){if(val)return val;return nullval},case:function(){var args=arguments;if(args.length==0)return"";var i=0;while(i<args.length){if(i==args.length-1)return args[i];if(args[i])return args[i+1];i+=2}return""},visible:function(cond){try{if(!cond)return"display:none;"}catch(ex){}return""},eachKey:function(fields,func){if(!fields)return;for(var i=0;i<fields.length;i++){if(fields[i].key)func(fields[i])}},showProp:function(prop,val,unescaped,pre,post){if(!pre)pre="";if(!post)post="";if(typeof val!="undefined"){if(unescaped)return prop+'="'+pre+val+post+'"';else return prop+'="'+XExt.escapeHTML(pre+val+post)+'"'}return""},showSystemButton:function(model,btn){if(model.hide_system_buttons){for(var i=0;i<model.hide_system_buttons.length;i++){if(model.hide_system_buttons[i]==btn)return false}}return true},GetValue:function(field,model){var val="";if(model&&model.grid_static){return"<"+"%=data['"+field.name+"']%"+">"}if("sample"in field)val=field.sample;if("default"in field){if(_.isString(field.default)&&field.default.substr(0,3)=="js:"){}else val=field.default}if(val&&"format"in field)val=jsh.XFormat.Apply(field.format,val);return XExt.escapeHTMLN(val)},getInputType:function(field){if(field&&field.validate){for(var i=0;i<field.validate.length;i++){var validator=field.validate[i];for(var j=0;j<validator.funcs.length;j++){var vfunc=validator.funcs[j];if(vfunc.indexOf("XValidate._v_IsEmail()")==0)return"email";if(vfunc.indexOf("XValidate._v_IsPhone()")==0)return"tel"}}}if(field&&field.type){if(field.type=="varchar"||field.type=="char")return"text"}return"text"},getActions:function(){if(arguments.length==0)return"";var kfc="";var effperm=arguments[0];for(var i=0;i<arguments.length;i++){effperm=XExt.xejs.intersectperm(effperm,arguments[i]);kfc=XExt.xejs.unionperm(kfc,this.intersectperm("KFC",arguments[i]))}return effperm+kfc},hasAction:function(){if(arguments.length==0)return"";var effperm=arguments[0];for(var i=0;i<arguments.length;i++){effperm=XExt.xejs.intersectperm(effperm,arguments[i])}return effperm},intersectperm:function(perm1,perm2){if(typeof perm1=="undefined")perm1="";if(typeof perm2=="undefined")perm2="";var rslt="";if(perm1=="*")return perm2;if(perm2=="*")return perm1;for(var i=0;i<perm1.length;i++){if(perm2.indexOf(perm1[i])>-1)rslt+=perm1[i]}return rslt},unionperm:function(perm1,perm2){if(typeof perm1=="undefined"&&typeof perm2=="undefined")return"";if(typeof perm1=="undefined")return perm2;if(typeof perm2=="undefined")return perm1;if(perm1=="*")return"*";if(perm2=="*")return"*";var rslt=perm1;for(var i=0;i<perm2.length;i++){if(rslt.indexOf(perm2[i])<0)rslt+=perm2[i]}return rslt},renderLOV:function(lov,selected_value){var rslt="";_.each(lov,function(lovval){rslt+='<option value="'+XExt.escapeHTML(lovval[jsh.uimap.code_val])+'" '+(lovval[jsh.uimap.code_val]==selected_value?"selected":"")+">"+XExt.escapeHTML(lovval[jsh.uimap.code_txt])+"</option>"});return rslt},onlyAlphaNum:function(val){if(!val)return"";return val.toString().replace(/[^a-zA-Z0-9]+/g,"")},is_insert:function(_GET){return _GET["action"]=="insert"},is_browse:function(_GET){return _GET["action"]=="browse"}};XExt.CKEditor=function(id,config,cb){if(!window.CKEDITOR){window.CKEDITOR_BASEPATH=jsh._PUBLICURL+"js/ckeditor/";jsh.loadScript(jsh._PUBLICURL+"js/ckeditor/ckeditor.js",function(){XExt.CKEditor(id,config,cb)});return}if(!id){if(cb)cb();return}if(window.CKEDITOR.instances[id]){if(cb)cb();return}var elem=jsh.$root("#"+id);if(!elem.length)elem=jsh.$root("."+id);if(!elem.length){return XExt.Alert("Cound not initialize editor on "+id+": form control with that id not found")}var orig_width=elem.outerWidth();var orig_height=elem.outerHeight();if(!elem.parent().hasClass(id+"_container")){elem.wrap('<div class="'+id+'_container htmlarea_container" style="width:'+orig_width+'px;"></div>')}window.CKEDITOR.replace(id,_.extend({height:orig_height},config));if(cb)cb();return};XExt.TinyMCE=function(id,config,cb){if(!window.tinymce){window.TINYMCE_BASEPATH=jsh._PUBLICURL+"js/tinymce/";jsh.loadScript(jsh._PUBLICURL+"js/tinymce/tinymce.min.js",function(){XExt.TinyMCE(id,config,cb)});return}if(!config){if(cb)cb();return}if(window.tinymce.get(id)){if(cb)cb();return}var elem=jsh.$root("#"+id);if(!elem.length)elem=jsh.$root("."+id);if(!elem.length){return XExt.Alert("Cound not initialize editor on "+id+": form control with that id not found")}var orig_width=elem.outerWidth();var orig_height=elem.outerHeight();if(!elem.parent().hasClass(id+"_container")){elem.wrap('<div class="'+id+'_container htmlarea_container" style="width:'+orig_width+'px;"></div>')}config=config||{};config.selector="#"+id;var prev_init_instance_callback=config.init_instance_callback;config.init_instance_callback=function(instance){if(prev_init_instance_callback)prev_init_instance_callback(instance);if(cb)cb()};config=_.extend({height:orig_height},config);window.tinymce.init(config)};XExt.getOpenerJSH=function(capabilities){if(window.opener){var pjsh=window.opener[jsh.getInstance()];if(!pjsh||!pjsh.XPage)return;if(pjsh==jsh)return;var hasCapabilities=true;if(capabilities)_.each(capabilities,function(capability){if(!pjsh.XPage[capability])hasCapabilities=false});if(hasCapabilities)return pjsh}};XExt.notifyPopupComplete=function(id,rslt){var jshOpener=XExt.getOpenerJSH(["PopupComplete"]);if(jshOpener){jshOpener.XPage.PopupComplete(id,rslt)}};XExt.unescapeEJS=function(ejssrc){if(!ejssrc)return"";var rslt=ejssrc;rslt=XExt.ReplaceAll(rslt,"&lt;#","<#");rslt=XExt.ReplaceAll(rslt,"#&gt;","#>");rslt=XExt.ReplaceAll(rslt,"&lt;%","<%");rslt=XExt.ReplaceAll(rslt,"%&gt;","%>");return rslt};XExt.renderEJS=function(ejssource,modelid,params){if(!ejssource)return"";modelid=XExt.resolveModelID(modelid);var ejsparams={xejs:XExt.xejs,jsh:jsh,_:jsh._,moment:jsh.moment,XExt:XExt,instance:jsh.getInstance(),_GET:jsh._GET,js:function(code,options){return jsh.XExt.wrapJS(code,modelid,options)}};if(modelid){ejsparams.modelid=modelid;ejsparams.xmodel=jsh.XModels[modelid];ejsparams._this=jsh.App[modelid]}ejsparams=_.extend(ejsparams,params);if(!("ejsparams"in ejsparams))ejsparams.ejsparams=ejsparams;return jsh.ejs.render(ejssource,ejsparams)};XExt.replaceTempEJSTags=function(ejssrc){if(!ejssrc)return"";if(ejssrc.indexOf("<#")<0)return ejssrc;ejssrc=ejssrc.replace(/<#/g,"<%").replace(/#>/g,"%>");return ejssrc};XExt.renderClientEJS=function(ejssrc,ejsparams){if(!ejssrc)return"";return jsh.ejs.render(XExt.replaceTempEJSTags(ejssrc),ejsparams)};XExt.isSinglePage=function(){if(jsh.singlepage)return true;return false};XExt.navTo=function(url,options){options=_.extend({force:false},options);if(XExt.isSinglePage()){var a=XExt.getURLObj(url);if(!jsh.Navigate(a,undefined,undefined,undefined,options))return false}if(options&&options.force){window.onbeforeunload=null;jsh.cancelExit=true}window.location.href=url;return false};XExt.jumpAnchor=function(name){if(!name)return;if(name[0]=="#")name=name.substring(1);var jobj=jsh.$root("a[name="+name+"]");if(jobj.size()==0)return;var elem=jobj.get(0);var elemoff=$(elem).offset();window.scrollTo(0,elemoff.top)};XExt.getURLObj=function(url){var a=document.createElement("a");a.href=url;return a};XExt.aPhoneCheck=function(jobj,caption){var val=jobj.val();if(val&&(val=="1"||!val.match(/[0123456789]/))){jobj.addClass("xinputerror");XExt.Alert("Invalid "+caption);return false}return true};XExt.StripTags=function(val,ignore,options){if(!val)return val;options=_.extend({addSpaces:false},options);ignore=(((ignore||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var clienttags=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;var servertags=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;var replaceStr=options.addSpaces?" ":"";var rslt=XExt.unescapeHTMLEntity(val.replace(servertags,replaceStr).replace(clienttags,function($0,$1){return ignore.indexOf("<"+$1.toLowerCase()+">")>-1?$0:replaceStr}));if(options.addSpaces){while(rslt.indexOf("  ")>=0)rslt=rslt.replace(/ {2}/gi," ");rslt=rslt.trim()}return rslt};XExt.unescapeHTMLEntity=function(val){var obj=document.createElement("textarea");obj.innerHTML=val;return obj.value};XExt.ParseMultiLine=function(val){if(!val)return val;if(_.isArray(val))return val.join(" ");return val.toString()};XExt.makeResizableDiv=function(selector,children,options){if(!options)options={onDrag:null,onDragEnd:null};var obj=document.querySelector(selector);for(var j=0;j<children.length;j++){children[j].obj=document.querySelector(children[j].selector)}var resizers=document.querySelectorAll(selector+" .resizer");var minimum_size=100;var counter=0;var original_width=0;var original_height=0;var original_x=0;var original_y=0;var original_mouse_x=0;var original_mouse_y=0;for(var i=0;i<resizers.length;i++){var currentResizer=resizers[i];var resize=function(e){counter++;if(counter%2)return counter=1;if(currentResizer.classList.contains("res-ew")){var width=original_width-(e.pageX-original_mouse_x);if(width>minimum_size){obj.style.width=width+"px";obj.style.left=original_x+(e.pageX-original_mouse_x)+"px";for(var i=0;i<children.length;i++){var correction_x=children[i].correction_x;if(_.isFunction(correction_x))correction_x=correction_x();children[i].obj.style.width=width+correction_x+"px";children[i].obj.style.left=original_x+(e.pageX-original_mouse_x-correction_x)+"px"}}}else if(currentResizer.classList.contains("res-ns")){var height=original_height-(e.pageY-original_mouse_y);if(height>minimum_size){obj.style.height=height+"px";obj.style.top=original_y+(e.pageY-original_mouse_y)+"px";for(var j=0;j<children.length;j++){var correction_y=children[j].correction_y;if(_.isFunction(correction_y))correction_y=correction_y();children[j].obj.style.height=height+correction_y+"px";children[j].obj.style.top=original_y+(e.pageY-original_mouse_y-correction_y)+"px"}}}if(options.onDrag)options.onDrag()};var stopResize=function(){window.removeEventListener("mousemove",resize);window.removeEventListener("mouseup",stopResize);if(options.onDragEnd)options.onDragEnd()};currentResizer.addEventListener("mousedown",function(e){e.preventDefault();original_width=parseFloat(getComputedStyle(obj,null).getPropertyValue("width").replace("px",""));original_height=parseFloat(getComputedStyle(obj,null).getPropertyValue("height").replace("px",""));original_x=obj.getBoundingClientRect().left;original_y=obj.getBoundingClientRect().top;original_mouse_x=e.pageX;original_mouse_y=e.pageY;window.addEventListener("mousemove",resize);window.addEventListener("mouseup",stopResize)})}};XExt.readCookie=function(id){var rslt=[];var cookies=document.cookie.split(";");var rx=RegExp("^\\s*"+XExt.escapeRegEx(id)+"=\\s*(.*?)\\s*$");for(var i=0;i<cookies.length;i++){var m=cookies[i].match(rx);if(m)rslt.push(m[1])}return rslt};XExt.GetCookieNameWithSuffix=function(cname){return cname+jsh.cookie_suffix};XExt.GetCookie=function(cname){cname=XExt.GetCookieNameWithSuffix(cname);var rslt=[];var c_a=XExt.readCookie(cname);if(c_a.length>0){for(var i=0;i<c_a.length;i++){rslt.push(decodeURIComponent(c_a[i]))}}return rslt};XExt.SetCookie=function(cname,cvalue,exmin,options){cname=XExt.GetCookieNameWithSuffix(cname);if(!options)options={};if(!("samesite"in options)&&jsh.cookie_samesite)options.samesite=jsh.cookie_samesite;if(!("secure"in options)){if(window.location.protocol=="https:")options.secure=true}var expires="";if(exmin!==0){var d=new Date;d.setTime(d.getTime()+exmin*60*1e3);expires=";expires="+d.toUTCString()}var cookieval=cname+"="+encodeURIComponent(cvalue)+expires+";path="+jsh._BASEURL;if("samesite"in options)cookieval+=";samesite="+options.samesite.toString().toLowerCase();if(options.secure)cookieval+=";secure";document.cookie=cookieval};XExt.ClearCookie=function(cname){return XExt.SetCookie(cname,"",-1e5)};XExt.GetSettingsCookie=function(module_name){var settings={};try{settings=JSON.parse(jsh.XExt.GetCookie("settings")[0])}catch(e){return settings}if(!_.isEmpty(module_name)){if(settings.hasOwnProperty(module_name)){settings=settings[module_name]}else{settings={}}}return settings};XExt.SetSettingsCookie=function(module_name,cvalue){if(typeof module_name==="undefined"||module_name.length<=0){throw"Please provide module name!"}var settings=XExt.GetSettingsCookie();settings[module_name]=cvalue;return XExt.SetCookie("settings",JSON.stringify(settings),XExt.COOKIE_MAX_EXPIRATION)};XExt.ClearSettingsCookie=function(){return XExt.ClearCookie("settings")};XExt.currentURL=function(){var rslt=window.location.href.toString().split(window.location.host)[1];rslt=rslt.split("?")[0];rslt=rslt.split("#")[0];return rslt};function XTreeNode(){this.Children=[];this.ID=null;this.Value="";this.Text="";this.Expanded=false;this.Selected=false;this.Icon="";this.LazyRender=false}XExt.TreeRender=function(jctrl,LOV,field){var firstRender=!jctrl.children().length;var expanded_nodes=XExt.TreeGetExpandedNodes(jctrl);var selected_nodes=XExt.TreeGetSelectedNodes(jctrl);var tree=[];var nodes={};var sortednodes=[];jctrl.empty();if(LOV.length==0)return;var has_seq=false;var lazy_render=LOV.length>=500;var controlparams=_.extend({},field&&field.controlparams);if("lazy_render"in controlparams)lazy_render=!!controlparams.lazy_render;else if(controlparams.expand_all)lazy_render=false;if(controlparams.item_dropdown){if(field&&field.name){var jcontextmenu=jsh.$root("._item_context_menu_"+field.name);if(!jcontextmenu.length||!jcontextmenu.children().length)controlparams.item_dropdown=false}}for(var i=0;i<LOV.length;i++){var iLOV=LOV[i];var node=new XTreeNode;node.ID=iLOV[jsh.uimap.code_id];node.ParentID=iLOV[jsh.uimap.code_parent_id];node.Value=iLOV[jsh.uimap.code_val];node.Text=iLOV[jsh.uimap.code_txt];node.Icon=iLOV[jsh.uimap.code_icon];node.Seq=iLOV[jsh.uimap.code_seq];node.LazyRender=lazy_render;if(node.Seq)has_seq=true;if(_.includes(expanded_nodes,(node.Value||"").toString()))node.Expanded=true;if(_.includes(selected_nodes,(node.Value||"").toString()))node.Selected=true;if(!node.ParentID)tree.push(node);nodes[node.ID]=node;sortednodes.push(node)}for(var j=0;j<sortednodes.length;j++){var sortednode=sortednodes[j];if(sortednode.ParentID&&sortednode.ParentID in nodes)nodes[sortednode.ParentID].Children.push(sortednode)}if(has_seq)sortednodes=_.sortBy(sortednodes,[jsh.uimap.code_seq,jsh.uimap.code_txt]);var body="";for(var k=0;k<tree.length;k++){body+=XExt.TreeRenderNode(jctrl,tree[k],controlparams)}var treeid=jctrl.data("treeid");if(!treeid){treeid=1;while(jsh.$root("[data-treeid="+treeid+"]").length)treeid++;jctrl.data("treeid",treeid)}jctrl.html(body);function renderLazy(){var jthis=$(this);var nodeid=jthis.data("id");var node=nodes[nodeid];if(!node)return;var childrenHtml="";_.each(node.Children,function(child){childrenHtml+=XExt.TreeRenderNode(jctrl,child,controlparams)});jthis.removeClass("tree_render_lazy").off("tree_render_lazy");jthis.next(".children").append(childrenHtml);jthis.next(".children").$find(".tree_render_lazy").on("tree_render_lazy",renderLazy)}jctrl.$find(".tree_render_lazy").on("tree_render_lazy",renderLazy);jctrl.off("tree_path").on("tree_path",function(e,treePathInfo){if(treePathInfo){for(var nodeID in nodes){var node=nodes[nodeID];if(node.Value==treePathInfo.value){treePathInfo.path=[node];var parentNode=node;do{if(parentNode.ParentID)parentNode=nodes[parentNode.ParentID];else parentNode=null;if(parentNode)treePathInfo.path.unshift(parentNode)}while(parentNode);break}}}});if(firstRender){if(controlparams.expand_all)XExt.TreeExpandAll(jctrl);else if(controlparams.expand_to_selected)XExt.TreeExpandToSelected(jctrl)}if(controlparams.ondrop)XExt.TreeEnableDrop(jctrl,controlparams.ondrop,controlparams.drag_anchor_settings);if(controlparams.onmove)XExt.TreeEnableDrag(jctrl,controlparams.onmove,controlparams.drag_anchor_settings)};XExt.TreeEnableDrop=function(jctrl,ondrop,drag_anchor_settings){var jtreeitems=jctrl.$find("a.tree_item");_.each(jtreeitems,function(obj){var jobj=$(obj);var dragCounter=0;jobj.on("dragenter",function(e){dragCounter++;if(!jobj.hasClass("xdragtarget"))jobj.addClass("xdragtarget");e.preventDefault();e.stopPropagation()});jobj.on("dragleave",function(e){dragCounter--;if(dragCounter<=0){dragCounter=0;jobj.removeClass("xdragtarget").removeClass("xdragtop").removeClass("xdragbottom").removeClass("xdragfull").removeClass("xdragleft").removeClass("xdragright")}e.preventDefault();e.stopPropagation()});jobj.on("dragover",function(e){var targetAnchor=XExt.getObjectAnchors(this,jsh.mouseX,jsh.mouseY,drag_anchor_settings);jobj.removeClass("xdragtop").removeClass("xdragbottom").removeClass("xdragfull").removeClass("xdragleft").removeClass("xdragright");if(targetAnchor[0]=="left")jobj.addClass("xdragleft");else if(targetAnchor[0]=="right")jobj.addClass("xdragright");if(targetAnchor[1]=="top")jobj.addClass("xdragtop");else if(targetAnchor[1]=="bottom")jobj.addClass("xdragbottom");else if(targetAnchor[1]=="full")jobj.addClass("xdragfull");e.preventDefault();e.stopPropagation()});jobj.on("drop",function(e){dragCounter=0;jobj.removeClass("xdragtarget").removeClass("xdragtop").removeClass("xdragbottom").removeClass("xdragfull").removeClass("xdragleft").removeClass("xdragright");e.preventDefault();e.stopPropagation();var targetObjVal=jobj.data("value");var targetAnchor=XExt.getObjectAnchors(this,jsh.mouseX,jsh.mouseY,drag_anchor_settings);if(ondrop)ondrop(targetObjVal,targetAnchor,e)})});jctrl.on("drop dragenter dragleave dragover",function(e){e.preventDefault();e.stopPropagation()})};XExt.TreeEnableDrag=function(jctrl,onmove,drag_anchor_settings){var mouseDownTimer=null;var hoverBorderTimer=null;jctrl.$find("a.tree_item").addClass("xdrop");function mouseCanDrop(target){return true}jctrl.$find("a.tree_item").mousedown(function(e){if(e.which==1){var obj=this;if(XExt.isMouseWithin($(obj).parent().$find(".glyph")[0]))return;if(jsh.xContextMenuVisible)return;XExt.CancelBubble(e);if(mouseDownTimer)window.clearTimeout(mouseDownTimer);mouseDownTimer=window.setTimeout(function(){if(mouseDownTimer)jsh.mouseDragBegin(obj,mouseCanDrop,e)},250)}});jctrl.$find("a.tree_item").mouseup(function(e){if(mouseDownTimer)window.clearTimeout(mouseDownTimer);if(hoverBorderTimer)window.clearTimeout(hoverBorderTimer);mouseDownTimer=null;hoverBorderTimer=null});var treeid=jctrl.data("treeid");jsh.off(".jsh_tree_"+treeid);var hoverBorderStart=0;jsh.on("jsh_mouseDrag.jsh_tree_"+treeid,function(event,mouseDragObj,targetObj,origEvent){jctrl.$find(".xdragtarget").removeClass("xdragtarget").removeClass("xdragtop").removeClass("xdragbottom").removeClass("xdragfull").removeClass("xdragleft").removeClass("xdragright");var joff=jctrl.offset();var w=jctrl.outerWidth();var h=jctrl.outerHeight();if(jsh.mouseX>=joff.left&&jsh.mouseX<=joff.left+w){if(jsh.mouseY>=joff.top&&jsh.mouseY<=joff.top+15){if(!hoverBorderTimer){hoverBorderStart=0;hoverBorderTimer=setInterval(function(){var nowTime=(new Date).getTime();if(!hoverBorderStart)hoverBorderStart=nowTime;if(nowTime-hoverBorderStart>300){jctrl.scrollTop(Math.max(jctrl.scrollTop()-15,0))}},100)}}else if(jsh.mouseY<=joff.top+h&&jsh.mouseY>=joff.top+h-15){if(!hoverBorderTimer){hoverBorderStart=0;hoverBorderTimer=setInterval(function(){var nowTime=(new Date).getTime();if(!hoverBorderStart)hoverBorderStart=nowTime;if(nowTime-hoverBorderStart>300){jctrl.scrollTop(jctrl.scrollTop()+15)}},100)}}else{if(hoverBorderTimer)window.clearTimeout(hoverBorderTimer);hoverBorderTimer=null}}else{if(hoverBorderTimer)window.clearTimeout(hoverBorderTimer);hoverBorderTimer=null}if(!targetObj)return;if($(targetObj).data("id")==$(mouseDragObj).data("id"))return;jsh.$root(".xdrag").css("visibility","visible");var targetAnchor=XExt.getObjectAnchors(targetObj,jsh.mouseX,jsh.mouseY,drag_anchor_settings);$(targetObj).addClass("xdragtarget");if(targetAnchor[0]=="left")$(targetObj).addClass("xdragleft");else if(targetAnchor[0]=="right")$(targetObj).addClass("xdragright");if(targetAnchor[1]=="top")$(targetObj).addClass("xdragtop");else if(targetAnchor[1]=="bottom")$(targetObj).addClass("xdragbottom");else if(targetAnchor[1]=="full")$(targetObj).addClass("xdragfull")});jsh.on("jsh_mouseDragEnd.jsh_tree_"+treeid,function(event,mouseDragObj,targetObj,origEvent){jctrl.$find(".xdragtarget").removeClass("xdragtarget");if(!targetObj)return;if($(targetObj).data("id")==$(mouseDragObj).data("id"))return;var targetObjId=$(targetObj).data("id");if(targetObjId==mouseDragObj)return;var mouseDragObjVal=$(mouseDragObj).data("value");var targetObjVal=$(targetObj).data("value");var targetAnchor=XExt.getObjectAnchors(targetObj,jsh.mouseX,jsh.mouseY,drag_anchor_settings);if(onmove)onmove(mouseDragObjVal,targetObjVal,targetAnchor,origEvent)})};XExt.TreeRenderNode=function(ctrl,n,controlparams){var children="";if(n.Expanded||!n.LazyRender){for(var i=0;i<n.Children.length;i++){children+=XExt.TreeRenderNode(ctrl,n.Children[i],controlparams)}}var item_dropdown_html="";if(controlparams&&controlparams.item_dropdown){item_dropdown_html='<div class="tree_item_dropdown_container"><div class="tree_item_dropdown"  data-value="<%=n.Value%>" onclick=\'<%-instance%>.XExt.TreeItemContextMenu(this,<%-JSON.stringify(n.ID)%>,{ top: <%-instance%>.$(this).offset().top+<%-instance%>.$(this).outerHeight()-1, left: <%-instance%>.$(this).offset().left, hideIfOpen: true });event.preventDefault();event.stopPropagation();event.stopImmediatePropagation(); return false;\'>'+XExt.escapeHTML(controlparams.item_dropdown.caption||"Actions")+"</div></div>"}var rslt=jsh.ejs.render('      <a href="#" class="tree_item tree_item_<%=n.ID%> <%=(n.Children.length && (n.LazyRender&&!n.Expanded)?"tree_render_lazy":"")%> <%=(n.Children.length==0?"nochildren":"")%> <%=(n.Expanded?"expanded":"")%> <%=(n.Selected?"selected":"")%>" data-id="<%=n.ID%>" data-value="<%=n.Value%>" onclick=\'<%-instance%>.XExt.TreeSelectNode(this,<%-JSON.stringify(n.Value)%>,{ source: "click" }); return false;\' oncontextmenu=\'return <%-instance%>.XExt.TreeItemContextMenu(this,<%-JSON.stringify(n.ID)%>);\'><div class="glyph" href="#" onclick=\'<%-instance%>.XExt.CancelBubble(arguments[0]); <%-instance%>.XExt.TreeToggleNode(<%-instance%>.$(this).closest(".xform_ctrl.tree"),<%-JSON.stringify(n.ID)%>); return false;\'><%-(n.Expanded?"&#x25e2;":"&#x25b7;")%></div><img class="icon" src="<%-jsh._PUBLICURL%>images/icon_<%=n.Icon%>.png"><span>'+item_dropdown_html+'<%=n.Text||""%></span></a>      <div class="children <%=(n.Expanded?"expanded":"")%> tree_item_<%=n.ID%>" data-id="<%=n.ID%>" data-value="<%=n.Value%>"><%-children%></div>',{n:n,children:children,jsh:jsh,instance:jsh.getInstance()});return rslt};XExt.isMobile=function(userAgent){if(typeof userAgent=="undefined")userAgent=navigator.userAgent;userAgent=(userAgent||"").toLowerCase();return/android|iphone|ipad|ipod|blackberry|iemobile|opera mini|webos|mobi/i.test(userAgent)};XExt.getJSLocals=function(modelid){modelid=XExt.resolveModelID(modelid);var rslt=jsh.jslocals;if(modelid)rslt+="var modelid = '"+modelid+"'; var _this = jsh.App[modelid]; var xmodel = jsh.XModels[modelid]; ";return rslt};XExt.getJSApp=function(modelid,quotechar){modelid=XExt.resolveModelID(modelid);if(typeof quotechar=="undefined")quotechar="'";return jsh._instance+".App["+quotechar+modelid+quotechar+"]"};XExt.JSEval=function(str,_thisobj,params){if(!_thisobj)_thisobj=jsh;if(!params)params={};if("modelid"in params)params.modelid=XExt.resolveModelID(params.modelid);var paramstr="";if(params){for(var param in params){paramstr+="var "+param+"=params."+param+";"}}var jscmd="(function(){"+XExt.getJSLocals(params.modelid)+paramstr+"return (function(){"+str+"})();}).call(_thisobj)";return eval(jscmd)};XExt.wrapJS=function(code,modelid,options){modelid=XExt.resolveModelID(modelid);options=_.extend({returnFalse:true},options);return"return (function(){"+XExt.escapeHTML(XExt.getJSLocals(modelid))+" "+XExt.unescapeEJS(XExt.escapeHTML(code))+"; "+(options.returnFalse?"return false;":"")+" }).call(this);"};XExt.TreeItemContextMenu=function(ctrl,n,contextMenuOptions){var jctrl=$(ctrl);var jtree=jctrl.closest(".xform_ctrl.tree");var fieldname=XExt.getFieldNameFromObject(ctrl);var menuid="._item_context_menu_"+fieldname;if(jtree.data("oncontextmenu")){var f=new Function("n",jtree.data("oncontextmenu"));var frslt=f.call(ctrl,n);if(frslt===false||frslt===true)return frslt}if(jsh.$root(menuid).length){if(contextMenuOptions&&contextMenuOptions.hideIfOpen){if(jsh.$root(menuid).is(":visible")){XExt.HideContextMenu();return false}}XExt.ShowContextMenu(menuid,$(ctrl).data("value"),{id:n},contextMenuOptions);return false}return true};XExt.TreeDoubleClickNode=function(ctrl,n){var jctrl=$(ctrl);var jtree=jctrl.closest(".xform_ctrl.tree");if(jtree.data("ondoubleclick")){var rslt=new Function("n",jtree.data("ondoubleclick"));rslt.call(ctrl,n)}};XExt.TreeGetSelectedNodes=function(ctrl){var rslt=[];$(ctrl).$find(".tree_item.selected").each(function(){var val=$(this).data("value");if(val)rslt.push(val.toString())});return rslt};XExt.TreeGetExpandedNodes=function(ctrl){var rslt=[];$(ctrl).$find(".tree_item.expanded").each(function(){var val=$(this).data("value");if(val)rslt.push(val.toString())});return rslt};XExt.TreeSelectNode=function(ctrl,nodevalue,options){if(!options)options={triggerChange:true,source:""};if(!("triggerChange"in options))options.triggerChange=true;var jctrl=$(ctrl);if(options.source=="click"){var curClick=(new Date).getTime();var startX=jsh.mouseX;var startY=jsh.mouseY;var lastClick=parseInt(jctrl.data("lastclick")||0);jctrl.data("lastclick",curClick.toString());if(curClick-lastClick<=XExt.DOUBLECLICK_TIMEOUT){XExt.TreeDoubleClickNode(ctrl,jctrl.data("id"));jctrl.data("lastclick","")}else{XExt.handleOnce(jsh.xLoader.onMouseDown,function(e){var loaderClick=(new Date).getTime();if(jctrl.data("lastclick")&&loaderClick-curClick<=XExt.DOUBLECLICK_TIMEOUT){var diffX=Math.abs(jsh.mouseX-startX);var diffY=Math.abs(jsh.mouseY-startY);if(diffX<=8&&diffY<=8){XExt.TreeDoubleClickNode(ctrl,jctrl.data("id"));jctrl.data("lastclick","")}}})}}var xform=XExt.getFormFromObject(ctrl);var fieldname=XExt.getFieldNameFromObject(ctrl);var field=undefined;if(xform&&fieldname)field=xform.Data.Fields[fieldname];var jtree=jctrl.closest(".xform_ctrl.tree");if(jtree.hasClass("uneditable"))return;jtree.$find(".selected").removeClass("selected");var nodeid=undefined;if(nodevalue){var findNode=function(){jtree.$find(".tree_item").each(function(){if($(this).data("value")==nodevalue)nodeid=$(this).data("id")})};findNode();if(typeof nodeid=="undefined"){var treePathInfo={value:nodevalue};jtree.trigger("tree_path",[treePathInfo]);_.each(treePathInfo.path,function(node){var jtreenode=jtree.$find(".tree_item_"+node.ID);if(jtreenode.hasClass("tree_render_lazy"))jtreenode.trigger("tree_render_lazy")});findNode();if(typeof nodeid=="undefined")return}jtree.$find(".tree_item.tree_item_"+nodeid).addClass("selected");if(field&&field.controlparams){if(field.controlparams.expand_to_selected)XExt.TreeExpandToSelected(ctrl)}}if(field&&jsh.init_complete){if(xform&&xform.Data&&options.triggerChange)xform.Data.OnControlUpdate(ctrl)}if(typeof nodeid!=="undefined"&&jtree.data("onselected")){var rslt=new Function("nodeid",jtree.data("onselected"));rslt.call(ctrl,nodeid)}};XExt.TreeToggleNode=function(jctrl,nodeid){jctrl=jctrl.closest(".xform_ctrl.tree");if(jctrl.$find(".children.tree_item_"+nodeid).hasClass("expanded"))XExt.TreeCollapseNode(jctrl,nodeid);else XExt.TreeExpandNode(jctrl,nodeid)};XExt.TreeCollapseNode=function(jctrl,nodeid){jctrl=jctrl.closest(".xform_ctrl.tree");jctrl.$find(".tree_item_"+nodeid).removeClass("expanded");jctrl.$find(".tree_item.tree_item_"+nodeid+" > .glyph").html("&#x25b7;")};XExt.TreeExpandNode=function(jctrl,nodeid){jctrl=jctrl.closest(".xform_ctrl.tree");var jtreenode=jctrl.$find(".tree_item_"+nodeid);if(jtreenode.hasClass("tree_render_lazy"))jtreenode.trigger("tree_render_lazy");jtreenode.addClass("expanded");jctrl.$find(".tree_item.tree_item_"+nodeid+" > .glyph").html("&#x25e2;")};XExt.TreeExpandToSelected=function(ctrl){var toptree=$(ctrl).closest(".xform_ctrl.tree");var rslt=[];toptree.$find(".tree_item.selected").each(function(){var jctrl=$(this);var jparent=jctrl.parent();while(jparent.length&&!jparent.is(toptree)){XExt.TreeExpandNode(toptree,jparent.data("id"));jparent=jparent.parent()}});return rslt};XExt.TreeExpandAll=function(ctrl){var jctrl=$(ctrl).closest(".xform_ctrl.tree");if(!jctrl.$find(".tree_render_lazy").length){jctrl.$find(".tree_item").addClass("expanded");jctrl.$find(".children").addClass("expanded");jctrl.$find(".glyph").html("&#x25e2;")}else{var unexpanded=jctrl.$find(".tree_item").not(".expanded");var i=0;while(unexpanded.length){i++;if(i>1e3)break;unexpanded.each(function(){XExt.TreeExpandNode(jctrl,this.getAttribute("data-id"))});unexpanded=jctrl.$find(".tree_item").not(".expanded")}}};XExt.getMaxLength=function(field){var rslt=-1;if("type"in field){var ftype=field.type;if((ftype=="varchar"||ftype=="char")&&"length"in field)rslt=field.length;else if(ftype=="bigint")rslt=25;else if(ftype=="datetime")rslt=50;else if(ftype=="time")rslt=50;else if(ftype=="date")rslt=50;else if(ftype=="decimal"){rslt=40;var prec_h=38;var prec_l=4;if("precision"in field){prec_h=field.precision[0];prec_l=field.precision[1]}rslt=prec_h+2+prec_l}else if(ftype=="float"){rslt=128}else if(ftype=="int")rslt=15;else if(ftype=="smallint")rslt=10;else if(ftype=="tinyint")rslt=3;else if(ftype=="boolean")rslt=5;else if(ftype=="binary"&&"length"in field)rslt=field.length*2+2}return rslt};XExt.getTypedFieldValue=function(field,value){if(!field||!field.type)return value;if(XExt.isNullUndefined(value))return value;if(_.includes(["varchar","char","binary","hash"],field.type))return value.toString();else if(_.includes(["bigint","int","smallint","tinyint"],field.type))return parseInt(value);else if(_.includes(["decimal","float"],field.type))return parseFloat(value);else if(field.type=="time"){var timestr=jsh.XFormat.time_decode(null,value);if(XExt.isNullUndefined(timestr))return timestr;return new Date(timestr)}else if(_.includes(["datetime","date"],field.type)){var dtstr=jsh.XFormat.date_decode(null,value);if(XExt.isNullUndefined(dtstr))return dtstr;return new Date(dtstr)}else if(field.type=="boolean")return jsh.XFormat.bool_decode(value);return value};XExt.getFieldByName=function(model,fieldname){if(!model||!model.fields)return null;if(model.fields.length){for(var i=0;i<model.fields.length;i++){if(model.fields[i]&&model.fields[i].name==fieldname)return model.fields[i]}}else{if(fieldname in model.fields)return model.fields[fieldname]}return null};XExt.XInputAction=function(_obj,_overrideFunc){if(_obj&&_obj instanceof $&&_obj.length)this.obj=_obj[0];else this.obj=_obj;this.tstamp=Date.now();this.mouseX=jsh.mouseX;this.mouseY=jsh.mouseY;this.mouseDown=jsh.mouseDown;this.overrideFunc=_overrideFunc};XExt.XInputAction.prototype.Exec=function(){var _this=this;if(_this.obj)$(_this.obj).focus();if(this.overrideFunc)this.overrideFunc();else if(_this.obj&&_this.mouseDown){XExt.Click(_this.obj,_this.mouseX,_this.mouseY)}};XExt.XInputAction.prototype.IsExpired=function(){return Date.now()-this.tstamp>500};XExt.getLastClicked=function(){var is_recent_click=Date.now()-jsh.last_clicked_time<100;if(jsh.last_clicked&&is_recent_click)return jsh.last_clicked;return undefined};XExt.Click=function(obj,x,y){window.setTimeout(function(){obj.dispatchEvent(new MouseEvent("mousedown",{bubbles:true,cancelable:true,view:window}));obj.dispatchEvent(new MouseEvent("mouseup",{bubbles:true,cancelable:true,view:window}));obj.dispatchEvent(new MouseEvent("click",{bubbles:true,cancelable:true,view:window}))},1)};XExt.isIOS=function(){if(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)){return true}};XExt.clearDialogs=function(){jsh.xDialog=[];jsh.dialogBlock.children().hide();jsh.dialogBlock.hide();jsh.dialogBlock.off("mousedown.close");jsh.dialogBlock.off("mouseup.close")};XExt.dialogButtonFunc=function(dialogClass,oldactive,onComplete,params){if(!params)params={};var rslt=function(){for(var i=0;i<jsh.xDialog.length;i++){for(var j=0;j<i;j++){if(jsh.xDialog[j]==jsh.xDialog[i]){jsh.xDialog.splice(i,1);i--;break}}}if(jsh.xDialog.length>0&&jsh.xDialog[0]!=dialogClass)return;jsh.$dialogBlock(dialogClass).hide();jsh.dialogBlock.off("click"+dialogClass);if(jsh.xDialog.length==1){jsh.dialogBlock.hide()}if(jsh.xDialog[0]!=dialogClass){alert("ERROR - Invalid Dialog Stack");console.log(dialogClass);console.log(jsh.xDialog)}if(oldactive)oldactive.focus();window.setTimeout(function(){jsh.xDialog.shift();if(onComplete)onComplete()},1);if(params.onCompleteImmediate)params.onCompleteImmediate()};if(!params.onClosing)return rslt;return function(){params.onClosing(rslt)}};XExt.getDialogContainer=function(sel){var jsel=$(sel);if(!jsel.length)return window;var jdialog=jsel.closest(".xdialogbox");if(!jdialog.length)return window;return jdialog[0]};XExt.Alert=function(obj,onAccept,params){params=_.extend({escapeHTML:true},params);var msg="";if(_.isString(obj))msg=obj;else msg=JSON.stringify(obj);if(params.escapeHTML){msg=XExt.escapeHTML(msg);msg=XExt.ReplaceAll(XExt.ReplaceAll(msg,"\n","<br/>"),"\r","")}jsh.xDialog.unshift(".xalertbox");jsh.$dialogBlock(".xalertbox.base").zIndex(jsh.xDialog.length);var oldactive=document.activeElement;if(oldactive)$(oldactive).blur();jsh.$dialogBlock(".xalertmessage").html(msg);jsh.$dialogBlock(".xalertbox input").off("click");jsh.$dialogBlock(".xalertbox input").off("keydown");var acceptfunc=XExt.dialogButtonFunc(".xalertbox",oldactive,onAccept,{onCompleteImmediate:params.onAcceptImmediate});jsh.$dialogBlock(".xalertbox input").on("click",acceptfunc);jsh.$dialogBlock(".xalertbox input").on("keydown",function(e){if(e.keyCode==27){acceptfunc()}});jsh.$dialogBlock(".xalertbox").off("acceptDialog").on("acceptDialog",acceptfunc);jsh.$dialogBlock(".xalertbox.base").show();jsh.dialogBlock.show();jsh.XWindowResize();if(!XExt.isIOS())jsh.$dialogBlock(".xalertbox.base input").focus()};XExt.Confirm=function(obj,onYes,onNo,options){var default_options={button_ok_caption:"Yes",button_no_caption:"No",button_cancel_caption:"Cancel",message_type:"text"};if(!options||!options.onCancel){default_options.button_cancel_caption="No"}options=_.extend(default_options,options);var msg="";if(obj&&_.isString(obj))msg=obj;else msg=JSON.stringify(obj);if(options.message_type=="html"){}else{msg=XExt.escapeHTML(msg);msg=XExt.ReplaceAll(XExt.ReplaceAll(msg,"\n","<br/>"),"\r","")}jsh.xDialog.unshift(".xconfirmbox");jsh.$dialogBlock(".xconfirmbox.base").zIndex(jsh.xDialog.length);var oldactive=document.activeElement;if(oldactive)$(oldactive).blur();jsh.$dialogBlock(".xconfirmmessage").html(msg);jsh.$dialogBlock(".xconfirmbox input").off("click");jsh.$dialogBlock(".xconfirmbox input").off("keydown");var cancelfunc=XExt.dialogButtonFunc(".xconfirmbox",oldactive,options.onCancel?options.onCancel:onNo);var acceptfunc=XExt.dialogButtonFunc(".xconfirmbox",oldactive,onYes);if(options.onCancel){jsh.$dialogBlock(".xconfirmbox input.button_cancel").show();jsh.$dialogBlock(".xconfirmbox input.button_cancel").on("click",XExt.dialogButtonFunc(".xconfirmbox",oldactive,options.onCancel))}else jsh.$dialogBlock(".xconfirmbox input.button_cancel").hide();if(options.button_ok_caption)jsh.$dialogBlock(".xconfirmbox input.button_ok").val(options.button_ok_caption);if(options.button_no_caption)jsh.$dialogBlock(".xconfirmbox input.button_no").val(options.button_no_caption);if(options.button_cancel_caption)jsh.$dialogBlock(".xconfirmbox input.button_cancel").val(options.button_cancel_caption);jsh.$dialogBlock(".xconfirmbox").off("acceptDialog").on("acceptDialog",acceptfunc);jsh.$dialogBlock(".xconfirmbox").off("cancelDialog").on("cancelDialog",cancelfunc);jsh.$dialogBlock(".xconfirmbox input.button_ok").on("click",acceptfunc);jsh.$dialogBlock(".xconfirmbox input.button_no").on("click",XExt.dialogButtonFunc(".xconfirmbox",oldactive,onNo));jsh.$dialogBlock(".xconfirmbox input").on("keydown",function(e){if(e.keyCode==27){cancelfunc()}});jsh.$dialogBlock(".xconfirmbox.base").show();jsh.dialogBlock.show();jsh.XWindowResize();if(!XExt.isIOS())jsh.$dialogBlock(".xconfirmbox.base input.button_ok").focus()};XExt.stringify=function(origvalue,replacer,space){var cache=[];return JSON.stringify(origvalue,function(key,value){if(typeof value==="object"&&value!==null){if(cache.indexOf(value)!==-1){try{return JSON.parse(JSON.stringify(value))}catch(error){return}}cache.push(value)}if(replacer)return replacer(key,value);return value},space)};XExt.Prompt=function(obj,dflt,onComplete){var msg="";if(obj&&_.isString(obj))msg=obj;else msg=JSON.stringify(obj);if(!dflt)dflt="";if(!_.isString(dflt))dflt=JSON.stringify(dflt);msg=XExt.escapeHTML(msg);msg=XExt.ReplaceAll(XExt.ReplaceAll(msg,"\n","<br/>"),"\r","");jsh.xDialog.unshift(".xpromptbox");jsh.$dialogBlock(".xpromptbox.base").zIndex(jsh.xDialog.length);var oldactive=document.activeElement;if(oldactive)$(oldactive).blur();jsh.$dialogBlock(".xpromptmessage").html(msg);jsh.$dialogBlock(".xpromptbox input").off("click");jsh.$dialogBlock(".xpromptbox input").off("keydown");jsh.$dialogBlock(".xpromptfield").val(dflt);var cancelfunc=XExt.dialogButtonFunc(".xpromptbox",oldactive,function(){if(onComplete)onComplete(null)});var acceptfunc=XExt.dialogButtonFunc(".xpromptbox",oldactive,function(){if(onComplete)onComplete(jsh.$dialogBlock(".xpromptfield").val())});jsh.$dialogBlock(".xpromptbox input.button_ok").on("click",acceptfunc);jsh.$dialogBlock(".xpromptbox input.button_cancel").on("click",cancelfunc);jsh.$dialogBlock(".xpromptbox").off("acceptDialog").on("acceptDialog",acceptfunc);jsh.$dialogBlock(".xpromptbox").off("cancelDialog").on("cancelDialog",cancelfunc);jsh.$dialogBlock(".xpromptbox input").on("keydown",function(e){if(e.keyCode==27){cancelfunc()}});jsh.$dialogBlock(".xpromptfield").on("keydown",function(e){if(e.keyCode==13){acceptfunc()}});jsh.$dialogBlock(".xpromptbox.base").show();jsh.dialogBlock.show();jsh.XWindowResize();jsh.$dialogBlock(".xpromptfield").focus()};XExt.CustomPrompt=function(sel,html,onInit,onAccept,onCancel,onClosed,options){options=_.extend({backgroundClose:false,reuse:false,restoreFocus:true,onClosing:null},options);if(options.specialKeys===false)options.specialKeys={enter:false,escape:false};else options.specialKeys=_.extend({enter:true,escape:true},options.specialKeys);var foundPrevDialog=jsh.$dialogBlock(sel).length;if(foundPrevDialog&&!options.reuse)jsh.$dialogBlock(sel).remove();if(!foundPrevDialog||!options.reuse)jsh.dialogBlock.append(html);jsh.xDialog.unshift(sel);jsh.$dialogBlock(sel).zIndex(jsh.xDialog.length);var oldactive=document.activeElement;if(oldactive)$(oldactive).blur();oldactive=options.restoreFocus?oldactive:undefined;jsh.$dialogBlock(sel+" input").off("click");jsh.$dialogBlock(sel+" input").off("keydown");var cancelDialogFunc=XExt.dialogButtonFunc(sel,oldactive,function(){if(onClosed)onClosed();if(options.reuse)jsh.$dialogBlock(sel).hide();else jsh.$dialogBlock(sel).remove()},{onClosing:options.onClosing});var cancelfunc=function(options){options=_.extend({force:false},options);options.forceCancel=function(){cancelfunc({force:true})};if(onCancel){if(onCancel(options)===false&&!options.force)return}cancelDialogFunc()};var acceptfunc_aftervalidate=XExt.dialogButtonFunc(sel,oldactive,function(){if(onClosed)onClosed()},{onClosing:options.onClosing});var acceptfunc=function(){if(jsh.xDialog.length>0&&jsh.xDialog[0]!=sel)return;if(onAccept)return onAccept(function(){acceptfunc_aftervalidate()});else acceptfunc_aftervalidate()};if(onInit)onInit(acceptfunc,cancelfunc);jsh.$dialogBlock(sel+" input.button_ok").on("click",acceptfunc);jsh.$dialogBlock(sel+" input.button_cancel").on("click",cancelfunc);jsh.$dialogBlock(sel).off("acceptDialog").on("acceptDialog",acceptfunc);jsh.$dialogBlock(sel).off("cancelDialog").on("cancelDialog",cancelfunc);jsh.$dialogBlock(sel+" input, "+sel+" textarea, "+sel+" select").on("keydown",function(e){if(options.specialKeys.escape&&e.keyCode==27){e.preventDefault();e.stopImmediatePropagation();cancelfunc()}});jsh.$dialogBlock(sel+" input:not(:checkbox):not(:button)").on("keydown",function(e){if(options.specialKeys.escape&&e.keyCode==13){e.preventDefault();e.stopImmediatePropagation();acceptfunc()}});if(options.backgroundClose){jsh.dialogBlock.on("mousedown.close"+sel,function(e){if(!$(e.target).is(".xdialogoverlay,.xdialogblock"))return;var mouseDownTime=(new Date).getTime();jsh.dialogBlock.one("mouseup.close",function(e){var mouseUpTime=(new Date).getTime();if(mouseUpTime-mouseDownTime>5e3)return;if(!$(e.target).is(".xdialogoverlay,.xdialogblock"))return;if(jsh.xDialog.length&&jsh.xDialog[0]==sel){e.preventDefault();e.stopImmediatePropagation();cancelfunc()}})})}jsh.$dialogBlock(sel).show();jsh.dialogBlock.show();if(jsh.XPage&&jsh.XPage.LayoutOneColumn)jsh.XPage.LayoutOneColumn(jsh.$dialogBlock(sel)[0],{reset:true});jsh.XWindowResize();setTimeout(function(){jsh.XWindowResize();if(jsh.$dialogBlock(sel+" .default_focus").length)jsh.$dialogBlock(sel+" .default_focus").focus();else jsh.$dialogBlock(sel).$find("input:visible,textarea:visible,select:visible").first().focus()},1)};XExt.AcceptDialog=function(){if(!jsh.xDialog.length)throw new Error("No dialog currently active");$(jsh.xDialog[0]).trigger("acceptDialog")};XExt.CancelDialog=function(){if(!jsh.xDialog.length)throw new Error("No dialog currently active");$(jsh.xDialog[0]).trigger("cancelDialog")};XExt.ZoomEdit=function(val,caption,options,onAccept,onCancel){if(!options)options={};if(!val)val="";val=val.toString();jsh.xDialog.unshift(".xtextzoombox");jsh.$dialogBlock(".xtextzoombox").zIndex(jsh.xDialog.length);var oldactive=document.activeElement;if(oldactive)$(oldactive).blur();jsh.$dialogBlock(".xtextzoommessage").html(caption);jsh.$dialogBlock(".xtextzoombox input").off("click");jsh.$dialogBlock(".xtextzoombox input").off("keydown");jsh.$dialogBlock(".xtextzoomfield").val(val);jsh.$dialogBlock(".xtextzoomfield").prop("readonly",options.readonly?true:false);if(options.readonly)jsh.$dialogBlock(".xtextzoomfield").removeClass("editable").addClass("uneditable");else jsh.$dialogBlock(".xtextzoomfield").removeClass("uneditable").addClass("editable");var cancelfunc=XExt.dialogButtonFunc(".xtextzoombox",oldactive,function(){if(onCancel)onCancel()});var acceptfunc=XExt.dialogButtonFunc(".xtextzoombox",oldactive,function(){if(onAccept)onAccept(jsh.$dialogBlock(".xtextzoomfield").val())});jsh.$dialogBlock(".xtextzoombox input.button_ok").on("click",acceptfunc);jsh.$dialogBlock(".xtextzoombox input.button_cancel").on("click",cancelfunc);jsh.$dialogBlock(".xtextzoombox input").on("keydown",function(e){if(e.keyCode==27){cancelfunc()}});jsh.$dialogBlock(".xtextzoombox").show();jsh.dialogBlock.show();jsh.XWindowResize();jsh.$dialogBlock(".xtextzoomfield").focus()};XExt.ShowHints=function(lov,caption,options,onInsert,onCancel){if(!options)options={};if(!lov)lov=[];jsh.xDialog.unshift(".xhintsbox");var jdialog=jsh.$dialogBlock(".xhintsbox");jdialog.zIndex(jsh.xDialog.length);var oldactive=document.activeElement;if(oldactive)$(oldactive).blur();jsh.$dialogBlock(".xhintsmessage").html(caption);jsh.$dialogBlock(".xhintsbox input").off("click");jsh.$dialogBlock(".xhintsbox input").off("keydown");var tmpl=jdialog.$find(".xhints_rowtemplate").html();var jlisting=jdialog.$find(".xhints_listing");jlisting.empty();if(_.isArray(lov))_.each(lov,function(item){var jrow=$(tmpl);jrow.$find("input").val(item[jsh.uimap.code_val]);jrow.$find("span").text(item[jsh.uimap.code_txt]);if(options.readonly)jrow.$find("input").remove();jlisting.append(jrow)});jdialog.$find("input.button_ok,input:checkbox").toggle(!options.readonly);var getValues=function(){var rslt=[];jdialog.$find(".xhints_listing input:checkbox:checked").each(function(){rslt.push($(this).val())});return rslt};var cancelfunc=XExt.dialogButtonFunc(".xhintsbox",oldactive,function(){if(onCancel)onCancel()});var insertfunc=XExt.dialogButtonFunc(".xhintsbox",oldactive,function(){if(onInsert)onInsert(getValues())});jdialog.$find("input.button_ok").on("click",function(){if(!getValues().length)return XExt.Alert("Please select one or more values to insert");insertfunc()});jdialog.$find("input.button_cancel").on("click",cancelfunc);jdialog.$find("input").on("keydown",function(e){if(e.keyCode==27){cancelfunc()}});jsh.$dialogBlock(".xhintsbox").show();jsh.dialogBlock.show();jsh.XWindowResize();jdialog.$find("input").first().focus()};var popupData={};XExt.popupShow=function(modelid,fieldname,title,parentobj,obj,options){XExt.popup(_.extend(options,{modelid:modelid,fieldname:fieldname,title:title,parentobj:parentobj,obj:obj}))};XExt.popup=function(options){options=_.extend({modelid:undefined,fieldname:undefined,title:"",parentobj:undefined,obj:undefined,OnControlUpdate:null,OnPopupOpen:null,OnPopupClosed:null,rowid:undefined,container:undefined},options);var modelid=XExt.resolveModelID(options.modelid);var fieldname=options.fieldname;var title=options.title;var parentobj=options.parentobj;var obj=options.obj;var parentmodelid=$(obj).data("model");var parentmodelclass=parentmodelid;var parentfield=null;var parentmodel=null;if(parentmodelid){parentmodel=jsh.XModels[parentmodelid];parentfield=parentmodel.fields[fieldname];parentmodelclass=parentmodel.class}if(parentmodel&&typeof options.rowid!="undefined"){parentmodel.controller.NavTo(options.rowid,function(){delete options.rowid;XExt.popup(options)});return}var POPUP_CONTAINER=".popup_"+fieldname;if(parentmodelclass)POPUP_CONTAINER+=".xelem"+parentmodelclass;if(options.container)POPUP_CONTAINER=options.container;if(!parentobj)parentobj=jsh.$root(POPUP_CONTAINER);var numOpens=0;var xmodel=jsh.XModels[modelid];popupData[modelid]={};XExt.execif(parentfield&&parentfield.controlparams&&parentfield.controlparams.onpopup,function(f){parentfield.controlparams.onpopup(modelid,parentmodelid,fieldname,f)},function(){var code_val=$(obj).data("code_val");if(code_val)popupData[modelid].code_val=code_val;var xgrid=xmodel.controller.grid;var xform=xmodel.controller.form;if(xgrid){xgrid.RowCount=0;if(xgrid.Prop)xgrid.Prop.Enabled=true;jsh.$root(xgrid.PlaceholderID).html("")}if(xform&&xform.Prop){xform.Prop.Enabled=true}var orig_jsh_ignorefocusHandler=jsh.ignorefocusHandler;jsh.ignorefocusHandler=true;var popup_options={};popup_options={modelid:modelid,href:POPUP_CONTAINER,inline:true,closeButton:true,arrowKey:false,preloading:false,overlayClose:true,fixed:true,title:title,trapFocus:false,fadeOut:0,onOpen:function(){},onComplete:function(){if(options.OnPopupOpen)if(options.OnPopupOpen(popupData[modelid])===false)return;numOpens++;if(xgrid&&numOpens==1)xgrid.Select();if(jsh.$root(POPUP_CONTAINER+" .xsearch_value").first().is(":visible")){jsh.$root(POPUP_CONTAINER+" .xsearch_value").first().focus()}else if(jsh.$root(POPUP_CONTAINER).$find("td a").length)jsh.$root(POPUP_CONTAINER).$find("td a").first().focus()},onClosed:function(){var found_popup=false;for(var i=jsh.xPopupStack.length-1;i>=0;i--){if(jsh.xPopupStack[i].modelid==modelid){jsh.xPopupStack.splice(i,1);found_popup=true;break}}if(!found_popup){alert("ERROR - Invalid Popup Stack");console.log(modelid);console.log(jsh.xPopupStack)}if(jsh.xPopupStack.length)$.colorbox(jsh.xPopupStack[jsh.xPopupStack.length-1]);if(parentobj&&typeof popupData[modelid].result!=="undefined"){if(parentmodel&&parentfield&&parentfield.name)parentmodel.set(parentfield.name,popupData[modelid].result,null);else parentobj.val(popupData[modelid].result);if(popupData[modelid].resultrow&&parentfield&&parentfield.controlparams&&parentfield.controlparams.popup_copy_results){for(var fname in parentfield.controlparams.popup_copy_results){parentmodel.set(fname,popupData[modelid].resultrow[parentfield.controlparams.popup_copy_results[fname]],null)}}if(options.OnControlUpdate)options.OnControlUpdate(parentobj[0],popupData[modelid])}if(options.OnPopupClosed)options.OnPopupClosed(popupData[modelid]);if(parentobj)parentobj.focus();jsh.ignorefocusHandler=orig_jsh_ignorefocusHandler;if(xgrid&&xgrid.Prop){xgrid.Prop.Enabled=false}if(xform&&xform.Prop){xform.Prop.Enabled=false}}};var xsubform=$(popup_options.href).filter(".xsubform");if(xsubform.length){xsubform.css("max-height",$(window).height()-100+"px");xsubform.css("display","block");xsubform.css("overflow","auto")}jsh.xPopupStack.push(popup_options);$.colorbox(popup_options)})};XExt.popupSelect=function(modelid,obj){modelid=XExt.resolveModelID(modelid);var rslt=undefined;var rowid=XExt.XModel.GetRowID(modelid,obj);var xmodel=jsh.XModels[modelid];if(popupData[modelid].code_val){rslt=xmodel.controller.form.DataSet[rowid][popupData[modelid].code_val];if(!rslt)rslt=""}popupData[modelid].result=rslt;popupData[modelid].rowid=rowid;popupData[modelid].resultrow=xmodel.controller.form.DataSet[rowid];$.colorbox.close()};XExt.popupClear=function(modelid,obj){modelid=XExt.resolveModelID(modelid);var rslt=null;var xmodel=jsh.XModels[modelid];popupData[modelid].result=rslt;popupData[modelid].rowid=-1;popupData[modelid].resultrow=new xmodel.controller.form.DataType;$.colorbox.close()};XExt.AlertFocus=function(ctrl,msg){XExt.Alert(msg,function(){$(ctrl).focus().select()})};XExt.getModelId=function(obj){var xid=$(obj).closest(".xtbl").data("id");if(!xid)xid=$(obj).closest(".xform").data("id");if(!xid)return null;return xid};XExt.getModelMD5=function(modelid){modelid=XExt.resolveModelID(modelid);return Crypto.MD5(jsh.frontsalt+modelid).toString()};XExt.numOccurrences=function(val,find){if(!val)return 0;if(!find)return val.length+1;var rslt=0;var pos=0;var step=find.length;while(true){pos=val.indexOf(find,pos);if(pos>=0){rslt++;pos+=step}else break}return rslt};XExt.getClasses=function(obj){var jobj=$(obj);var rslt=[];var classes=(jobj.attr("class")||"").split(/\s+/);for(var i=0;i<classes.length;i++){if(classes[i].trim())rslt.push(classes[i].trim())}return rslt};XExt.ItemContextMenu=function(ctrl){var parent=$(ctrl).closest(".xcontext_parent");if(!parent.length)return true;var menuid="._item_context_menu_"+parent.data("id");if(!jsh.$root(menuid).length)return true;XExt.ShowContextMenu(menuid,$(ctrl).data("value"));return false};XExt.basename=function(fname){var rslt=fname;if(!rslt)return rslt;if(rslt=="/")return"";if(rslt=="\\")return"";if(rslt.lastIndexOf("/")==rslt.length-1)rslt=rslt.substr(0,rslt.length-1);if(rslt.lastIndexOf("\\")==rslt.length-1)rslt=rslt.substr(0,rslt.length-1);if(rslt.lastIndexOf("/")>=0)rslt=rslt.substr(rslt.lastIndexOf("/")+1);if(rslt.lastIndexOf("\\")>=0)rslt=rslt.substr(rslt.lastIndexOf("\\")+1);return rslt};XExt.dirname=function(path){return path.replace(/\\/g,"/").replace(/\/[^/]*\/?$/,"")};XExt.cleanFileName=function(fname){if(typeof fname=="undefined")return"";if(fname===null)return"";fname=fname.toString();if(fname.length>247)fname=fname.substr(0,247);return fname.replace(/[/?<>\\:*|":]/g,"").replace(/[\x00-\x1f\x80-\x9f]/g,"").replace(/^\.+$/,"").replace(/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,"")};XExt.cleanFilePath=function(fpath,options){options=_.extend({allow:"/"},options);if(typeof fpath=="undefined")return"";if(fpath===null)return"";fpath=fpath.toString();if(fpath.length>247)fpath=fpath.substr(0,247);var chars='/?<>\\:*|":';for(var i=0;i<options.allow.length;i++){chars=chars.replace(options.allow[i],"")}return fpath.replace(new RegExp("["+RegExp.escape(chars)+"]","g"),"").replace(/[\x00-\x1f\x80-\x9f]/g,"").replace(/^\.+$/,"").replace(/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,"")};XExt.utf8_base64=function(str){return window.btoa(unescape(encodeURIComponent(str)))};XExt.base64_utf8=function(str){return decodeURIComponent(escape(window.atob(str)))};XExt.chainObj=function(obj,p,f){if(!obj[p])obj[p]=f;else{var oldf=obj[p];obj[p]=function(){f();oldf()}}};XExt.chain=function(orig_f,f){if(!orig_f)return f;return function(){var rslt=f.apply(this,arguments);if(typeof rslt!="undefined")return rslt;return orig_f.apply(this,arguments)}};XExt.chainToEnd=function(orig_f,f){if(!orig_f)return f;return function(){var rslt=orig_f.apply(this,arguments);if(typeof rslt!="undefined")return rslt;return f.apply(this,arguments)}};XExt.execif=function(cond,apply,f){if(cond)apply(f);else f()};XExt.LiteralOrLookup=function(str,dictionary,xmodel){var rslt=undefined;if(!isNaN(str))rslt=str;else if(str&&str.length>=2&&str[0]=="'"&&str[str.length-1]=="'")rslt=str.substr(1,str.length-2);else if(str&&str.toString().indexOf("js:")==0)rslt=XExt.JSEval(str.substr(3),xmodel,{xmodel:xmodel});else if(str&&str.trim().toLowerCase()=="null")rslt=null;else if(str&&xmodel&&xmodel.hasBindingOrRootKey(str))rslt=xmodel.getBindingOrRootKey(str);else if(str&&xmodel&&xmodel.has(str))rslt=xmodel.get(str,null);else if(dictionary){if(_.isArray(dictionary)){for(var i=0;i<dictionary.length;i++){if(str in dictionary[i])return dictionary[i][str]}}else{rslt=dictionary[str]}}return rslt};XExt.findClosest=function(elem,sel){var jobj=$(elem).$find(sel);if(jobj.length)return jobj;var parent=$(elem).parent();if(!parent.length)return $();return XExt.findClosest(parent,sel)};XExt.getToken=function(onComplete,onFail){if(!jsh)throw new Error("XExt requires jsHarmony instance to run getToken");jsh.XForm.prototype.XExecute("../_token",{},onComplete,onFail)};XExt.triggerAsync=function(handlers,cb){if(!cb)cb=function(){};if(!handlers)handlers=[];if(!_.isArray(handlers))handlers=[handlers];var params=[];if(arguments.length>2)params=Array.prototype.slice.call(arguments,2);jsh.async.eachSeries(handlers,function(handler,handler_cb){var hparams=[handler_cb].concat(params);handler.apply(null,hparams)},cb)};XExt.trigger=function(handlers){if(!handlers)handlers=[];if(!_.isArray(handlers))handlers=[handlers];handlers=handlers.slice();var params=[];if(arguments.length>1)params=Array.prototype.slice.call(arguments,1);_.each(handlers,function(handler){handler.apply(null,params)})};XExt.handleOnce=function(handlers,f){var hasExecuted=false;var onceHandler=function(){for(var i=0;i<handlers.length;i++){if(handlers[i]==onceHandler)handlers.splice(i,1)}if(hasExecuted)return;hasExecuted=true;f.apply(null,arguments)};handlers.push(onceHandler)};XExt.isGridControl=function(ctrl){return jsh.$root(".SQ_CARRIER_PRO").closest(".xtbl").length>0};XExt.getFormBase=function(id){if(!jsh.XBase[id]){XExt.Alert("ERROR: Base form "+id+" not found.");return}var basemodelid=jsh.XBase[id][0];if(basemodelid)return jsh.XModels[basemodelid].controller.form;return undefined};XExt.getForm=function(id){if(!(id in jsh.XModels)){XExt.Alert("ERROR: Form "+id+" not found.");return}return jsh.XModels[id].controller.form};XExt.getFormFromObject=function(ctrl){var modelid=$(ctrl).closest(".xform").data("id");if(modelid)return jsh.XModels[modelid].controller.form;return undefined};XExt.getModelIdFromObject=function(ctrl){var modelid=$(ctrl).closest(".xform").data("id");if(modelid)return modelid;return undefined};XExt.getFieldNameFromObject=function(ctrl){var jctrl=$(ctrl).closest(".xform_ctrl,.xform_file_upload");return jctrl.data("id")};XExt.getFieldFromObject=function(ctrl){var jctrl=$(ctrl).closest(".xform_ctrl,.xform_file_upload");if(!jctrl.length)return undefined;var fieldName=jctrl.data("id");var modelid=XExt.getModelId(jctrl);if(fieldName&&modelid){var xmodel=jsh.XModels[modelid];if(xmodel&&xmodel.fields&&fieldName in xmodel.fields){return xmodel.fields[fieldName]}}};XExt.getFormField=function(xform,fieldname){if(!xform){XExt.Alert("ERROR: Cannot read field "+fieldname+" - Parent form not found.");return}if(!xform.Data.Fields[fieldname]){XExt.Alert("ERROR: Target field "+fieldname+" not found in "+xform.Data._modelid);return}return xform.Data.GetValue(xform.Data.Fields[fieldname])};XExt.formatField=function(xform,fieldname,fieldval){if(!xform){XExt.Alert("ERROR: Cannot read field "+fieldname+" - Parent form not found.");return}if(!xform.Data.Fields[fieldname]){XExt.Alert("ERROR: Target field "+fieldname+" not found in "+xform.Data._modelid);return}return jsh.XFormat.Apply(xform.Data.Fields[fieldname].format,fieldval)};XExt.setFormField=function(xform,fieldname,fieldval){if(!xform){XExt.Alert("ERROR: Cannot set field "+fieldname+" - Parent form not found.");return}if(!xform.Data.Fields[fieldname]){XExt.Alert("ERROR: Target field "+fieldname+" not found in "+xform.Data._modelid);return}XExt.XModel.SetFieldValue(xform.Data,xform.Data.Fields[fieldname],fieldval)};XExt.setFormControl=function(xform,fieldname,fieldval){if(!xform){XExt.Alert("ERROR: Cannot set field "+fieldname+" - Parent form not found.");return}if(!xform.Data.Fields[fieldname]){XExt.Alert("ERROR: Target field "+fieldname+" not found in "+xform.Data._modelid);return}XExt.XModel.SetControlValue(xform.Data,xform.Data.Fields[fieldname],fieldval)};XExt.isFieldTopmost=function(modelid,fieldname){if(!modelid)return true;var model=jsh.XModels[modelid];if(!model)return true;var parentmodel=jsh.XModels[model.parent];while(parentmodel){if(parentmodel.fields&&fieldname in parentmodel.fields){return false}parentmodel=jsh.XModels[parentmodel.parent]}return true};XExt.popupForm=function(modelid,action,querystringParams,windowParams,existingWindow){modelid=XExt.resolveModelID(modelid);if(!querystringParams)querystringParams={};if(action)querystringParams.action=action;var url=jsh._BASEURL+modelid;var dfltwindowParams={width:1e3,height:600,resizable:1,scrollbars:1};var modelmd5=XExt.getModelMD5(modelid);if(modelmd5 in jsh.popups){var default_popup_size=jsh.popups[modelmd5];dfltwindowParams.width=default_popup_size[0];dfltwindowParams.height=default_popup_size[1]}if(!windowParams)windowParams={};if(querystringParams)url+="?"+$.param(querystringParams);var windowstr="";for(var p in dfltwindowParams){if(!(p in windowParams))windowParams[p]=dfltwindowParams[p]}for(var windowParam in windowParams){windowstr+=","+windowParam+"="+windowParams[windowParam]}if(windowstr)windowstr=windowstr.substr(1);if(existingWindow){existingWindow.location=url;existingWindow.focus();return existingWindow}else return window.open(url,"_blank",windowstr)};XExt.popupReport=function(modelid,querystringParams,windowParams,existingWindow){modelid=XExt.resolveModelID(modelid);var url=jsh._BASEURL+"_d/_report/"+modelid+"/";var dfltwindowParams={width:1e3,height:600,resizable:1,scrollbars:1};var modelmd5=XExt.getModelMD5(modelid);if(modelmd5 in jsh.popups){var default_popup_size=jsh.popups[modelmd5];dfltwindowParams.width=default_popup_size[0];dfltwindowParams.height=default_popup_size[1]}if(!windowParams)windowParams={};if(querystringParams)url+="?"+$.param(querystringParams);var windowstr="";for(var p in dfltwindowParams){if(!(p in windowParams))windowParams[p]=dfltwindowParams[p]}for(var windowParam in windowParams){windowstr+=","+windowParam+"="+windowParams[windowParam]}if(windowstr)windowstr=windowstr.substr(1);if(existingWindow){existingWindow.location=url;existingWindow.focus();return existingWindow}else return window.open(url,"_blank",windowstr)};XExt.fitWindowScript=function(onComplete){var rsltFunc=function(callback){if(window.opener&&window.opener!==window){var targetX=window.screenX;var targetY=window.screenY;if(window.screen&&"availLeft"in window.screen&&"availTop"in window.screen){var needsMove=false;if(targetX<window.screen.availLeft){targetX=window.screen.availLeft;needsMove=true}if(targetY<window.screen.availTop){targetY=window.screen.availTop;needsMove=true}if(needsMove){window.moveTo(targetX,targetY)}}}return callback()};return"("+rsltFunc.toString()+")(function(){"+onComplete.toString()+"})"};XExt.createWindow=function(url,target,params){var win=window.open(undefined,target,params);var pageBody='<script type="text/javascript">'+"(function(){"+"setTimeout(function(){"+XExt.fitWindowScript("window.location.href = "+JSON.stringify(url)+";")+"}, 100);"+"})();<\/script>";if(url&&url.substr(0,5)=="data:"){pageBody='<body style="margin:0;padding:0;width:100%;height:100%;box-sizing:border-box;">'+pageBody+'<iframe src="'+XExt.escapeHTML(url)+'" frameBorder="0" style="width:100%;height:100%;box-sizing:border-box;"></iframe></body>'}win.document.write(pageBody);return win};XExt.renderCanvasCheckboxes=function(){jsh.$root("canvas.checkbox.checked").each(function(){var obj=this;var w=obj.width;var h=obj.height;var ctx=obj.getContext("2d");ctx.beginPath();ctx.lineWidth=1;ctx.moveTo(0,0);ctx.lineTo(w,0);ctx.lineTo(w,h);ctx.lineTo(0,h);ctx.lineTo(0,0);ctx.beginPath();ctx.lineWidth=1.5;ctx.moveTo(0,0);ctx.lineTo(w,h);ctx.moveTo(w,0);ctx.lineTo(0,h);ctx.stroke()})};XExt.DataBinding=function(data){this.Bindings=[];this.Data=data};XExt.DataBinding.prototype.Bind=function(obj){if(!obj.OnUpdate)throw new Error("Binding missing OnUpdate handler");if(!_.includes(this.Bindings,obj)){this.Bindings.push(obj);obj.OnUpdate(this.Data)}};XExt.DataBinding.prototype.Unbind=function(obj){var found=false;for(var i=0;i<this.Bindings.length;i++){if(this.Bindings[i]==obj){found=true;this.Bindings.splice(i,1);i--}}if(!found)throw new Error("Binding not found")};XExt.DataBinding.prototype.Update=function(data){var _this=this;_this.Data=data;for(var i=0;i<_this.Bindings.length;i++){var binding=_this.Bindings[i];binding.OnUpdate(_this.Data)}};XExt.insertTextAtCursor=function(txt,className){if(window.getSelection){var s=document.createElement("SPAN");s.innerText=txt;if(className)s.className=className;var sel=window.getSelection();if(!sel||!sel.rangeCount)return null;sel.getRangeAt(0).insertNode(s);return s}else if(document.selection&&document.selection.createRange){document.selection.createRange().text=txt;return null}else throw new Error("Inserting text into contenteditable not supported.")};XExt.selectionIsChildOf=function(jobj){if(window.getSelection){var sel=window.getSelection();if(!sel||!sel.rangeCount)return false;var rstart=sel.getRangeAt(0);if(jobj[0]==rstart.startContainer)return true;return $.contains(jobj[0],rstart.startContainer)}else throw new Error("Inserting text into contenteditable not supported.")};XExt.hasSelection=function(){if(window.getSelection){var sel=window.getSelection();if(!sel||!sel.rangeCount)return false;var r=sel.getRangeAt(0);if(!r)return false;return!r.collapsed}return false};XExt.clearSelection=function(){if(!XExt.hasSelection())return;if(window.getSelection){if(window.getSelection().empty){window.getSelection().empty()}else if(window.getSelection().removeAllRanges){window.getSelection().removeAllRanges()}}else if(document.selection){document.selection.empty()}};XExt.getSelection=function(obj){if(typeof obj.selectionStart!="undefined"){return{start:obj.selectionStart,end:obj.selectionEnd}}else if(document.selection){obj.focus();var r=document.selection.createRange();var r_len=r.text.length;r.moveStart("character",-1*$(obj).val().length);return{start:r.text.length-r_len,end:r.text.length}}else return undefined};XExt.getSalt=function(len){var rslt="";var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+-=][}{|~,.<>?";for(var i=0;i<len;i++)rslt+=chars.charAt(Math.floor(Math.random()*chars.length));return rslt};XExt.Tick=function(f){window.setTimeout(f,1)};XExt.waitUntil=function(cond,f,cancel,timeout){if(!timeout)timeout=100;if(!cancel)cancel=function(f){return false};if(cancel(f))return;if(cond())return f();setTimeout(function(){XExt.waitUntil(cond,f,cancel,timeout)},timeout)};XExt.scrollIntoView=function(jcontainer,pos,h){if(!jcontainer.length)return;var sTop=jcontainer.scrollTop();var sLeft=jcontainer.scrollLeft();var cW=jcontainer[0].clientWidth;var cH=jcontainer[0].clientHeight;var minV=sTop;var maxV=sTop+cH;var minH=sLeft;var maxH=sLeft+cW;var posbottom=pos.top+h;if(pos.left<minH||pos.left>maxH)jcontainer.scrollLeft(pos.left);if(posbottom<minV||posbottom>maxV){if(posbottom<minV)jcontainer.scrollTop(pos.top);else{var newscrollTop=posbottom-cH;if(newscrollTop<0)newscrollTop=0;jcontainer.scrollTop(newscrollTop)}}else if(pos.top<minV){jcontainer.scrollTop(pos.top)}};XExt.scrollObjIntoView=function(jcontainer,jobj){var jobjpos=jobj.offset();var jcontainerpos=jcontainer.offset();jobjpos.top-=jcontainerpos.top-jcontainer.scrollTop();jobjpos.left-=jcontainerpos.left-jcontainer.scrollLeft();XExt.scrollIntoView(jcontainer,jobjpos,jobj.height())};XExt.isMouseWithin=function(elem){return XExt.isPointWithin(elem,jsh.mouseX,jsh.mouseY)};XExt.isPointWithin=function(elem,x,y){var jobj=$(elem);var joff=jobj.offset();var w=jobj.outerWidth();var h=jobj.outerHeight();if(x<joff.left)return false;if(x>joff.left+w)return false;if(y<joff.top)return false;if(y>joff.top+h)return false;return true};XExt.getObjectAnchors=function(elem,x,y,options){options=_.extend({anchors:["full"],full_threshold:.25},options);var anchors={};for(var i=0;i<options.anchors.length;i++)anchors[options.anchors[i]]=1;var jobj=$(elem);var joff=jobj.offset();var w=jobj.outerWidth(false);var h=jobj.outerHeight(false);var fph=Math.abs((h>0?(y-joff.top)/h:0)-.5);var lp=(w>0?(x-joff.left)/w:0)-.5;var tp=(h>0?(y-joff.top)/h:0)-.5;var rslt=["",""];if(lp<0){if(anchors.left)rslt[0]="left"}else{if(anchors.right)rslt[0]="right"}if(anchors.full&&fph<=.25){rslt[1]="full"}else if(tp>0){if(anchors.bottom)rslt[1]="bottom"}else{if(anchors.top)rslt[1]="top"}if(!rslt[1]&&anchors.full)rslt[1]="full";return rslt};XExt.bindDragSource=function(jobj){var mouseDownTimer=null;jobj.mousedown(function(e){if(e.which==1){var obj=this;if(jsh.xContextMenuVisible)return;XExt.CancelBubble(e);if(mouseDownTimer)window.clearTimeout(mouseDownTimer);mouseDownTimer=window.setTimeout(function(){if(mouseDownTimer)jsh.mouseDragBegin(obj,function(){return true},e)},250)}});jobj.mouseup(function(e){if(mouseDownTimer)window.clearTimeout(mouseDownTimer)})};XExt.bindTabControl=function(obj){var jobj=$(obj);var jtabbuttons=jobj.children(".xtab");if(!jtabbuttons.length)jtabbuttons=jobj.children(".xtabs").children(".xtab");var jtabpanels=jobj.children(".xpanel").children(".xtabbody");jtabbuttons.on("click",function(e){var jtabbutton=$(this);e.preventDefault();if(jtabbutton.hasClass("selected"))return;var tabFor=jtabbutton.attr("for");jtabbuttons.removeClass("selected");jtabbutton.addClass("selected");if(tabFor){jtabpanels.removeClass("selected");jtabpanels.filter("."+tabFor).addClass("selected")}var ontabselected=jtabbutton.data("ontabselected");if(ontabselected)XExt.JSEval(ontabselected,jtabbutton[0])});if(!jtabbuttons.filter(".selected").length)jtabbuttons.first().addClass("selected");jtabpanels.filter("."+jtabbuttons.filter(".selected").attr("for")).addClass("selected");jobj.addClass("initialized")};XExt.bindAccordion=function(obj){var rightArrow="&#xE5CC;";var downArrow="&#xE313;";var jobj=$(obj);var jbody=jobj.next(".xaccordionbody");var jstate=$('<span class="material-icons xaccordionstate"></span>');jobj.append(jstate);var hideBody=function(){jobj.removeClass("expanded");jbody.slideUp();jstate.html(rightArrow)};var showBody=function(){jobj.addClass("expanded");jbody.slideDown();jstate.html(downArrow)};jobj.on("click",function(){var isExpanded=jobj.hasClass("expanded");if(isExpanded)hideBody();else showBody()});jobj.addClass("initialized");if(jbody.hasClass("expanded"))showBody();else hideBody()};XExt.resolveModelID=function(modelid,sourceModel){if(!jsh)return modelid;if(!modelid)return modelid;if(modelid.substr(0,1)=="/")return modelid.substr(1);if(!sourceModel&&jsh.XModels_root)sourceModel=jsh.XModels[jsh.XModels_root];if(!sourceModel)return modelid;var testmodel="";if(sourceModel.namespace){testmodel=sourceModel.namespace+modelid;if(testmodel in jsh.XModels)return testmodel}if(sourceModel.using){for(var i=0;i<sourceModel.using.length;i++){var namespace=sourceModel.using[i];testmodel=namespace+modelid;if(testmodel.substr(0,1)=="/")testmodel=testmodel.substr(1);if(testmodel in jsh.XModels)return testmodel}}if(modelid in jsh.XModels)return modelid;if(modelid in jsh.XBase)return XExt.resolveModelID(jsh.XBase[modelid][0]);return modelid};XExt.isNullUndefinedEmpty=function(val){if(typeof val==="undefined")return true;if(val===null)return true;if(val==="")return true;if(val===false)return true;return false};XExt.isNullUndefined=function(val){if(typeof val==="undefined")return true;if(val===null)return true;return false};XExt.isDisplayLayoutColumnHidden=function(field_name,display_layout,fields){if(!display_layout||!display_layout.columns)return false;for(var i=0;i<display_layout.columns.length;i++){if(display_layout.columns[i].name==field_name)return false}if(fields&&!fields[field_name])return false;return true};return XExt}},{"./XExt.XModel.js":15,"./jquery-1.11.2":27,lodash:34}],17:[function(require,module,exports){var $=require("./jquery-1.11.2");$.fn.$find=function(){return $.fn.find.apply(this,arguments)};var _=require("lodash");exports=module.exports=function(jsh){function XForm(options){if(_.isString(options))options={url:options};options=_.extend({url:"",TemplateID:"",PlaceholderID:"",modelid:"",API:undefined},options);if(!options.modelid&&options.url)options.modelid=options.url;if(!options.url&&options.modelid)options.url=options.modelid;this._this=this;this.url=options.url;this.modelid=options.modelid;this.TemplateID=options.TemplateID;this.PlaceholderID=options.PlaceholderID;this.DataType=Object;this.Data=new this.DataType;this.DataSet=null;this.DeleteSet=[];this.GetSelectParams=function(){return this.GetKeys()};this.GetReselectParams=function(){return this.GetSelectParams()};this.GetUpdateParams=function(){return this.GetFieldParams("U")};this.GetInsertParams=function(){return this.GetFieldParams("I")};this.GetDeleteParams=function(){return this.GetKeys()};this.GetKeys=function(){return{}};this.async=true;this.Index=0;this.xData=null;this.IsDirty=false;this.DBTaskRows={};this.OnBeforeRender=null;this.OnAfterRender=null;this.OnDBError=null;this.Prop={};this.API=options.API?options.API:new jsh.XAPI.Form.jsHarmony(this.modelid)}XForm.prototype.Render=function(options){options=_.extend({resetValidation:true},options);if(!this.Data)return;if(options.resetValidation)this.ResetValidation();if(this.OnBeforeRender)this.OnBeforeRender();if(this.Data.OnRender){this.Data.OnRender.apply(this.Data,arguments)}else if(this.TemplateID){var ejssource=jsh.$root(this.TemplateID).html();jsh.$root(this.PlaceholderID).html(jsh.XExt.renderEJS(ejssource,undefined,{data:this.Data}))}if(this.OnAfterRender)this.OnAfterRender()};XForm.prototype.GetValues=function(perm){if(!this.Data)return;this.Data.GetValues(perm||"IUD")};XForm.prototype.HasUpdates=function(){if(this.IsDirty)return true;if(_.isArray(this.DataSet)){if(this.DeleteSet.length>0)return true;if(this.Count()==0)return false;if(this.Data._is_insert)return true;for(var i=0;i<this.DataSet.length;i++){if(this.DataSet[i]._is_insert)return true}}if(!this.Data)return false;return this.Data.HasUpdates(this.PlaceholderID)};XForm.prototype.Validate=function(perms,obj){obj=obj||(this.Index>=0?this.Data:undefined);if(!obj)return true;var validator;if(this.Data&&this.Data.xvalidate)validator=this.Data.xvalidate;else if(obj.xvalidate)validator=obj.xvalidate;else return true;var parentobj=undefined;if(this.xData)parentobj=this.Data._jrow;return validator.ValidateControls(perms,obj,"",parentobj)};XForm.prototype.ResetValidation=function(obj){obj=obj||(this.Index>=0?this.Data:undefined);if(!obj)return;if(!obj.xvalidate)return;return obj.xvalidate.ResetValidation()};XForm.prototype.RecheckDirty=function(){var rsltDirty=false;if(this.DeleteSet.length>0)rsltDirty=true;if(_.isArray(this.DataSet)){for(var i=0;i<this.DataSet.length;i++){if(this.DataSet[i]._is_dirty)rsltDirty=true;if(this.DataSet[i]._is_insert)rsltDirty=true}if(this.Data._is_dirty)rsltDirty=true;if(this.Data._is_insert)rsltDirty=true}this.IsDirty=rsltDirty};XForm.prototype.ResetDirty=function(){if(_.isArray(this.DataSet)){this.DeleteSet=[];for(var i=0;i<this.DataSet.length;i++){this.DataSet[i]._is_dirty=false;this.DataSet[i]._is_insert=false;this.DataSet[i]._orig=null}}if(this.Data){this.Data._is_dirty=false;this.Data._is_insert=false;this.Data._orig=null}if(this.xData){jsh.$root(this.xData.PlaceholderID).$find(".xform_ctrl.updated").removeClass("updated")}this.IsDirty=false};XForm.prototype.Count=function(){if(!_.isArray(this.DataSet))return 1;return this.DataSet.length};XForm.prototype.NavNext=function(){if(this.Count()==0)return;if(this.Index==this.Count()-1)return;this.NavTo(this.Index+1)};XForm.prototype.NavPrev=function(){if(this.Count()==0)return;if(this.Index==0)return;this.NavTo(this.Index-1)};XForm.prototype.NavFirst=function(){if(this.Count()==0)return;if(this.Index==0)return;this.NavTo(0)};XForm.prototype.NavLast=function(){if(this.Count()==0)return;if(this.Index==this.Count()-1)return;this.NavTo(this.Count()-1)};XForm.prototype.SetIndex=function(_index,saveold,jrow){if(typeof saveold=="undefined")saveold=true;if(_index>this.Count()){jsh.XExt.Alert("Cannot navigate - Index greater than size of collection");return false}else if(_index<0){jsh.XExt.Alert("Cannot navigate - Index less than zero");return false}delete this.Data.LOVs;delete this.Data.defaults;delete this.Data.bcrumbs;delete this.Data.title;if(saveold){if(!this.CommitRow())return false}this.Index=_index;this.Data=_.extend(this.Data,this.DataSet[this.Index]);this.Data._LOVs=this.LOVs;this.Data._defaults=this.defaults;this.Data._bcrumbs=this.bcrumbs;this.Data._title=this.title;if(this.xData){if(jrow)this.Data._jrow=jrow;else this.Data._jrow=jsh.$root(this.xData.PlaceholderID).$find("tr[data-id='"+this.Index+"']")}return true};XForm.prototype.NavTo=function(_index,saveold,onComplete){if(!this.SetIndex(_index,saveold))return;this.Render();if(onComplete)onComplete()};XForm.prototype.NavAdd=function(){if(!this.Data.Commit())return;this.NewRow();if(this.Index==-1){this.NavTo(0,false)}else this.NavLast()};XForm.prototype.NavDelete=function(){if(this.Count()==0)return;this.DataSet[this.Index]=_.extend(this.DataSet[this.Index],this.Data);if(!this.Data._is_insert)this.DeleteSet.push(this.DataSet[this.Index]);this.DataSet.splice(this.Index,1);if(this.Count()==0){this.Index=-1;this.Render()}else{if(this.Index>=this.Count())this.Index--;this.NavTo(this.Index,false)}};XForm.prototype.NewRow=function(options){if(!options)options={unbound:false};var rslt=new this.DataType;rslt._is_insert=true;rslt._is_dirty=true;rslt=this.ApplyDefaults(rslt);this.ApplyUnboundDefaults(rslt);if(!options.unbound){this.DataSet.push(rslt);this.IsDirty=true}return rslt};XForm.prototype.Select=function(onComplete,onFailure){var _this=this;this.qExecute(this.PrepExecute("get",this.url,this.GetSelectParams(),{},function(rslt){_this.DataSet=null;for(var tbl in rslt){if(tbl.indexOf("_LOV_")==0){if(!("_LOVs"in _this.Data))_this.Data._LOVs={};_this.Data._LOVs[tbl.substring(5)]=rslt[tbl]}}if("_defaults"in rslt){_this.Data["_defaults"]=rslt["_defaults"]}if("_bcrumbs"in rslt){_this.Data["_bcrumbs"]=rslt["_bcrumbs"]}if("_title"in rslt){_this.Data["_title"]=rslt["_title"]}_this.LOVs=_this.Data._LOVs;_this.defaults=_this.Data._defaults;_this.bcrumbs=_this.Data._bcrumbs;_this.title=_this.Data._title;if(_this.modelid in rslt){if(_.isArray(rslt[_this.modelid])){_this.DataSet=rslt[_this.modelid];for(var i=0;i<_this.DataSet.length;i++){_this.DataSet[i]["_is_insert"]=false;_this.DataSet[i]["_is_dirty"]=false;_this.DataSet[i]["_is_deleted"]=false;_this.DataSet[i]["_orig"]=null;_this.ApplyUnboundDefaults(_this.DataSet[i])}_this.DeleteSet=[];_this.ResetDirty();if(_this.DataSet.length==0){_this.Index=-1;_this.Render()}else{_this.Index=0;_this.NavTo(0,false)}}else{_this.Data=_.extend(_this.Data,rslt[_this.modelid]);_this.Data._is_insert=false;_this.Data._is_dirty=false;_this.Data._is_deleted=false;_this.Data._orig=null;_this.ApplyUnboundDefaults(_this.Data)}}else{_this.ApplyDefaults(_this.Data);_this.ApplyUnboundDefaults(_this.Data)}if(_this.DataSet==null)_this.Render();if(onComplete)onComplete(rslt)},onFailure))};XForm.prototype.Reset=function(){var _this=this;if(_this.Data&&_this.Data.Fields){for(var fname in _this.Data.Fields)_this.Data[fname]=""}_this.ApplyDefaults(_this.Data);_this.ApplyUnboundDefaults(_this.Data);_this.Render()};XForm.prototype.ResetDataset=function(){if(this.Data){if(this.Data._orig)this.Data=_.extend(this.Data,this.Data._orig);this.Data._orig=null;this.Data._is_dirty=false}if(this.DataSet){for(var i=0;i<this.DataSet.length;i++){var row=this.DataSet[i];if(row._orig)row=_.extend(row,row._orig);row._orig=null;row._is_dirty=false;row._is_deleted=false;if(row._is_insert){this.DataSet.splice(i,1);i--}}}this.DeleteSet=[]};XForm.prototype.ApplyDefaults=function(data){var _this=this;var xmodel=_this.GetModel();var modelid=undefined;if(xmodel)modelid=xmodel.id;var rslt=data;if(rslt._is_insert||xmodel&&(xmodel.layout=="exec"||xmodel.layout=="report")){_.each(_this.defaults,function(val,fieldname){if(rslt[fieldname])return;if(fieldname in rslt){if(val&&val.toString().indexOf("js:")==0){var js=val.substr(3);var evalparams={data:data};if(_this.modelid in jsh.App)evalparams.modelid=_this.modelid;val=jsh.XExt.JSEval(js,this,evalparams)}rslt[fieldname]=val}});_.each(_this.DataType.prototype.Fields,function(field){if(!field.name||field.unbound)return;if(jsh._GET&&field.name in jsh._GET&&jsh.XExt.isFieldTopmost(modelid,field.name))data[field.name]=jsh._GET[field.name];else if(_this.defaults&&field.name in _this.defaults){}else if(field.hasDefault()){data[field.name]=jsh.XFormat.Decode(field.format,field.getDefault(data))}})}return rslt};XForm.prototype.GetModel=function(){var _this=this;if(!jsh)return;if(!_this.modelid)return;return jsh.XModels[_this.modelid]};XForm.prototype.ApplyUnboundDefaults=function(data){var _this=this;var xmodel=_this.GetModel();if(!xmodel)return;var ignore_fields=xmodel.loadUnboundFields(data)||[];if(!_this.defaults||!_this.DataType||!_this.DataType.prototype||!_this.DataType.prototype.Fields)return;_.each(_this.DataType.prototype.Fields,function(field){if(!field.name||!field.unbound)return;if(_.includes(ignore_fields,field.name))return;if(jsh._GET&&field.name in jsh._GET)data[field.name]=jsh._GET[field.name];else if(field.name in _this.defaults){data[field.name]=_this.defaults[field.name]}else if(field.hasDefault()){data[field.name]=jsh.XFormat.Decode(field.format,field.getDefault(data))}})};XForm.prototype.PrepExecute=function(_method,_model,_query,_post,onComplete,onFail){var rslt={method:_method,model:_model,query:_query,post:_post,onComplete:onComplete};if(typeof onFail!="undefined")rslt.onFail=onFail;if(_method=="get"){rslt.post=_query;rslt.query={}}return rslt};XForm.prototype.CommitRow=function(){if(!this.Data.Commit())return false;this.DataSet[this.Index]=_.extend(this.DataSet[this.Index],this.Data);if(this.Data._is_dirty){this.IsDirty=true}return true};XForm.prototype.PrepSaveDataSet=function(ignorecommit){if(!ignorecommit&&!this.CommitRow())return;var dbtasks=[];this.DBTaskRows={};var curdata=this.Data;this.Data=new this.DataType;for(var i=0;i<this.DeleteSet.length;i++){this.Data=_.extend(this.Data,this.DeleteSet[i]);dbtasks.push(this.PrepDelete());this.DBTaskRows["delete_"+dbtasks.length]=i}for(var j=0;j<this.DataSet.length;j++){this.Data=_.extend(this.Data,this.DataSet[j]);if(this.Data._is_deleted)continue;if(this.DataSet[j]in this.DeleteSet)continue;if(this.Data._is_insert){dbtasks.push(this.PrepInsert());this.DBTaskRows["insert_"+dbtasks.length]=j}else{if(this.xData&&!this.Data._is_dirty)continue;dbtasks.push(this.PrepUpdate());this.DBTaskRows["update_"+dbtasks.length]=j}}this.Data=curdata;return dbtasks};XForm.prototype.PrepUpdate=function(onComplete,onFail){return this.PrepExecute("post",this.url,this.GetKeys(),this.GetUpdateParams(),onComplete,onFail)};XForm.prototype.Update=function(onComplete,onFail){this.qExecute(this.PrepUpdate(onComplete,onFail))};XForm.prototype.PrepInsert=function(onComplete,onFail){return this.PrepExecute("put",this.url,{},this.GetInsertParams(),onComplete,onFail)};XForm.prototype.Insert=function(onComplete,onFail){this.qExecute(this.PrepInsert(onComplete,onFail))};XForm.prototype.PrepDelete=function(onComplete,onFail){return this.PrepExecute("delete",this.url,this.GetDeleteParams(),{},onComplete,onFail)};XForm.prototype.Delete=function(onComplete,onFail){this.qExecute(this.PrepDelete(onComplete,onFail))};XForm.prototype.Execute=function(onComplete,onFail){this.qExecute(this.PrepExecute("get",this.url,this.Data,{},onComplete,onFail))};XForm.prototype.ExecuteTrans=function(DBTasks,onComplete,onFail){var execdata=[];for(var i=0;i<DBTasks.length;i++){var dbtask=DBTasks[i];execdata.push({method:dbtask.method,model:dbtask.model,query:$.param(dbtask.query),post:$.param(dbtask.post)})}var final_onComplete=function(rslt){for(var i=0;i<DBTasks.length;i++){var dbtask=DBTasks[i];if(dbtask.onComplete)dbtask.onComplete(rslt)}if(onComplete)onComplete(rslt)};var execparams={method:"post",model:"_transaction",query:{},post:$.param({data:JSON.stringify(execdata)}),onComplete:final_onComplete};if(onFail)execparams.onFail=onFail;this.qExecute(execparams)};XForm.prototype.qExecute=function(ExecParams){var _this=this;if(ExecParams.model){if(ExecParams.model[0]=="/")ExecParams.url=ExecParams.model;else if(ExecParams.model.indexOf("http://")==0)ExecParams.url=ExecParams.model;else if(ExecParams.model.indexOf("https://")==0)ExecParams.url=ExecParams.model}if(!ExecParams.url){if(!ExecParams.model)ExecParams.model=this.modelid}ExecParams.async=this.async;this.API.Execute(ExecParams,function(errdata,rslt){var handled=false;if(errdata){var errtxt=errdata.toString();if(errdata.responseText)errtxt=errdata.responseText;var jerrdata={};try{jerrdata=JSON.parse(errtxt)}catch(ex){}if(jerrdata instanceof Object&&"_error"in jerrdata){jerrdata._error.toString=function(){return _this.FormatError(this)};handled=false;if(jsh.DefaultErrorHandler(jerrdata._error.Number,jerrdata._error.Message)){handled=true}else if(!_this.HandleError(jerrdata._error,jerrdata._stats,ExecParams,errdata)){handled=true}else if(jerrdata._error.Number==-9||jerrdata._error.Number==-5){jsh.XExt.Alert(jerrdata._error.Message);handled=true}if("onFail"in ExecParams&&ExecParams.onFail(jerrdata._error,handled)){}else if(handled){}else{jsh.XExt.Alert("Error #"+jerrdata._error.Number+": "+jerrdata._error.Message)}return}if("onFail"in ExecParams&&ExecParams.onFail(errdata)){}else if("readyState"in errdata&&errdata.readyState===0){jsh.XExt.Alert("A network error has occurred")}else if("status"in errdata&&errdata.status=="404"){jsh.XExt.Alert("(404) The requested page was not found.")}else if(jsh._show_system_errors){jsh.XExt.Alert("An error has occurred: "+errtxt)}else jsh.XExt.Alert("An error has occurred.  If the problem continues, please contact the system administrator for assistance.")}else{if(rslt instanceof Object&&"_error"in rslt){rslt._error.toString=function(){return _this.FormatError(this)};handled=false;if(jsh.DefaultErrorHandler(rslt._error.Number,rslt._error.Message)){handled=true}else if(!_this.HandleError(rslt._error,rslt._stats,ExecParams,rslt)){handled=true}else if(rslt._error.Number==-9||rslt._error.Number==-5){jsh.XExt.Alert(rslt._error.Message);handled=true}if("onFail"in ExecParams&&ExecParams.onFail(rslt._error,handled)){}else if(handled){}else{jsh.XExt.Alert("Error #"+rslt._error.Number+": "+rslt._error.Message)}return}if(rslt instanceof Object&&"_stats"in rslt){_this.OnDBStats(rslt._stats)}if(ExecParams.method!="get"&&rslt instanceof Object&&"_success"in rslt){_this.OnSuccess(rslt);if(ExecParams.onComplete)ExecParams.onComplete(rslt)}else if(ExecParams.method=="get"&&rslt instanceof Object){_this.OnSuccess(rslt);if(ExecParams.onComplete)ExecParams.onComplete(rslt)}else{_this.OnUndefined(rslt);if("onFail"in ExecParams)ExecParams.onFail(rslt)}}})};XForm.prototype.FormatError=function(err){if(!err)return"";var rslt="";if(err.Number)rslt+="Error #"+err.Number+": ";if(err.Message)rslt+=err.Message;if(!err)rslt=JSON.stringify(err);return rslt};XForm.prototype.OnDBStats=function(dbstats){var _this=this;var rslt=true;if(dbstats){if("warnings"in dbstats&&_.isArray(dbstats.warnings))dbstats=[dbstats];else if("notices"in dbstats&&_.isArray(dbstats.notices))dbstats=[dbstats];_.each(dbstats,function(stats){_.each(stats.warnings,function(warning){rslt=rslt&&_this.OnDBMessage(warning)});_.each(stats.notices,function(notice){rslt=rslt&&_this.OnDBMessage(notice)})})}return rslt};XForm.prototype.OnDBMessage=function(exception){if(exception&&exception.Message)exception=exception.Message;exception=(exception||"").toString();var xmodel=this.GetModel();if(xmodel)exception=jsh.XExt.renderEJS(exception,xmodel.id);if(jsh.XExt.beginsWith(exception,"Execute Form - ")){var dbaction=exception.substr("Execute Form - ".length);var dbmessage=dbaction.substr(0,dbaction.indexOf("//")).trim();var url=dbaction.substr(dbaction.indexOf("//")+2);if(url.indexOf(" - ")>=0)url=url.substr(0,url.indexOf(" - "));var modelid=url.trim();var params={};if(url.indexOf("?")>=0){modelid=url.substr(0,url.indexOf("?"));params=jsh.XExt.parseGET(url.substr(url.indexOf("?")))}if(!dbmessage)dbmessage="Opening form";jsh.XExt.Alert(dbmessage,undefined,{onAcceptImmediate:function(){jsh.XExt.popupForm(modelid,undefined,params)}});return false}else if(jsh.XExt.beginsWith(exception,"Application Error - ")){jsh.XExt.Alert(exception);return false}else if(jsh.XExt.beginsWith(exception,"Application Warning - ")){jsh.XExt.Alert(exception);return false}return true};XForm.prototype.HandleError=function(error,stats,execParams,data){if(this.OnDBMessage(error)===false)return false;if(this.OnDBError&&this.OnDBError(error,stats,execParams,data)===false)return false;if(!this.Data)return true;if(this.Data.OnDBError){if(this.Data.OnDBError(error,stats,execParams,data)===false)return false}return true};XForm.prototype.OnSuccess=function(rslt){if(!this.Data)return true;if(this.Data.OnSuccess){this.Data.OnSuccess(rslt)}};XForm.prototype.OnUndefined=function(data){if(this.Data&&this.Data.OnUndefined)this.Data.OnUndefined(data);else jsh.XExt.Alert("Undefined: "+JSON.stringify(data))};XForm.prototype.GetFieldParams=function(action){var _this=this;var rslt={};var xmodel=_this.GetModel();_.each(_this.Data.Fields,function(field){if(!jsh.XExt.hasAction(field.actions,action))return;if(field.unbound)return;if(typeof _this.Data[field.name]=="undefined"&&xmodel&&xmodel.bindings&&field.name in xmodel.bindings){rslt[field.name]="%%%"+field.name+"%%%"}else{if("control"in field&&field.control=="file_upload"){var fval=_this.Data[field.name];if(_.isString(fval)){if(fval!="")fval="_temp/"+fval;rslt[field.name]=fval}}else rslt[field.name]=_this.Data[field.name]}});return rslt};XForm.prototype.XExecute=function(url,d,onComplete,onFail){var xform=new XForm(url);xform.Data=d;xform.Execute(onComplete,onFail)};XForm.prototype.XExecuteBlock=function(url,d,onComplete,onFail){var xform=new XForm(url);xform.Data=d;xform.async=false;xform.Execute(onComplete,onFail)};XForm.prototype.XExecutePost=function(url,d,onComplete,onFail,options){if(!options)options={};var xform=new XForm(url);if(options.OnDBError)xform.Data.OnDBError=options.OnDBError;xform.qExecute(xform.PrepExecute("post",xform.url,{},d,onComplete,onFail))};XForm.prototype.reqGet=function(url,q,d,onComplete,onFail,options){if(!options)options={};var xform=new XForm(url);if(options.OnDBError)xform.Data.OnDBError=options.OnDBError;if(options.async===false)xform.async=false;xform.qExecute(xform.PrepExecute("get",xform.url,q,d,onComplete,onFail))};XForm.prototype.reqPost=function(url,q,d,onComplete,onFail,options){if(!options)options={};var xform=new XForm(url);if(options.OnDBError)xform.Data.OnDBError=options.OnDBError;if(options.async===false)xform.async=false;xform.qExecute(xform.PrepExecute("post",xform.url,q,d,onComplete,onFail))};XForm.prototype.reqPut=function(url,q,d,onComplete,onFail,options){if(!options)options={};var xform=new XForm(url);if(options.OnDBError)xform.Data.OnDBError=options.OnDBError;if(options.async===false)xform.async=false;xform.qExecute(xform.PrepExecute("put",xform.url,q,d,onComplete,onFail))};XForm.prototype.reqDelete=function(url,q,d,onComplete,onFail,options){if(!options)options={};var xform=new XForm(url);if(options.OnDBError)xform.Data.OnDBError=options.OnDBError;if(options.async===false)xform.async=false;xform.qExecute(xform.PrepExecute("delete",xform.url,q,d,onComplete,onFail))};XForm.Post=XForm.prototype.reqPost;XForm.Put=XForm.prototype.reqPut;XForm.Delete=XForm.prototype.reqDelete;XForm.Get=XForm.prototype.reqGet;XForm.RequestSync=XForm.prototype.XExecuteBlock;return XForm}},{"./jquery-1.11.2":27,lodash:34}],18:[function(require,module,exports){var _=require("lodash");var moment=require("moment");exports=module.exports=function(){var XFormat={};XFormat.phone=function(val){if(typeof val=="undefined"||val===null)return val;if(val.toString().length<10)return val;val=val.toString();val=this.phone_decode(val);if(val.length==10)return"("+val.substr(0,3)+") "+val.substr(3,3)+"-"+val.substr(6);return"("+val.substr(0,3)+") "+val.substr(3,3)+"-"+val.substr(6,4)+"  "+val.trim().substr(10)};XFormat.phone_decode=function(val){if(val===null)return val;if(typeof val=="undefined")return val;val=val.toString();var rslt="";for(var i=0;i<val.length;i++){if(rslt.length>=10)break;if(val[i].match(/[0-9]/)){if(!rslt&&val[i]=="1")continue;rslt+=val[i]}}if(i<val.length)rslt+=val.substr(i).trim();if(rslt=="")return rslt;return rslt};XFormat.parseDate=function(val){if(!val)return moment(null);if(_.isNumber(val))return moment(val);val=val.trim();val=val.replace(/,/g," ");val=val.replace(/ {2}/g," ");var rslt=moment(val,"YYYY-MM-DDTHH:mm:ss.SSS",true);if(!rslt.isValid())rslt=moment(val,"YYYY-MM-DDTHH:mm:ss",true);if(!rslt.isValid())rslt=moment(val,"YYYY-MM-DDTHH:mm",true);if(!rslt.isValid())rslt=moment(val,"YYYY-MM-DDTHH",true);if(!rslt.isValid())rslt=moment(val,"YYYY-MM-DDTHH:mm:ss.SSSZ",true);if(!rslt.isValid())rslt=moment(val,"YYYY-MM-DDTHH:mm:ssZ",true);if(!rslt.isValid())rslt=moment(val,"YYYY-MM-DDTHH:mmZ",true);if(!rslt.isValid())rslt=moment(val,"YYYY-MM-DDTHHZ",true);if(!rslt.isValid())rslt=moment(val,"YYYY-MM-DD",true);if(!rslt.isValid())rslt=moment(val,"YY-MM-DD",true);if(!rslt.isValid())rslt=moment(val,"MM/DD/YYYY",true);if(!rslt.isValid())rslt=moment(val,"MM/DD/YY",true);if(!rslt.isValid())rslt=moment(val,"M/D/YYYY",true);if(!rslt.isValid())rslt=moment(val,"M/D/YY",true);if(!rslt.isValid())rslt=moment(val,"MMM D YYYY",true);if(!rslt.isValid())rslt=moment(val,"MMM DD YYYY",true);if(!rslt.isValid())rslt=moment(val,"MMMM D YYYY",true);if(!rslt.isValid())rslt=moment(val,"MMMM DD YYYY",true);return rslt};XFormat.date=function(format,val){if(val==null)return val;var rslt=this.parseDate(val);if(!rslt.isValid())rslt=moment(new Date(val));if(rslt.isValid())return rslt.format(format);return""};XFormat.date_decode=function(format,val){if(val==="")return null;if(val===null)return null;var m=moment(val,format,true);if(!m.isValid())m=this.parseDate(val);if(!m.isValid())m=moment(new Date(val));return m.format("YYYY-MM-DDTHH:mm:ss.SSS")};XFormat.tstmp=function(val){return this.date("MM/DD/YY HH:mm",val)};XFormat.tstmp_decode=function(val){return this.date_decode("MM/DD/YY HH:mm",val)};XFormat.MMDDYY=function(val){return this.date("MM/DD/YY",val)};XFormat.MMDDYY_decode=function(val){return this.date_decode("MM/DD/YY",val)};XFormat.decimal=function(numdigits,val){if(isNaN(val))return val;if(val==="")return val;if(val===null)return val;return parseFloat(val).toFixed(numdigits)};XFormat.decimal_decode=function(numdigits,val){if(isNaN(val))return val;if(val==="")return val;if(val===null)return val;return parseFloat(val).toFixed(numdigits)};function decimalPlaces(number){if(!number)return 0;var numarr=String(number).split(".");if(numarr.length<2)return 0;return numarr[1].length}XFormat.decimalext=function(numdigits,val){if(isNaN(val))return val;if(val==="")return val;if(val===null)return val;if(typeof val=="undefined")return val;var fval=parseFloat(val);if(decimalPlaces(fval)>numdigits)return fval.toString();return fval.toFixed(numdigits)};XFormat.decimalext_decode=function(numdigits,val){if(isNaN(val))return val;if(val==="")return val;if(val===null)return val;if(typeof val=="undefined")return val;return parseFloat(val)};XFormat.decimalcomma=function(numdigits,val){return XFormat.comma(XFormat.decimal(numdigits,val))};XFormat.decimalcomma_decode=function(numdigits,val){return XFormat.decimal_decode(numdigits,XFormat.comma_decode(val))};XFormat.comma=function(val){if(typeof val=="undefined")return"";if(val===null)return"";if(isNaN(parseFloat(val)))return val;var n=val.toString().split(".");n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");return n.join(".")};function trimString(val){return(val||"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}XFormat.comma_decode=function(val){if(val==="")return val;if(val===null)return val;if(typeof val==="undefined")return val;var uval=trimString(String(val).replace(/,/g,""));if(isNaN(uval))return val;return parseFloat(uval)};XFormat.ssn=function(val){if(typeof val=="undefined"||val===null)return val;val=this.ssn_decode(val.toString());if(val.toString().length!=9)return val;val=val.toString();return val.substr(0,3)+"-"+val.substr(3,2)+"-"+val.substr(5)};XFormat.ssn_decode=function(val){if(val===null)return val;if(typeof val==="undefined")return val;var rslt=(val||"").replace(/[^0-9]+/g,"");return rslt};XFormat.ein=function(val){if(typeof val=="undefined"||val===null)return val;val=this.ein_decode(val.toString());if(val.toString().length!=9)return val;val=val.toString();return val.substr(0,2)+"-"+val.substr(2)};XFormat.ein_decode=function(val){if(val===null)return val;if(typeof val==="undefined")return val;var rslt=(val||"").replace(/[^0-9]+/g,"");return rslt};XFormat.time=function(format,val){if(typeof val=="undefined")return val;if(val===null)return val;if(val==="")return val;if(val instanceof Date)return val;var d=this.parseDate(val);if(!d.isValid())d=moment(new Date(val));if(!d.isValid())d=moment(val.trim(),"hh:mm",true);if(!d.isValid())d=moment(val.trim(),"hh:mm a");if(d.isValid())return d.format(format);return""};XFormat.time_decode=function(format,val){if(val==="")return null;if(val===null)return null;if(typeof val=="undefined")return null;if(val.trim()==parseInt(val.trim()).toString()){var vint=parseInt(val.trim());if(vint<=0)val="0";val=vint.toString()+":00"}var rslt=null;if(val instanceof Date)rslt=moment(val);else rslt=moment(this.parseDate(val));if(format&&!rslt.isValid())rslt=moment(val.trim(),format,true);if(!rslt.isValid())rslt=moment(val.trim(),"hh:mm",true);if(!rslt.isValid())rslt=moment(val.trim(),"hh:mm a",true);if(!rslt.isValid())rslt=moment(val.trim(),"HH:mm",true);if(!rslt.isValid())rslt=moment(val.trim(),"hh:mm:ss",true);if(!rslt.isValid())rslt=moment(val.trim(),"hh:mm:ss a",true);if(!rslt.isValid())rslt=moment(val.trim(),"HH:mm:ss",true);if(!rslt.isValid())rslt=moment(val.trim(),"hh:mm:ss.SSSSSSSS a");if(!rslt.isValid())rslt=moment(new Date(val));if(!rslt.isValid())return null;return rslt.format("1970-01-01THH:mm:ss.SSS")};XFormat.bool=function(val){val=this.bool_decode(val);if(!_.isBoolean(val))return val;if(val)return"true";else return"false"};XFormat.bool_decode=function(val){if(typeof val=="undefined")return false;if(val===null)return false;if(val==="")return false;if(val===true)return true;if(val===false)return false;var valstr=val.toString().toUpperCase();if(valstr==="TRUE"||valstr==="T"||valstr==="Y"||valstr==="YES"||valstr==="ON"||valstr==="1")return true;if(valstr==="FALSE"||valstr==="F"||valstr==="N"||valstr==="NO"||valstr==="OFF"||valstr==="0")return false;return val?true:false};XFormat.json=function(val){if(val===null)return val;if(typeof val=="undefined")return val;if(typeof val=="string"){if(val==="")return val;try{val=JSON.parse(val)}catch(e){return val}}return JSON.stringify(val,null,2)};XFormat.json_decode=function(val){if(val===null)return val;if(typeof val==="undefined")return val;if(typeof val=="string"){if(val==="")return val;try{val=JSON.parse(val)}catch(e){return val}}return JSON.stringify(val)};XFormat.js=function(funcstr,val){var func=eval("(function(val){"+funcstr+"})");return func(val)};XFormat.parseFormat=function(format){if(_.isArray(format))return format;format=(format||"").toString();if(format.indexOf(":")<0)return[format];var rslt=[];var formatName=format.substr(0,format.indexOf(":"));rslt.push(formatName);var args=format.substr(format.indexOf(":")+1);if(formatName=="js"){args=[args]}else{try{args=eval("["+args+"]")}catch(ex){throw new Error("Invalid syntax in format: "+format)}}rslt=rslt.concat(args);return rslt};XFormat.bytes=function(val){if(typeof val=="undefined")return"";if(val===null)return"";if(isNaN(parseFloat(val)))return val;var sizes=["B","KB","MB","GB"];for(var i=0;i<sizes.length;i++){if(val<1e3)return val.toString()+" "+sizes[i];val=Math.round(val/1024)}return XFormat.comma(val)+" TB"};XFormat.Apply=function(format,val){if(typeof val=="undefined")return"###MISSING###";if(format){format=XFormat.parseFormat(format);if(!(format[0]in this)){return"###Invalid Format "+format[0]+"###"}var fargs=[];for(var i=1;i<format.length;i++)fargs.push(format[i]);fargs.push(val);val=this[format[0]].apply(this,fargs)}if(typeof val=="undefined")val="";else if(val===null)val="";return val};XFormat.Decode=function(format,val){if(typeof val=="undefined")return val;if(!format)return val;format=XFormat.parseFormat(format);var fargs=[];for(var i=1;i<format.length;i++)fargs.push(format[i]);fargs.push(val);if(!(format[0]+"_decode"in this))throw new Error("Missing format function: "+format[0]+"_decode");return this[format[0]+"_decode"].apply(this,fargs)};XFormat.Add=function(formatters){if(!formatters)return;for(var fname in formatters){XFormat[fname]=eval("("+formatters[fname]+")")}};return XFormat}},{lodash:34,moment:35}],19:[function(require,module,exports){var $=require("./jquery-1.11.2");$.fn.$find=function(){return $.fn.find.apply(this,arguments)};var _=require("lodash");exports=module.exports=function(jsh){function lteIE7(){if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var ieversion=new Number(RegExp.$1);if(ieversion<=7){return true}}return false}function XGrid(options){var _this=this;if(_.isString(options))options={modelid:options};options=_.extend({modelid:undefined,API:undefined,Paging:undefined,CustomScroll:undefined,ScrollControl:undefined,PlaceholderID:undefined,TemplateID:undefined},options);this._this=this;this.TemplateID=options.TemplateID;this.PlaceholderID=options.PlaceholderID;this.ColSpan=jsh.$root(this.PlaceholderID).parent().$find("thead th").length;this.modelid=options.modelid;if(typeof options.CustomScroll=="undefined")this.CustomScroll="";else{if(lteIE7()){this.CustomScroll="";options.ScrollControl=options.CustomScroll;jsh.$(options.CustomScroll).css("overflow","auto")}else this.CustomScroll=options.CustomScroll}if(options.Paging===undefined)this.Paging=true;else this.Paging=options.Paging;if(options.ScrollControl===undefined)this.ScrollControl=window;else this.ScrollControl=options.ScrollControl;this.Sort=new Array;this.Search="";this.SearchJSON="";this.scrolledPastBottom=false;this.lastDocumentHeight=0;this.scrollPrevious=0;this.scrollFunc=null;this.EOF=true;this.NoResultsMessage="No results %%%FORSEARCHPHRASE%%%";this.NoDataMessage=null;this.RequireSearchMessage="Please search";this.RowCount=0;this.RowLimit=0;this.AutoLoadMore=true;if(this.Paging){this.EnableScrollUpdate();if(jsh)jsh.on("jsh_pageDestroy",function(){_this.Destroy()})}this.IsLoading=false;this.TemplateHTMLFunc=null;this.LastColumns=new Array;this.Formatters=new Array;this.LastData=null;this.Data=null;this.PreProcessResult=null;this.OnBeforeSelect=null;this.OnRowBind=null;this.OnMetaData=null;this.OnDBRowCount=null;this.OnDestroyingRows=null;this.OnResetDataSet=null;this.OnRender=null;this.OnLoadMoreData=null;this.OnLoadComplete=null;this.OnLoadError=null;this.RequireSearch=false;this.State={};this.Prop={};this.GetMeta=true;this.GetDBRowCount=false;this.DBRowCount=-1;this.LOVs={};this.defaults={};this.bcrumbs={};this.title=null;this.API=options.API?options.API:new jsh.XAPI.Grid.jsHarmony(this.modelid);this.MinLoadTime=500}XGrid.prototype.Load=function(rowstart,rowcount,onComplete,getCSV,onFail,options){options=_.extend({},options);if(this.IsLoading){return}if(!this.API)throw new Error("API is required for Grid Load");this.IsLoading=true;var loader=jsh.xLoader;if(typeof getCSV=="undefined")getCSV=false;rowstart=typeof rowstart!=="undefined"?rowstart:0;rowcount=typeof rowcount!=="undefined"?rowcount:this.RowLimit;var _this=this;if(rowstart>0){if(_this.EOF)return;jsh.$root(_this.PlaceholderID).$find("tr.xtbl_loadmore").remove();jsh.$root(_this.PlaceholderID).append('<tr class="xtbl_loadmore"><td colspan="'+_this.ColSpan+'"><a href="#">Loading...</div></td></tr>')}var starttime=(new Date).getTime();var reqdata={rowstart:rowstart,rowcount:rowcount,sort:JSON.stringify(this.Sort),search:this.Search,searchjson:this.SearchJSON,d:JSON.stringify(this.Data)};if(this.GetMeta)reqdata.meta=1;if(this.GetDBRowCount&&rowstart==0){_this.DBRowCount=-1;reqdata.getcount=1}if(options.params)_.extend(reqdata,options.params);if(getCSV){this.IsLoading=false;this.API.ExportCSV(reqdata,onComplete);return}if(this.OnBeforeSelect)this.OnBeforeSelect();if(loader)loader.StartLoading(_this);this.API.Select(reqdata,function(errdata,rslt){if(errdata){if(loader)loader.StopLoading(_this);_this.IsLoading=false;if(_this.OnLoadComplete)_this.OnLoadComplete();if(onComplete)onComplete();var jerrdata=errdata.responseJSON;if(jerrdata instanceof Object&&"_error"in jerrdata){if(jsh.DefaultErrorHandler(jerrdata._error.Number,jerrdata._error.Message)){}else if(_this.OnLoadError&&_this.OnLoadError(jerrdata._error)){}else if(jerrdata._error.Number==-9||jerrdata._error.Number==-5){jsh.XExt.Alert(jerrdata._error.Message)}else{jsh.XExt.Alert("Error #"+jerrdata._error.Number+": "+jerrdata._error.Message)}if(onFail)onFail(jerrdata._error);return}if(onFail&&onFail(errdata)){}else if(_this.OnLoadError&&_this.OnLoadError(errdata)){}else if("readyState"in errdata&&errdata.readyState===0){jsh.XExt.Alert("A network error has occurred")}else if("status"in errdata&&errdata.status=="404"){jsh.XExt.Alert("(404) The requested page was not found.")}else if(jsh._show_system_errors)jsh.XExt.Alert("An error has occurred: "+errdata.responseText);else jsh.XExt.Alert("An error has occurred.  If the problem continues, please contact the system administrator for assistance.")}else{var loadtime=(new Date).getTime()-starttime;if(rowstart>0&&loadtime<this.MinLoadTime){window.setTimeout(function(){_this.ProcessData(rslt,rowstart,onComplete,reqdata)},this.MinLoadTime-loadtime)}else{_this.ProcessData(rslt,rowstart,onComplete,reqdata)}}})};XGrid.prototype.ProcessData=function(data,rowstart,onComplete,reqdata){var _this=this;var loader=jsh.xLoader;if(rowstart>0){jsh.$root(_this.PlaceholderID).$find("tr.xtbl_loadmore").remove()}var renderData=false;var ejssource="";if(data instanceof Object&&"_error"in data){if(jsh.DefaultErrorHandler(data["_error"].Number,data["_error"].Message)){}else if(data._error.Number==-9||data._error.Number==-5){jsh.XExt.Alert(data._error.Message)}else{jsh.XExt.Alert("Error #"+data._error.Number+": "+data._error.Message)}}else{if(_this.GetMeta){_this.GetMeta=false;if("_defaults"in data){_this.defaults=data["_defaults"]}if("_bcrumbs"in data){_this.bcrumbs=data["_bcrumbs"]}if("_title"in data){_this.title=data["_title"]}for(var tbl in data){if(tbl.indexOf("_LOV_")==0){_this.LOVs[tbl.substring(5)]=data[tbl]}}if(_this.OnMetaData)_this.OnMetaData(data)}if("_count_"+this.modelid in data){var dcount=data["_count_"+this.modelid];if(dcount!=null)_this.DBRowCount=dcount["cnt"];_this.OnDBRowCount()}if(data[this.modelid].length==0&&(_this.NoResultsMessage||_this.RequireSearch&&_this.RequireSearchMessage)){_this.EOF=true;if(_this.OnDestroyingRows)_this.OnDestroyingRows(jsh.$root(_this.PlaceholderID).children());_this.RenderNoResultsMessage({search:(reqdata.search||"").trim()||(reqdata.searchjson||"").trim()});_this.RowCount=0;if(_this.OnResetDataSet)_this.OnResetDataSet(data)}else{if(_this.PreProcessResult)_this.PreProcessResult(data);if(_this.TemplateHTMLFunc!=null){ejssource=_this.TemplateHTMLFunc(data,rowstart);if(ejssource===false){if(loader)loader.StopLoading(_this);_this.IsLoading=false;_this.Load();return}}else ejssource=jsh.$root(_this.TemplateID).html();if(rowstart==0){if(_this.OnDestroyingRows)_this.OnDestroyingRows(jsh.$root(_this.PlaceholderID).children());jsh.$root(_this.PlaceholderID).empty();_this.RowCount=0;if(_this.OnResetDataSet)_this.OnResetDataSet(data)}renderData=true}}jsh.XExt.execif(renderData,function(f){if(ejssource){if(data[_this.modelid]&&_this.OnRender)_this.OnRender(ejssource,data,f);else{var ejsrslt=jsh.XExt.renderEJS(ejssource,undefined,{startrowid:undefined,datatable:data[_this.modelid]});jsh.$root(_this.PlaceholderID).append(ejsrslt);_this.RowCount=jsh.$root(_this.PlaceholderID).$find("tr").length;return f()}}},function(){if(renderData){_this.EOF=data["_eof_"+_this.modelid];if(_this.Paging&&!_this.EOF){jsh.$root(_this.PlaceholderID).append('<tr class="xtbl_loadmore"><td colspan="'+_this.ColSpan+'"><a href="#">Load More Data</div></td></tr>');jsh.$root(_this.PlaceholderID).$find(".xtbl_loadmore").click(function(){if(_this.OnLoadMoreData){_this.OnLoadMoreData();return false}_this.Load(_this.RowCount);return false})}if(_this.CustomScroll!=""){jsh.$(_this.CustomScroll).mCustomScrollbar("update")}}if(loader)loader.StopLoading(_this);_this.IsLoading=false;if(_this.OnLoadComplete)_this.OnLoadComplete();if(onComplete)onComplete()})};XGrid.prototype.hasSearch=function(){var _this=this;if(_this.Search)return true;if(!_this.SearchJSON)return false;var searchJSON=null;try{searchJSON=JSON.parse(_this.SearchJSON)}catch(ex){return true}if(searchJSON&&searchJSON.length==1){if(searchJSON[0]&&!searchJSON[0].Value&&searchJSON[0].Column=="ALL")return false}return true};XGrid.prototype.RenderNoResultsMessage=function(options){if(!options)options={search:false};var _this=this;var noresultsmessage=_this.NoResultsMessage.replace(/%%%FORSEARCHPHRASE%%%/g,_this.hasSearch()?"for selected search phrase":"");if(_this.RequireSearch&&!options.search)noresultsmessage=_this.RequireSearchMessage;else if(!options.search&&_this.NoDataMessage)noresultsmessage=_this.NoDataMessage;jsh.$root(_this.PlaceholderID).html('<tr class="xtbl_noresults"><td colspan="'+_this.ColSpan+'" align="center" class="xtbl_noresults">'+noresultsmessage+"</td></tr>")};XGrid.prototype.ResetSortGlyphs=function(tblobj){var xhtml_thead=tblobj.$find("thead tr");xhtml_thead.$find("th").removeClass("sortAsc").removeClass("sortDesc");if(!this.Sort||this.Sort.length==0)return;var xhtml_th=tblobj.$find(".thead"+this.Sort[0].substring(1));if(this.Sort[0][0]=="^"){xhtml_th.addClass("sortAsc")}else{xhtml_th.addClass("sortDesc")}};XGrid.prototype.AddSort=function(obj,col){var newdir="^";for(var i=0;i<this.Sort.length;i++){if(this.Sort[i].substring(1)==col){if(i==0){var curdir=this.Sort[i].substring(0,1);if(curdir=="^")newdir="v"}this.Sort.splice(i,1);i--}}var xhtml_th=$(obj).parent();var xhtml_thead=xhtml_th.parent();if(newdir=="^"){xhtml_thead.$find("th").removeClass("sortAsc").removeClass("sortDesc");xhtml_th.addClass("sortAsc")}else{xhtml_thead.$find("th").removeClass("sortAsc").removeClass("sortDesc");xhtml_th.addClass("sortDesc")}this.Sort.unshift(newdir+col);this.Load();return false};XGrid.prototype.NewSearch=function(txt){this.Search=txt;this.Load();return false};XGrid.prototype.NewSearchJSON=function(txt,cb){this.SearchJSON=txt;this.Load(undefined,undefined,cb);return false};XGrid.prototype._WindowOnScrollBottom=function(callback){var _this=this;_this.scrollFunc=function(){var curDocumentHeight=_this._getDocumentHeight();if(curDocumentHeight!=_this.lastDocumentHeight){_this.lastDocumentHeight=curDocumentHeight;_this.scrolledPastBottom=false}var pastBottom=$(window).height()+$(window).scrollTop()>=curDocumentHeight;if(!_this.scrolledPastBottom&&pastBottom){callback($(window).height()+$(window).scrollTop());_this.scrolledPastBottom=true}else{if(!pastBottom)_this.scrolledPastBottom=false}_this.scrollPrevious=$(window).scrollTop()};jsh.$(_this.ScrollControl).scroll(_this.scrollFunc)};XGrid.prototype._getDocumentHeight=function(){return Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight))};XGrid.prototype._ControlOnScrollBottom=function(callback){var _this=this;_this.scrollFunc=function(){var pastBottom=jsh.$(_this.ScrollControl).outerHeight()+jsh.$(_this.ScrollControl).scrollTop()>=jsh.$(_this.ScrollControl).get(0).scrollHeight;if(!_this.scrolledPastBottom&&pastBottom){callback(jsh.$(_this.ScrollControl).height()+jsh.$(_this.ScrollControl).scrollTop());_this.scrolledPastBottom=true}else{if(!pastBottom)_this.scrolledPastBottom=false}_this.scrollPrevious=jsh.$(_this.ScrollControl).scrollTop()};jsh.$(_this.ScrollControl).scroll(_this.scrollFunc)};XGrid.prototype.EnableScrollUpdate=function(){var _this=this;var updateFunc=function(){if(_this.AutoLoadMore){if(!_this.EOF){_this.Load(_this.RowCount)}}};if(_this.CustomScroll!=""){jsh.$(_this.CustomScroll).mCustomScrollbar({theme:"dark",autoScrollOnFocus:false,scrollButtons:{enable:true},scrollInertia:0,callbacks:{onTotalScroll:updateFunc}})}else if(this.ScrollControl==window)this._WindowOnScrollBottom(updateFunc);else this._ControlOnScrollBottom(updateFunc)};XGrid.prototype.Destroy=function(){var _this=this;if(_this.CustomScroll!=""){jsh.$(_this.CustomScroll).mCustomScrollbar("destroy")}else{jsh.$(_this.ScrollControl).unbind("scroll",_this.scrollFunc)}};return XGrid}},{"./jquery-1.11.2":27,lodash:34}],20:[function(require,module,exports){var $=require("./jquery-1.11.2");$.fn.$find=function(){return $.fn.find.apply(this,arguments)};exports=module.exports=function(jsh){function XImageLoader(){this.loadqueue=[];this.loaded=new Array;jsh.root.append('<img class="XImageLoader jsHarmonyElement jsHarmonyElement_'+jsh._instanceClass+'" style="position:absolute;top:0px;left:0px;z-index:0;visibility:hidden;" />');this.loaderimg=jsh.$root(".XImageLoader.jsHarmonyElement_"+jsh._instanceClass);this.PrependImages=function(imgarray){for(var i=0;i<imgarray.length;i++){this.loadqueue.unshift(imgarray[i])}};this.PrependImage=function(img){this.loadqueue.unshift(img)};this.IsLoaded=function(img){if($.inArray(img,this.loaded)!=-1)return true;return false};this.StartLoad=function(){if(this.IsLoading)return;this.IsLoading=true;this.LoadNext()};this.IsLoading=false;this.LoadNext=function(){var me=this;if(this.loadqueue.length==0){this.IsLoading=false;return}var img=this.loadqueue.shift();if(this.IsLoaded(img)){this.LoadNext();return}this.loaderimg.unbind("load");this.loaderimg.load(function(){me.loaded.push(img);me.LoadNext()});this.loaderimg.attr("src",img)}}return XImageLoader}},{"./jquery-1.11.2":27}],21:[function(require,module,exports){var $=require("./jquery-1.11.2");$.fn.$find=function(){return $.fn.find.apply(this,arguments)};var _=require("lodash");exports=module.exports=function(jsh){function XLoader(_containerClass){var _this=this;this.IsLoading=false;this.LoadQueue=new Array;this.MouseStack=0;this.onSquashedClick=[];this.onMouseDown=[];this.onMouseUp=[];this.containerClass=_containerClass||".xloadingblock.jsHarmonyElement_"+jsh._instanceClass;if(!jsh.$root(_this.containerClass).length){console.error(_this.containerClass+" not found on page during XLoader initialization")}jsh.$root(_this.containerClass).on("mousedown",function(e){_this.MouseStack++;jsh.XExt.trigger(_this.onMouseDown,e)});jsh.$root(_this.containerClass).on("mouseup",function(e){jsh.XExt.trigger(_this.onMouseUp,e)});jsh.$root(_this.containerClass).on("click mouseup",function(e){if(_this.MouseStack<=0){jsh.XExt.trigger(_this.onSquashedClick,e)}_this.MouseStack--})}XLoader.prototype.StartLoading=function(obj){var _this=this;if(!_.includes(this.LoadQueue,obj))this.LoadQueue.push(obj);if(this.IsLoading)return;jsh.root.css("cursor","wait");this.IsLoading=true;this.MouseStack=0;if(jsh.xDialog.length)jsh.$root("input,select,textarea").not(":button").blur();else jsh.$root("input,select,textarea").blur();jsh.$root(_this.containerClass+" .xloadingbox").stop().fadeTo(0,0);jsh.$root(_this.containerClass).show();jsh.$root(_this.containerClass+" .xloadingbox").fadeTo(2e3,1)};XLoader.prototype.StopLoading=function(obj){_.remove(this.LoadQueue,function(val){return obj==val});if(this.LoadQueue.length!=0)return;this.StopLoadingBase()};XLoader.prototype.ClearLoading=function(){this.LoadQueue=[];this.StopLoadingBase()};XLoader.prototype.StopLoadingBase=function(){var _this=this;this.IsLoading=false;jsh.$root(_this.containerClass+" .xloadingbox").stop();var curfade=GetOpacity(jsh.$root(_this.containerClass+" .xloadingbox")[0]);jsh.$root(_this.containerClass+" .xloadingbox").fadeTo(500*curfade,0,function(){if(!this.IsLoading){jsh.$root(_this.containerClass).hide()}});jsh.root.css("cursor","")};function GetOpacity(elem){var ori=$(elem).css("opacity");var ori2=$(elem).css("filter");if(ori2){ori2=parseInt(ori2.replace(")","").replace("alpha(opacity=",""))/100;if(!isNaN(ori2)&&ori2!=""){ori=ori2}}return ori}return XLoader}},{"./jquery-1.11.2":27,lodash:34}],22:[function(require,module,exports){var $=require("./jquery-1.11.2");$.fn.$find=function(){return $.fn.find.apply(this,arguments)};var _=require("lodash");exports=module.exports=function(jsh){var XMenu=function(){};XMenu.Menus={};XMenu.Interfaces={};XMenu.Init=function(){var _this=this;for(var menuType in _this.Interfaces){if(menuType in _this.Menus)continue;var interface=_this.Interfaces[menuType];if(interface.isActive&&interface.isActive()){var object=new interface;object.Init();_this.Menus[menuType]=object}}};XMenu.Select=function(selectedmenu){var _this=this;for(var menuType in _this.Menus){_this.Menus[menuType].Select(selectedmenu)}};var XMenuBase=function(){this.isInitialized=false};XMenuBase.prototype.Init=function(){var _this=this;if(this.isInitialized)return false;jsh.onRefreshLayout.push(function(){_this.RefreshLayout()});jsh.onNavigated.push(function(obj){_this.Navigated(obj)});this.isInitialized=true;return true};XMenuBase.prototype.Select=function(selectedmenu){};XMenuBase.isActive=function(){return false};XMenuBase.prototype.RefreshLayout=function(){};XMenuBase.prototype.Navigated=function(obj){};var XMenuHorizontal=function(){this.MenuItems=[];this.MenuOverhang=0;this.MenuMoreWidth=0;this.SubMenuItems=[];this.SubMenuOverhang=0;this.SubMenuMoreWidth=0;this.paddleAnimation=null;this.menuid="";this.submenuid=""};XMenuHorizontal.prototype=new XMenuBase;XMenuHorizontal.isActive=function(){return jsh.$root(".xmenuhorizontal").length};XMenuHorizontal.prototype.Init=function(){var _this=this;if(!XMenuBase.prototype.Init.apply(this))return;if(jsh.$root(".xmenu").size()>0){jsh.$root(".xmenu a").each(function(i,obj){if($(obj).hasClass("xmenu_more"))return;_this.MenuItems.push($(obj))});_this.CalcDimensions(true);jsh.$root(".xmenu_more").click(function(){var xmenuside=jsh.$root(".xmenuside");jsh.$root(".xsubmenuside").hide();if(!xmenuside.is(":visible"))xmenuside.show();else xmenuside.hide();return false});var xmenuside=jsh.$root(".xmenuside");if(xmenuside.size()>0){for(var i=0;i<_this.MenuItems.length;i++){var xmenuitem=_this.MenuItems[i];var link_onclick=xmenuitem.attr("onclick");if(link_onclick){link_onclick='onclick="'+link_onclick+' ;"'}var htmlobj='<a href="'+xmenuitem.attr("href")+'" '+link_onclick+' class="xmenusideitem xmenusideitem_'+jsh.XExt.escapeCSSClass(xmenuitem.data("id"))+" "+(xmenuitem.hasClass("selected")?"selected":"")+'">'+xmenuitem.html()+"</a>";xmenuside.append(htmlobj)}}}};XMenuHorizontal.prototype.RenderPaddle=function(newDimensions){var _this=this;var jpaddle=jsh.$root(".xmenupaddle");if(!jpaddle.length)return;var jmenuitem=jsh.$root(".xmenu .xmenuitem.selected");var curOpacity=0;if(typeof jpaddle[0].style.opacity!="undefined"){curOpacity=parseFloat(jpaddle[0].style.opacity)||0}var animateParams={};if(!jmenuitem.length||!jmenuitem.is(":visible")){if(curOpacity!=0){if(_this.paddleAnimation&&_this.paddleAnimation.opacity!==0){animateParams={opacity:0}}else if(!_this.paddleAnimation){animateParams={opacity:0}}}}else{var tgtpos=jmenuitem.offset();var tgtparentpos=jmenuitem.parent().offset();var tgttop=Math.round(tgtpos.top+jmenuitem.outerHeight());var tgtleft=Math.round(tgtpos.left-tgtparentpos.left);var tgtwidth=Math.round(jmenuitem.outerWidth());var curpos=jpaddle.offset();var curwidth=Math.round(parseFloat(jpaddle[0].style.width));var curheight=Math.round(jpaddle.height());tgttop-=curheight;var animateOpacity=curOpacity!=1;var animatePosition=Math.round(curpos.left)!=tgtleft||Math.round(curpos.top)!=tgttop||tgtwidth!=curwidth;if(curOpacity==0){var cssParams={top:tgttop+"px",left:tgtleft+"px",width:tgtwidth+"px"};jpaddle.css(cssParams);animatePosition=false}if(animateOpacity)animateParams.opacity=1;if(animatePosition){animateParams.top=tgttop+"px";animateParams.left=tgtleft+"px";animateParams.width=tgtwidth+"px"}}if(!_.isEmpty(animateParams)){if(_this.paddleAnimation){if(JSON.stringify(animateParams)==JSON.stringify(_this.paddleAnimation))return}_this.paddleAnimation=animateParams;jpaddle.stop(true).animate(animateParams,250,function(){_this.paddleAnimation=null})}};XMenuHorizontal.prototype.Select=function(selectedmenu){var _this=this;if(!selectedmenu)selectedmenu="";if(!_.isString&&_.isArray(selectedmenu))selectedmenu=selectedmenu[selectedmenu.length-1];selectedmenu=(selectedmenu||"").toString().toUpperCase();selectedmenu=jsh.XExt.escapeCSSClass(selectedmenu);var jsubmenuitem=jsh.$root(".xsubmenu .xsubmenuitem_"+selectedmenu).first();var jmenuitem=null;var submenuid="";var menuid="";if(jsubmenuitem.length){submenuid=selectedmenu;menuid=jsh.XExt.escapeCSSClass(jsubmenuitem.closest(".xsubmenu").data("parent"));jmenuitem=jsh.$root(".xmenu .xmenuitem_"+menuid).first()}else{jsubmenuitem=null;jmenuitem=jsh.$root(".xmenu .xmenuitem_"+selectedmenu).first();if(jmenuitem.length){menuid=selectedmenu}else{jmenuitem=null}}_this.menuid=menuid;_this.submenuid=submenuid;_this.RenderSubmenu();var jmenusideitem=null;if(menuid)jmenusideitem=jsh.$root(".xmenuside .xmenusideitem_"+menuid);var jsubmenusideitem=null;if(submenuid)jsubmenusideitem=jsh.$root(".xsubmenuside .xsubmenusideitem_"+submenuid);jsh.$root(".xmenu .xmenuitem").not(jmenuitem).removeClass("selected");jsh.$root(".xmenuside .xmenusideitem").not(jmenusideitem).removeClass("selected");if(jmenuitem&&!jmenuitem.hasClass("selected"))jmenuitem.addClass("selected");if(jmenusideitem&&!jmenusideitem.hasClass("selected"))jmenusideitem.addClass("selected");jsh.$root(".xsubmenu .xsubmenuitem").not(jsubmenuitem).removeClass("selected");jsh.$root(".xsubmenuside .xsubmenusideitem").not(jsubmenusideitem).removeClass("selected");if(jsubmenuitem&&!jsubmenuitem.hasClass("selected"))jsubmenuitem.addClass("selected");if(jsubmenusideitem&&!jsubmenusideitem.hasClass("selected"))jsubmenusideitem.addClass("selected");this.RenderPaddle()};XMenuHorizontal.prototype.RefreshLayout=function(){var _this=this;if(!this.isInitialized)return;if(jsh.$root(".xmenu").size()==0)return;var maxw=$(window).width()-1;var newDimensions=_this.CalcDimensions();var showmore=false;var curleft=_this.MenuOverhang;for(var i=0;i<_this.MenuItems.length;i++){curleft+=_this.MenuItems[i].data("width")}if(curleft>maxw)showmore=true;var jmore=jsh.$root(".xmenu_more");if(jmore.size()>0){if(showmore){if(!jmore.is(":visible"))jmore.show();if(_this.MenuMoreWidth<=0){_this.MenuMoreWidth=jmore.outerWidth(true)}maxw-=_this.MenuMoreWidth}else{if(jmore.is(":visible")){jmore.hide();jsh.$root(".xmenuside").hide()}}}curleft=_this.MenuOverhang;for(var j=0;j<_this.MenuItems.length;j++){var xmenuitem=_this.MenuItems[j];curleft+=xmenuitem.data("width");if(curleft>maxw){if(xmenuitem.is(":visible"))xmenuitem.hide()}else{if(!xmenuitem.is(":visible"))xmenuitem.show()}}this.RefreshSubmenuLayout();this.RenderPaddle(newDimensions)};XMenuHorizontal.prototype.RefreshSubmenuLayout=function(){var _this=this;var jSubMenu=_this.getSubmenu();if(!jSubMenu.length)return;var maxw=$(window).width()-1;_this.CalcSubmenuDimensions();var showmore=false;var curleft=_this.SubMenuOverhang;for(var i=0;i<_this.SubMenuItems.length;i++){curleft+=_this.SubMenuItems[i].data("width")}if(curleft>maxw)showmore=true;var jmore=jSubMenu.$find(".xsubmenu_more");if(jmore.size()>0){if(showmore){if(!jmore.is(":visible"))jmore.show();if(_this.SubMenuMoreWidth<=0){_this.SubMenuMoreWidth=jmore.outerWidth(true)}maxw-=_this.SubMenuMoreWidth}else{if(jmore.is(":visible")){jmore.hide();jSubMenu.$find(".xsubmenu_more").hide()}}}curleft=_this.SubMenuOverhang;for(var j=0;j<_this.SubMenuItems.length;j++){var xsubmenuitem=_this.SubMenuItems[j];curleft+=xsubmenuitem.data("width");if(curleft>maxw){if(xsubmenuitem.is(":visible"))xsubmenuitem.hide()}else{if(!xsubmenuitem.is(":visible"))xsubmenuitem.show()}}};XMenuHorizontal.prototype.getSubmenu=function(menuid){var _this=this;if(!menuid)menuid=_this.menuid;return jsh.$root(".xsubmenu_"+String(menuid).toUpperCase())};XMenuHorizontal.prototype.RenderSubmenu=function(){var _this=this;var jSubMenu=_this.getSubmenu();_this.SubMenuItems=[];_this.SubMenuOverhang=0;_this.SubMenuMoreWidth=0;jsh.$root(".xsubmenu").hide();jsh.$root(".xsubmenuside").hide().empty();if(jSubMenu.size()>0){jSubMenu.show();jSubMenu.$find("a, div").each(function(i,obj){if($(obj).hasClass("xsubmenu_more"))return;_this.SubMenuItems.push($(obj))});_this.CalcSubmenuDimensions(true);jSubMenu.$find(".xsubmenu_more").off("click");jSubMenu.$find(".xsubmenu_more").on("click",function(){var xsubmenuside=jsh.$root(".xsubmenuside");if(!xsubmenuside.is(":visible"))xsubmenuside.show();else xsubmenuside.hide();return false})}var xsubmenuside=jsh.$root(".xsubmenuside");if(xsubmenuside.size()>0){for(var i=0;i<_this.SubMenuItems.length;i++){var xsubmenuitem=_this.SubMenuItems[i];if($(xsubmenuitem).is("a")){var link_onclick=xsubmenuitem.attr("onclick");if(link_onclick){link_onclick='onclick="'+jsh.getInstance()+".$root('.xsubmenuside').hide(); "+link_onclick+';"'}var htmlobj='<a href="'+xsubmenuitem.attr("href")+'" '+link_onclick+' class="xsubmenusideitem xsubmenusideitem_'+jsh.XExt.escapeCSSClass(xsubmenuitem.data("id"))+" "+(xsubmenuitem.hasClass("selected")?"selected":"")+'">'+xsubmenuitem.html()+"</a>";xsubmenuside.append(htmlobj)}}}_this.RefreshLayout()};XMenuHorizontal.prototype.CalcDimensions=function(force){var _this=this;if(!force&&_this.MenuItems.length>0){var jmenuitem=_this.MenuItems[0];if(jmenuitem.outerWidth(true).toString()==jmenuitem.data("width"))return false}for(var i=0;i<_this.MenuItems.length;i++){var jobj=_this.MenuItems[i];var jwidth=jobj.outerWidth(true);jobj.data("width",jwidth)}_this.MenuOverhang=jsh.$root(".xmenu").offset().left+parseInt(jsh.$root(".xmenu").css("padding-left").replace(/\D/g,""));if(isNaN(_this.MenuOverhang))_this.MenuOverhang=0;return true};XMenuHorizontal.prototype.CalcSubmenuDimensions=function(force){var _this=this;var jSubMenu=_this.getSubmenu();if(!force&&_this.SubMenuItems.length>0){var jsubmenuitem=_this.SubMenuItems[0];if(jsubmenuitem.outerWidth(true).toString()==jsubmenuitem.data("width"))return}for(var i=0;i<_this.SubMenuItems.length;i++){var jobj=_this.SubMenuItems[i];var jwidth=jobj.outerWidth(true);jobj.data("width",jwidth)}_this.SubMenuOverhang=jSubMenu.offset().left+parseInt(jSubMenu.css("padding-left").replace(/\D/g,""));if(isNaN(_this.SubMenuOverhang))_this.SubMenuOverhang=0};XMenuHorizontal.prototype.Navigated=function(obj){var jobj=$(obj);var jmenuside=jsh.$root(".xmenuside");var jsubmenuside=jsh.$root(".xsubmenuside");if(!jobj.hasClass("xmenu_more"))jmenuside.hide();if(!jobj.hasClass("xsubmenu_more"))jsubmenuside.hide()};XMenu.Base=XMenuBase;XMenu.Interfaces["horizontal"]=XMenuHorizontal;return XMenu}},{"./jquery-1.11.2":27,lodash:34}],23:[function(require,module,exports){var _=require("lodash");exports=module.exports=function(jsh){function XPayment(){this.Loader={};this.Initialized=false;this.Init();this.payment_id="";this.payment_result_url="";this.payment_onComplete=undefined;this.payment_onFail=undefined;this.payment_proxy=false;this.payment_result_url="";this.fp_hash=""}XPayment.prototype.Init=function(){if(this.Initialized)return;var _this=this;jsh.onPaymentProxyComplete=function(obj){if(!_this.payment_proxy)return;jsh.xLoader.StopLoading(_this.Loader);_this.Result()};jsh.root.append('      <iframe id="'+jsh.getInstance()+'_xpaymentproxy" name="'+jsh.getInstance()+'_xpaymentproxy" src="about:blank" onload="'+jsh.getInstance()+'.onPaymentProxyComplete(this);" style="width:0;height:0;border:0px solid #fff;"></iframe>      <div class="xpaymentformcontainer" style="position:absolute;top:0px;left:0px;width:1px;height:1px;overflow:hidden;"></div>    ');this.Initialized=true};XPayment.prototype.Submit=function(fp_data,payment_data,_payment_result_url,onComplete,onFail){this.payment_id=fp_data.payment_id;this.payment_result_url=_payment_result_url;this.payment_onComplete=onComplete;this.payment_onFail=onFail;this.payment_proxy=true;this.fp_hash=fp_data.fp_hash;var d={x_fp_hash:fp_data.fp_hash,x_fp_sequence:fp_data.fp_sequence,x_fp_timestamp:fp_data.fp_timestamp,x_login:fp_data.fp_login,x_type:"AUTH_CAPTURE",x_amount:fp_data.fp_amount,x_relay_response:"TRUE",x_relay_always:"TRUE",x_version:"3.1",x_method:"CC",x_invoice_num:fp_data.fp_invoice_id,x_po_num:fp_data.fp_invoice_id,x_description:fp_data.fp_description,x_cust_id:fp_data.fp_cust_id,x_card_num:payment_data.cc_no,x_card_code:payment_data.cc_cvv,x_exp_date:(payment_data.cc_expd_mm||"").toString()+(payment_data.cc_expd_yyyy||"").toString(),x_first_name:payment_data.pacc_fname,x_last_name:payment_data.pacc_lname,x_address:payment_data.pacc_addr||"",x_city:payment_data.pacc_city||"",x_state:payment_data.pacc_state,x_zip:payment_data.pacc_zip,x_country:"US"};var formhtml='<form class="xpaymentform" method="post" target="'+jsh.getInstance()+'_xpaymentproxy">';_.each(d,function(val,key){if(typeof val=="undefined")return;formhtml+='<INPUT TYPE="HIDDEN" NAME="'+jsh.XExt.escapeHTML(key)+'" VALUE="'+jsh.XExt.escapeHTML(val)+'" />'});formhtml+="</form>";jsh.$root(".xpaymentformcontainer").html(formhtml);jsh.$root(".xpaymentform").attr("action",fp_data.fp_url);jsh.xLoader.StartLoading(this.Loader);jsh.$root(".xpaymentform").submit()};XPayment.prototype.Result=function(){var _this=this;jsh.XForm.prototype.XExecutePost(_this.payment_result_url,{payment_id:_this.payment_id,fp_hash:_this.fp_hash},function(rslt){if("_success"in rslt){var pacc_sts=rslt["pacc_sts"];var pacc_pp_result=rslt["pacc_pp_result"];if(pacc_sts=="PENDING"){jsh.XExt.Alert("Transaction Failed: "+pacc_pp_result+"\nPlease verify your credit card information and try again.",function(){if(typeof _this.payment_onFail!="undefined")_this.payment_onFail(rslt)})}else{if(typeof _this.payment_onComplete!="undefined")_this.payment_onComplete(rslt)}}})};return XPayment}},{lodash:34}],24:[function(require,module,exports){var $=require("./jquery-1.11.2");$.fn.$find=function(){return $.fn.find.apply(this,arguments)};var _=require("lodash");exports=module.exports=function(jsh){function XScanner(_Func,_Server,_Params){this.Func=_Func;this.Server=jsh.globalparams.scanner_server;if(_Server)this.Server=_Server;if(_Params)this.Params=_Params;else this.Params={}}var XScanner_Timer=null;function XScanner_SetLoadEvents(onFail){XScanner_Timer=setTimeout(function(){XScanner_Timeout(onFail)},12e4)}function XScanner_ClearLoadEvents(){jsh.xLoader.StopLoading(jsh.xfileuploadLoader);if(XScanner_Timer){clearTimeout(XScanner_Timer);XScanner_Timer=null}}function XScanner_Timeout(onFail){XScanner_ClearLoadEvents();jsh.XExt.Alert("Scan Failed: Could not connect to Scanner Server.",onFail)}XScanner.prototype.Scan=function(_Params,onComplete,onFail){if(!this.Server)return jsh.XExt.Alert("Scan server not defined.");var _this=this;var params={};if(_Params)params=_.extend(this.Params,_Params);XScanner_ClearLoadEvents();XScanner_SetLoadEvents(onFail);jsh.xLoader.StartLoading(jsh.xfileuploadLoader);jsh.XExt.getToken(function(token){params=_.extend(params,token);params._func=_this.Func;var url=_this.Server+"/scan/?"+$.param(params);$.ajax({cache:false,url:url,jsonp:"callback",dataType:"jsonp",complete:function(data){XScanner_ClearLoadEvents();var jdata=data.responseJSON;if(jdata instanceof Object&&"_error"in jdata){if(jsh.DefaultErrorHandler(jdata._error.Number,jdata._error.Message)){}else if(jdata._error.Number==-9||jdata._error.Number==-5){jsh.XExt.Alert(jdata._error.Message)}else{jsh.XExt.Alert("Error #"+jdata._error.Number+": "+jdata._error.Message)}if(onFail)onFail(jdata._error);return}else if(jdata instanceof Object&&"_success"in jdata){if(onComplete)onComplete(jdata)}else{jsh.XExt.Alert("Error Scanning: "+JSON.stringify(data.responseJSON?data.responseJSON:""),onFail)}},error:function(err){XScanner_Timeout(onFail)}})},function(){XScanner_Timeout(onFail)})};return XScanner}},{"./jquery-1.11.2":27,lodash:34}],25:[function(require,module,exports){var $=require("./jquery-1.11.2");$.fn.$find=function(){return $.fn.find.apply(this,arguments)};var _=require("lodash");exports=module.exports=function(jsh){var XSearch=function(){};function SearchQuery(xmodel){this.xmodel=xmodel;this.Items=[];this.Fields=[];if(xmodel&&xmodel.fields){var _this=this;_.each(xmodel.fields,function(field){if(jsh.XExt.hasAction(field.actions,"BS")&&!field.disable_search&&!field.unbound){var comparison_type="none";if(field.lov)comparison_type="lov";else if("type"in field){if(field.type=="varchar"||field.type=="char"||field.type=="binary")comparison_type="string";else if(_.includes(["bigint","int","smallint","tinyint","decimal","float","time"],field.type))comparison_type="numeric";else if(_.includes(["datetime","date"],field.type))comparison_type="date";else if(_.includes(["hash","boolean"],field.type))comparison_type="object"}var sfield={name:field.name,caption:field.caption,comparison_type:comparison_type};if(field.search_sound)sfield.search_sound=1;_this.Fields.push(sfield)}})}}SearchQuery.prototype.GetValues=function(){var _this=this;var _PlaceholderID="";if(this.xmodel&&this.xmodel&&this.xmodel.controller&&this.xmodel.controller.search)_PlaceholderID=this.xmodel.controller.search.PlaceholderID||"";_this.Items=[];var jSearchExpressions=jsh.$root(_PlaceholderID+" div.xsearch_expression");for(var i=0;i<jSearchExpressions.length;i++){var jobj=$(jSearchExpressions[i]);var v_column=jobj.$find("select.xsearch_column").val();var v_value=jobj.$find("input.xsearch_value").val();var v_join=i==0?undefined:$(jSearchExpressions[i-1]).$find("select.xsearch_join").val();var v_comparison=jobj.$find("select.xsearch_comparison").val();if(v_column==="ALL"||!v_comparison)v_comparison="contains";_this.Items.push(new SearchItem(v_column,v_value,v_join,v_comparison))}};SearchQuery.prototype.HasUpdates=function(_PlaceholderID){var _this=this;var newitems=[];jsh.$root(_PlaceholderID+" div").each(function(i,obj){var v_value=$(obj).$find("input.xsearch_value").val();var v_join=$(obj).$find("input.xsearch_join").val();var v_comparison=$(obj).$find("select.xsearch_comparison").val();newitems.push(new SearchItem($(obj).$find("select.xsearch_column").val(),v_value,v_join,v_comparison))});if(newitems.length!=_this.Items.length)return true;for(var i=0;i<newitems.length;i++){if(newitems[i].Column!=_this.Items[i].Column)return true;if(newitems[i].Value!=_this.Items[i].Value)return true;if(newitems[i].Join!=_this.Items[i].Join)return true;if(newitems[i].Comparison!=_this.Items[i].Comparison)return true}return false};function SearchItem(_Column,_Value,_Join,_Comparison){this.Column=_Column;this.Value=_Value;this.Join=_Join;this.Comparison=_Comparison}XSearch.SearchQuery=SearchQuery;XSearch.SearchItem=SearchItem;return XSearch}},{"./jquery-1.11.2":27,lodash:34}],26:[function(require,module,exports){(typeof Crypto=="undefined"||!Crypto.util)&&function(){var m=window.Crypto={},o=m.util={rotl:function(h,g){return h<<g|h>>>32-g},rotr:function(h,g){return h<<32-g|h>>>g},endian:function(h){if(h.constructor==Number)return o.rotl(h,8)&16711935|o.rotl(h,24)&4278255360;for(var g=0;g<h.length;g++)h[g]=o.endian(h[g]);return h},randomBytes:function(h){for(var g=[];h>0;h--)g.push(Math.floor(Math.random()*256));return g},bytesToWords:function(h){for(var g=[],i=0,a=0;i<h.length;i++,a+=8)g[a>>>5]|=(h[i]&255)<<24-a%32;return g},wordsToBytes:function(h){for(var g=[],i=0;i<h.length*32;i+=8)g.push(h[i>>>5]>>>24-i%32&255);return g},bytesToHex:function(h){for(var g=[],i=0;i<h.length;i++)g.push((h[i]>>>4).toString(16)),g.push((h[i]&15).toString(16));return g.join("")},hexToBytes:function(h){for(var g=[],i=0;i<h.length;i+=2)g.push(parseInt(h.substr(i,2),16));return g},bytesToBase64:function(h){if(typeof btoa=="function")return btoa(n.bytesToString(h));for(var g=[],i=0;i<h.length;i+=3)for(var a=h[i]<<16|h[i+1]<<8|h[i+2],b=0;b<4;b++)i*8+b*6<=h.length*8?g.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>6*(3-b)&63)):g.push("=");return g.join("")},base64ToBytes:function(h){if(typeof atob=="function")return n.stringToBytes(atob(h));for(var h=h.replace(/[^A-Z0-9+\/]/gi,""),g=[],i=0,a=0;i<h.length;a=++i%4)a!=0&&g.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(h.charAt(i-1))&Math.pow(2,-2*a+8)-1)<<a*2|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(h.charAt(i))>>>6-a*2);return g}},m=m.charenc={};m.UTF8={stringToBytes:function(h){return n.stringToBytes(unescape(encodeURIComponent(h)))},bytesToString:function(h){return decodeURIComponent(escape(n.bytesToString(h)))}};var n=m.Binary={stringToBytes:function(h){for(var g=[],i=0;i<h.length;i++)g.push(h.charCodeAt(i)&255);return g},bytesToString:function(h){for(var g=[],i=0;i<h.length;i++)g.push(String.fromCharCode(h[i]));return g.join("")}}}();(function(){var m=Crypto,o=m.util,n=m.charenc,h=n.UTF8,g=n.Binary,i=m.MD5=function(a,b){var h=o.wordsToBytes(i._md5(a));return b&&b.asBytes?h:b&&b.asString?g.bytesToString(h):o.bytesToHex(h)};i._md5=function(a){a.constructor==String&&(a=h.stringToBytes(a));for(var b=o.bytesToWords(a),g=a.length*8,a=1732584193,d=-271733879,e=-1732584194,c=271733878,f=0;f<b.length;f++)b[f]=(b[f]<<8|b[f]>>>24)&16711935|(b[f]<<24|b[f]>>>8)&4278255360;b[g>>>5]|=128<<g%32;b[(g+64>>>9<<4)+14]=g;for(var g=i._ff,j=i._gg,k=i._hh,l=i._ii,f=0;f<b.length;f+=16)var m=a,n=d,p=e,q=c,a=g(a,d,e,c,b[f+0],7,-680876936),c=g(c,a,d,e,b[f+1],12,-389564586),e=g(e,c,a,d,b[f+2],17,606105819),d=g(d,e,c,a,b[f+3],22,-1044525330),a=g(a,d,e,c,b[f+4],7,-176418897),c=g(c,a,d,e,b[f+5],12,1200080426),e=g(e,c,a,d,b[f+6],17,-1473231341),d=g(d,e,c,a,b[f+7],22,-45705983),a=g(a,d,e,c,b[f+8],7,1770035416),c=g(c,a,d,e,b[f+9],12,-1958414417),e=g(e,c,a,d,b[f+10],17,-42063),d=g(d,e,c,a,b[f+11],22,-1990404162),a=g(a,d,e,c,b[f+12],7,1804603682),c=g(c,a,d,e,b[f+13],12,-40341101),e=g(e,c,a,d,b[f+14],17,-1502002290),d=g(d,e,c,a,b[f+15],22,1236535329),a=j(a,d,e,c,b[f+1],5,-165796510),c=j(c,a,d,e,b[f+6],9,-1069501632),e=j(e,c,a,d,b[f+11],14,643717713),d=j(d,e,c,a,b[f+0],20,-373897302),a=j(a,d,e,c,b[f+5],5,-701558691),c=j(c,a,d,e,b[f+10],9,38016083),e=j(e,c,a,d,b[f+15],14,-660478335),d=j(d,e,c,a,b[f+4],20,-405537848),a=j(a,d,e,c,b[f+9],5,568446438),c=j(c,a,d,e,b[f+14],9,-1019803690),e=j(e,c,a,d,b[f+3],14,-187363961),d=j(d,e,c,a,b[f+8],20,1163531501),a=j(a,d,e,c,b[f+13],5,-1444681467),c=j(c,a,d,e,b[f+2],9,-51403784),e=j(e,c,a,d,b[f+7],14,1735328473),d=j(d,e,c,a,b[f+12],20,-1926607734),a=k(a,d,e,c,b[f+5],4,-378558),c=k(c,a,d,e,b[f+8],11,-2022574463),e=k(e,c,a,d,b[f+11],16,1839030562),d=k(d,e,c,a,b[f+14],23,-35309556),a=k(a,d,e,c,b[f+1],4,-1530992060),c=k(c,a,d,e,b[f+4],11,1272893353),e=k(e,c,a,d,b[f+7],16,-155497632),d=k(d,e,c,a,b[f+10],23,-1094730640),a=k(a,d,e,c,b[f+13],4,681279174),c=k(c,a,d,e,b[f+0],11,-358537222),e=k(e,c,a,d,b[f+3],16,-722521979),d=k(d,e,c,a,b[f+6],23,76029189),a=k(a,d,e,c,b[f+9],4,-640364487),c=k(c,a,d,e,b[f+12],11,-421815835),e=k(e,c,a,d,b[f+15],16,530742520),d=k(d,e,c,a,b[f+2],23,-995338651),a=l(a,d,e,c,b[f+0],6,-198630844),c=l(c,a,d,e,b[f+7],10,1126891415),e=l(e,c,a,d,b[f+14],15,-1416354905),d=l(d,e,c,a,b[f+5],21,-57434055),a=l(a,d,e,c,b[f+12],6,1700485571),c=l(c,a,d,e,b[f+3],10,-1894986606),e=l(e,c,a,d,b[f+10],15,-1051523),d=l(d,e,c,a,b[f+1],21,-2054922799),a=l(a,d,e,c,b[f+8],6,1873313359),c=l(c,a,d,e,b[f+15],10,-30611744),e=l(e,c,a,d,b[f+6],15,-1560198380),d=l(d,e,c,a,b[f+13],21,1309151649),a=l(a,d,e,c,b[f+4],6,-145523070),c=l(c,a,d,e,b[f+11],10,-1120210379),e=l(e,c,a,d,b[f+2],15,718787259),d=l(d,e,c,a,b[f+9],21,-343485551),a=a+m>>>0,d=d+n>>>0,e=e+p>>>0,c=c+q>>>0;return o.endian([a,d,e,c])};i._ff=function(a,b,g,d,e,c,f){a=a+(b&g|~b&d)+(e>>>0)+f;return(a<<c|a>>>32-c)+b};i._gg=function(a,b,g,d,e,c,f){a=a+(b&d|g&~d)+(e>>>0)+f;return(a<<c|a>>>32-c)+b};i._hh=function(a,b,g,d,e,c,f){a=a+(b^g^d)+(e>>>0)+f;return(a<<c|a>>>32-c)+b};i._ii=function(a,b,g,d,e,c,f){a=a+(g^(b|~d))+(e>>>0)+f;return(a<<c|a>>>32-c)+b};i._blocksize=16;i._digestsize=16})()},{}],27:[function(require,module,exports){(function(global,factory){if(typeof module==="object"&&typeof module.exports==="object"){module.exports=global.document?factory(global,true):function(w){if(!w.document){throw new Error("jQuery requires a window with a document")}return factory(w)}}else{factory(global)}})(typeof window!=="undefined"?window:this,function(window,noGlobal){var deletedIds=[];var slice=deletedIds.slice;var concat=deletedIds.concat;var push=deletedIds.push;var indexOf=deletedIds.indexOf;var class2type={};var toString=class2type.toString;var hasOwn=class2type.hasOwnProperty;var support={};var version="1.11.2",jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(num){return num!=null?num<0?this[num+this.length]:this[num]:slice.call(this)},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);ret.prevObject=this;ret.context=this.context;return ret},each:function(callback,args){return jQuery.each(this,callback,args)},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(j>=0&&j<len?[this[j]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:deletedIds.sort,splice:deletedIds.splice};jQuery.extend=jQuery.fn.extend=function(){var src,copyIsArray,copy,name,options,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[i]||{};i++}if(typeof target!=="object"&&!jQuery.isFunction(target)){target={}}if(i===length){target=this;i--}for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue}if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&jQuery.isArray(src)?src:[]}else{clone=src&&jQuery.isPlainObject(src)?src:{}}target[name]=jQuery.extend(deep,clone,copy)}else if(copy!==undefined){target[name]=copy}}}}return target};jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:true,error:function(msg){throw new Error(msg)},noop:function(){},isFunction:function(obj){return jQuery.type(obj)==="function"},isArray:Array.isArray||function(obj){return jQuery.type(obj)==="array"},isWindow:function(obj){return obj!=null&&obj==obj.window},isNumeric:function(obj){return!jQuery.isArray(obj)&&obj-parseFloat(obj)+1>=0},isEmptyObject:function(obj){var name;for(name in obj){return false}return true},isPlainObject:function(obj){var key;if(!obj||jQuery.type(obj)!=="object"||obj.nodeType||jQuery.isWindow(obj)){return false}try{if(obj.constructor&&!hasOwn.call(obj,"constructor")&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf")){return false}}catch(e){return false}if(support.ownLast){for(key in obj){return hasOwn.call(obj,key)}}for(key in obj){}return key===undefined||hasOwn.call(obj,key)},type:function(obj){if(obj==null){return obj+""}return typeof obj==="object"||typeof obj==="function"?class2type[toString.call(obj)]||"object":typeof obj},globalEval:function(data){if(data&&jQuery.trim(data)){(window.execScript||function(data){window["eval"].call(window,data)})(data)}},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback,args){var value,i=0,length=obj.length,isArray=isArraylike(obj);if(args){if(isArray){for(;i<length;i++){value=callback.apply(obj[i],args);if(value===false){break}}}else{for(i in obj){value=callback.apply(obj[i],args);if(value===false){break}}}}else{if(isArray){for(;i<length;i++){value=callback.call(obj[i],i,obj[i]);if(value===false){break}}}else{for(i in obj){value=callback.call(obj[i],i,obj[i]);if(value===false){break}}}}return obj},trim:function(text){return text==null?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var ret=results||[];if(arr!=null){if(isArraylike(Object(arr))){jQuery.merge(ret,typeof arr==="string"?[arr]:arr)}else{push.call(ret,arr)}}return ret},inArray:function(elem,arr,i){var len;if(arr){if(indexOf){return indexOf.call(arr,elem,i)}len=arr.length;i=i?i<0?Math.max(0,len+i):i:0;for(;i<len;i++){if(i in arr&&arr[i]===elem){return i}}}return-1},merge:function(first,second){var len=+second.length,j=0,i=first.length;while(j<len){first[i++]=second[j++]}if(len!==len){while(second[j]!==undefined){first[i++]=second[j++]}}first.length=i;return first},grep:function(elems,callback,invert){var callbackInverse,matches=[],i=0,length=elems.length,callbackExpect=!invert;for(;i<length;i++){callbackInverse=!callback(elems[i],i);if(callbackInverse!==callbackExpect){matches.push(elems[i])}}return matches},map:function(elems,callback,arg){var value,i=0,length=elems.length,isArray=isArraylike(elems),ret=[];if(isArray){for(;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret.push(value)}}}else{for(i in elems){value=callback(elems[i],i,arg);if(value!=null){ret.push(value)}}}return concat.apply([],ret)},guid:1,proxy:function(fn,context){var args,proxy,tmp;if(typeof context==="string"){tmp=fn[context];context=fn;fn=tmp}if(!jQuery.isFunction(fn)){return undefined}args=slice.call(arguments,2);proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))};proxy.guid=fn.guid=fn.guid||jQuery.guid++;return proxy},now:function(){return+new Date},support:support});jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});function isArraylike(obj){var length=obj.length,type=jQuery.type(obj);if(type==="function"||jQuery.isWindow(obj)){return false}if(obj.nodeType===1&&length){return true}return type==="array"||length===0||typeof length==="number"&&length>0&&length-1 in obj}var Sizzle=function(window){var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+1*new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){if(a===b){hasDuplicate=true}return 0},MAX_NEGATIVE=1<<31,hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=function(list,elem){var i=0,len=list.length;for(;i<len;i++){if(list[i]===elem){return i}}return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",identifier=characterEncoding.replace("w","w#"),attributes="\\["+whitespace+"*("+characterEncoding+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+"*\\]",pseudos=":("+characterEncoding+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|"+".*"+")\\)|)",rwhitespace=new RegExp(whitespace+"+","g"),rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*?)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+characterEncoding+")"),CLASS:new RegExp("^\\.("+characterEncoding+")"),TAG:new RegExp("^("+characterEncoding.replace("w","w*")+")"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),bool:new RegExp("^(?:"+booleans+")$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-65536;return high!==high||escapedWhitespace?escaped:high<0?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,high&1023|56320)},unloadHandler=function(){setDocument()};try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes);arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){var j=target.length,i=0;while(target[j++]=els[i++]){}target.length=j-1}}}function Sizzle(selector,context,results,seed){var match,elem,m,nodeType,i,groups,old,nid,newContext,newSelector;if((context?context.ownerDocument||context:preferredDoc)!==document){setDocument(context)}context=context||document;results=results||[];nodeType=context.nodeType;if(typeof selector!=="string"||!selector||nodeType!==1&&nodeType!==9&&nodeType!==11){return results}if(!seed&&documentIsHTML){if(nodeType!==11&&(match=rquickExpr.exec(selector))){if(m=match[1]){if(nodeType===9){elem=context.getElementById(m);if(elem&&elem.parentNode){if(elem.id===m){results.push(elem);return results}}else{return results}}else{if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);return results}}}else if(match[2]){push.apply(results,context.getElementsByTagName(selector));return results}else if((m=match[3])&&support.getElementsByClassName){push.apply(results,context.getElementsByClassName(m));return results}}if(support.qsa&&(!rbuggyQSA||!rbuggyQSA.test(selector))){nid=old=expando;newContext=context;newSelector=nodeType!==1&&selector;if(nodeType===1&&context.nodeName.toLowerCase()!=="object"){groups=tokenize(selector);if(old=context.getAttribute("id")){nid=old.replace(rescape,"\\$&")}else{context.setAttribute("id",nid)}nid="[id='"+nid+"'] ";i=groups.length;while(i--){groups[i]=nid+toSelector(groups[i])}newContext=rsibling.test(selector)&&testContext(context.parentNode)||context;newSelector=groups.join(",")}if(newSelector){try{push.apply(results,newContext.querySelectorAll(newSelector));return results}catch(qsaError){}finally{if(!old){context.removeAttribute("id")}}}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function createCache(){var keys=[];function cache(key,value){if(keys.push(key+" ")>Expr.cacheLength){delete cache[keys.shift()]}return cache[key+" "]=value}return cache}function markFunction(fn){fn[expando]=true;return fn}function assert(fn){var div=document.createElement("div");try{return!!fn(div)}catch(e){return false}finally{if(div.parentNode){div.parentNode.removeChild(div)}div=null}}function addHandle(attrs,handler){var arr=attrs.split("|"),i=attrs.length;while(i--){Expr.attrHandle[arr[i]]=handler}}function siblingCheck(a,b){var cur=b&&a,diff=cur&&a.nodeType===1&&b.nodeType===1&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff){return diff}if(cur){while(cur=cur.nextSibling){if(cur===b){return-1}}}return a?1:-1}function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){argument=+argument;return markFunction(function(seed,matches){var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;while(i--){if(seed[j=matchIndexes[i]]){seed[j]=!(matches[j]=seed[j])}}})})}function testContext(context){return context&&typeof context.getElementsByTagName!=="undefined"&&context}support=Sizzle.support={};isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?documentElement.nodeName!=="HTML":false};setDocument=Sizzle.setDocument=function(node){var hasCompare,parent,doc=node?node.ownerDocument||node:preferredDoc;if(doc===document||doc.nodeType!==9||!doc.documentElement){return document}document=doc;docElem=doc.documentElement;parent=doc.defaultView;if(parent&&parent!==parent.top){if(parent.addEventListener){parent.addEventListener("unload",unloadHandler,false)}else if(parent.attachEvent){parent.attachEvent("onunload",unloadHandler)}}documentIsHTML=!isXML(doc);support.attributes=assert(function(div){div.className="i";return!div.getAttribute("className")});support.getElementsByTagName=assert(function(div){div.appendChild(doc.createComment(""));return!div.getElementsByTagName("*").length});support.getElementsByClassName=rnative.test(doc.getElementsByClassName);support.getById=assert(function(div){docElem.appendChild(div).id=expando;return!doc.getElementsByName||!doc.getElementsByName(expando).length});if(support.getById){Expr.find["ID"]=function(id,context){if(typeof context.getElementById!=="undefined"&&documentIsHTML){var m=context.getElementById(id);return m&&m.parentNode?[m]:[]}};Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}}else{delete Expr.find["ID"];Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=typeof elem.getAttributeNode!=="undefined"&&elem.getAttributeNode("id");return node&&node.value===attrId}}}Expr.find["TAG"]=support.getElementsByTagName?function(tag,context){if(typeof context.getElementsByTagName!=="undefined"){return context.getElementsByTagName(tag)}else if(support.qsa){return context.querySelectorAll(tag)}}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if(tag==="*"){while(elem=results[i++]){if(elem.nodeType===1){tmp.push(elem)}}return tmp}return results};Expr.find["CLASS"]=support.getElementsByClassName&&function(className,context){if(documentIsHTML){return context.getElementsByClassName(className)}};rbuggyMatches=[];rbuggyQSA=[];if(support.qsa=rnative.test(doc.querySelectorAll)){assert(function(div){docElem.appendChild(div).innerHTML="<a id='"+expando+"'></a>"+"<select id='"+expando+"-\f]' msallowcapture=''>"+"<option selected=''></option></select>";if(div.querySelectorAll("[msallowcapture^='']").length){rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")")}if(!div.querySelectorAll("[selected]").length){rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")")}if(!div.querySelectorAll("[id~="+expando+"-]").length){rbuggyQSA.push("~=")}if(!div.querySelectorAll(":checked").length){rbuggyQSA.push(":checked")}if(!div.querySelectorAll("a#"+expando+"+*").length){rbuggyQSA.push(".#.+[+~]")}});assert(function(div){var input=doc.createElement("input");input.setAttribute("type","hidden");div.appendChild(input).setAttribute("name","D");if(div.querySelectorAll("[name=d]").length){rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?=")}if(!div.querySelectorAll(":enabled").length){rbuggyQSA.push(":enabled",":disabled")}div.querySelectorAll("*,:x");rbuggyQSA.push(",.*:")})}if(support.matchesSelector=rnative.test(matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector)){assert(function(div){support.disconnectedMatch=matches.call(div,"div");matches.call(div,"[s!='']:x");rbuggyMatches.push("!=",pseudos)})}rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|"));rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|"));hasCompare=rnative.test(docElem.compareDocumentPosition);contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&bup.nodeType===1&&(adown.contains?adown.contains(bup):a.compareDocumentPosition&&a.compareDocumentPosition(bup)&16))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return true}}}return false};sortOrder=hasCompare?function(a,b){if(a===b){hasDuplicate=true;return 0}var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;if(compare){return compare}compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;if(compare&1||!support.sortDetached&&b.compareDocumentPosition(a)===compare){if(a===doc||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)){return-1}if(b===doc||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)){return 1}return sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0}return compare&4?-1:1}:function(a,b){if(a===b){hasDuplicate=true;return 0}var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup){return a===doc?-1:b===doc?1:aup?-1:bup?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0}else if(aup===bup){return siblingCheck(a,b)}cur=a;while(cur=cur.parentNode){ap.unshift(cur)}cur=b;while(cur=cur.parentNode){bp.unshift(cur)}while(ap[i]===bp[i]){i++}return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0};return doc};Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)};Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document){setDocument(elem)}expr=expr.replace(rattributeQuotes,"='$1']");if(support.matchesSelector&&documentIsHTML&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr))){try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&elem.document.nodeType!==11){return ret}}catch(e){}}return Sizzle(expr,document,null,[elem]).length>0};Sizzle.contains=function(context,elem){if((context.ownerDocument||context)!==document){setDocument(context)}return contains(context,elem)};Sizzle.attr=function(elem,name){if((elem.ownerDocument||elem)!==document){setDocument(elem)}var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):undefined;return val!==undefined?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)};Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;hasDuplicate=!support.detectDuplicates;sortInput=!support.sortStable&&results.slice(0);results.sort(sortOrder);if(hasDuplicate){while(elem=results[i++]){if(elem===results[i]){j=duplicates.push(i)}}while(j--){results.splice(duplicates[j],1)}}sortInput=null;return results};getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(!nodeType){while(node=elem[i++]){ret+=getText(node)}}else if(nodeType===1||nodeType===9||nodeType===11){if(typeof elem.textContent==="string"){return elem.textContent}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem)}}}else if(nodeType===3||nodeType===4){return elem.nodeValue}return ret};Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){match[1]=match[1].replace(runescape,funescape);match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape);if(match[2]==="~="){match[3]=" "+match[3]+" "}return match.slice(0,4)},CHILD:function(match){match[1]=match[1].toLowerCase();if(match[1].slice(0,3)==="nth"){if(!match[3]){Sizzle.error(match[0])}match[4]=+(match[4]?match[5]+(match[6]||1):2*(match[3]==="even"||match[3]==="odd"));match[5]=+(match[7]+match[8]||match[3]==="odd")}else if(match[3]){Sizzle.error(match[0])}return match},PSEUDO:function(match){var excess,unquoted=!match[6]&&match[2];if(matchExpr["CHILD"].test(match[0])){return null}if(match[3]){match[2]=match[4]||match[5]||""}else if(unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,true))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)){match[0]=match[0].slice(0,excess);match[2]=unquoted.slice(0,excess)}return match.slice(0,3)}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return nodeNameSelector==="*"?function(){return true}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test(typeof elem.className==="string"&&elem.className||typeof elem.getAttribute!=="undefined"&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);if(result==null){return operator==="!="}if(!operator){return true}result+="";return operator==="="?result===check:operator==="!="?result!==check:operator==="^="?check&&result.indexOf(check)===0:operator==="*="?check&&result.indexOf(check)>-1:operator==="$="?check&&result.slice(-check.length)===check:operator==="~="?(" "+result.replace(rwhitespace," ")+" ").indexOf(check)>-1:operator==="|="?result===check||result.slice(0,check.length+1)===check+"-":false}},CHILD:function(type,what,argument,first,last){var simple=type.slice(0,3)!=="nth",forward=type.slice(-4)!=="last",ofType=what==="of-type";return first===1&&last===0?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,outerCache,node,diff,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType;if(parent){if(simple){while(dir){node=elem;while(node=node[dir]){if(ofType?node.nodeName.toLowerCase()===name:node.nodeType===1){return false}}start=dir=type==="only"&&!start&&"nextSibling"}return true}start=[forward?parent.firstChild:parent.lastChild];if(forward&&useCache){outerCache=parent[expando]||(parent[expando]={});cache=outerCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=cache[0]===dirruns&&cache[2];node=nodeIndex&&parent.childNodes[nodeIndex];while(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop()){if(node.nodeType===1&&++diff&&node===elem){outerCache[type]=[dirruns,nodeIndex,diff];break}}}else if(useCache&&(cache=(elem[expando]||(elem[expando]={}))[type])&&cache[0]===dirruns){diff=cache[1]}else{while(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop()){if((ofType?node.nodeName.toLowerCase()===name:node.nodeType===1)&&++diff){if(useCache){(node[expando]||(node[expando]={}))[type]=[dirruns,diff]}if(node===elem){break}}}}diff-=last;return diff===first||diff%first===0&&diff/first>=0}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);if(fn[expando]){return fn(argument)}if(fn.length>1){args=[pseudo,pseudo,"",argument];return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){var idx,matched=fn(seed,argument),i=matched.length;while(i--){idx=indexOf(seed,matched[i]);seed[idx]=!(matches[idx]=matched[i])}}):function(elem){return fn(elem,0,args)}}return fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;while(i--){if(elem=unmatched[i]){seed[i]=!(matches[i]=elem)}}}):function(elem,context,xml){input[0]=elem;matcher(input,null,xml,results);input[0]=null;return!results.pop()}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),contains:markFunction(function(text){text=text.replace(runescape,funescape);return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),lang:markFunction(function(lang){if(!ridentifier.test(lang||"")){Sizzle.error("unsupported lang: "+lang)}lang=lang.replace(runescape,funescape).toLowerCase();return function(elem){var elemLang;do{if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang")){elemLang=elemLang.toLowerCase();return elemLang===lang||elemLang.indexOf(lang+"-")===0}}while((elem=elem.parentNode)&&elem.nodeType===1);return false}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return elem.disabled===false},disabled:function(elem){return elem.disabled===true},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return nodeName==="input"&&!!elem.checked||nodeName==="option"&&!!elem.selected},selected:function(elem){if(elem.parentNode){elem.parentNode.selectedIndex}return elem.selected===true},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling){if(elem.nodeType<6){return false}}return true},parent:function(elem){return!Expr.pseudos["empty"](elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type==="button"||name==="button"},text:function(elem){var attr;return elem.nodeName.toLowerCase()==="input"&&elem.type==="text"&&((attr=elem.getAttribute("type"))==null||attr.toLowerCase()==="text")},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){var i=0;for(;i<length;i+=2){matchIndexes.push(i)}return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){var i=1;for(;i<length;i+=2){matchIndexes.push(i)}return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;--i>=0;){matchIndexes.push(i)}return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;++i<length;){matchIndexes.push(i)}return matchIndexes})}};Expr.pseudos["nth"]=Expr.pseudos["eq"];for(i in{radio:true,checkbox:true,file:true,password:true,image:true}){Expr.pseudos[i]=createInputPseudo(i)}for(i in{submit:true,reset:true}){Expr.pseudos[i]=createButtonPseudo(i)}function setFilters(){}setFilters.prototype=Expr.filters=Expr.pseudos;Expr.setFilters=new setFilters;tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached){return parseOnly?0:cached.slice(0)}soFar=selector;groups=[];preFilters=Expr.preFilter;while(soFar){if(!matched||(match=rcomma.exec(soFar))){if(match){soFar=soFar.slice(match[0].length)||soFar}groups.push(tokens=[])}matched=false;if(match=rcombinators.exec(soFar)){matched=match.shift();tokens.push({value:matched,type:match[0].replace(rtrim," ")});soFar=soFar.slice(matched.length)}for(type in Expr.filter){if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match)))){matched=match.shift();tokens.push({value:matched,type:type,matches:match});soFar=soFar.slice(matched.length)}}if(!matched){break}}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)};function toSelector(tokens){var i=0,len=tokens.length,selector="";for(;i<len;i++){selector+=tokens[i].value}return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&dir==="parentNode",doneName=done++;return combinator.first?function(elem,context,xml){while(elem=elem[dir]){if(elem.nodeType===1||checkNonElements){return matcher(elem,context,xml)}}}:function(elem,context,xml){var oldCache,outerCache,newCache=[dirruns,doneName];if(xml){while(elem=elem[dir]){if(elem.nodeType===1||checkNonElements){if(matcher(elem,context,xml)){return true}}}}else{while(elem=elem[dir]){if(elem.nodeType===1||checkNonElements){outerCache=elem[expando]||(elem[expando]={});if((oldCache=outerCache[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName){return newCache[2]=oldCache[2]}else{outerCache[dir]=newCache;if(newCache[2]=matcher(elem,context,xml)){return true}}}}}}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){var i=matchers.length;while(i--){if(!matchers[i](elem,context,xml)){return false}}return true}:matchers[0]}function multipleContexts(selector,contexts,results){var i=0,len=contexts.length;for(;i<len;i++){Sizzle(selector,contexts[i],results)}return results}function condense(unmatched,map,filter,context,xml){var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=map!=null;for(;i<len;i++){if(elem=unmatched[i]){if(!filter||filter(elem,context,xml)){newUnmatched.push(elem);if(mapped){map.push(i)}}}}return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){if(postFilter&&!postFilter[expando]){postFilter=setMatcher(postFilter)}if(postFinder&&!postFinder[expando]){postFinder=setMatcher(postFinder,postSelector)}return markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=preFilter&&(seed||!selector)?condense(elems,preMap,preFilter,context,xml):elems,matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher){matcher(matcherIn,matcherOut,context,xml)}if(postFilter){temp=condense(matcherOut,postMap);postFilter(temp,[],context,xml);i=temp.length;while(i--){if(elem=temp[i]){matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem)}}}if(seed){if(postFinder||preFilter){if(postFinder){temp=[];i=matcherOut.length;while(i--){if(elem=matcherOut[i]){temp.push(matcherIn[i]=elem)}}postFinder(null,matcherOut=[],temp,xml)}i=matcherOut.length;while(i--){if((elem=matcherOut[i])&&(temp=postFinder?indexOf(seed,elem):preMap[i])>-1){seed[temp]=!(results[temp]=elem)}}}}else{matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut);if(postFinder){postFinder(null,results,matcherOut,xml)}else{push.apply(results,matcherOut)}}})}function matcherFromTokens(tokens){var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,true),matchAnyContext=addCombinator(function(elem){return indexOf(checkContext,elem)>-1},implicitRelative,true),matchers=[function(elem,context,xml){var ret=!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));checkContext=null;return ret}];for(;i<len;i++){if(matcher=Expr.relative[tokens[i].type]){matchers=[addCombinator(elementMatcher(matchers),matcher)]}else{matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches);if(matcher[expando]){j=++i;for(;j<len;j++){if(Expr.relative[tokens[j].type]){break}}return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:tokens[i-2].type===" "?"*":""})).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens(tokens=tokens.slice(j)),j<len&&toSelector(tokens))}matchers.push(matcher)}}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find["TAG"]("*",outermost),dirrunsUnique=dirruns+=contextBackup==null?1:Math.random()||.1,len=elems.length;if(outermost){outermostContext=context!==document&&context}for(;i!==len&&(elem=elems[i])!=null;i++){if(byElement&&elem){j=0;while(matcher=elementMatchers[j++]){if(matcher(elem,context,xml)){results.push(elem);break}}if(outermost){dirruns=dirrunsUnique}}if(bySet){if(elem=!matcher&&elem){matchedCount--}if(seed){unmatched.push(elem)}}}matchedCount+=i;if(bySet&&i!==matchedCount){j=0;while(matcher=setMatchers[j++]){matcher(unmatched,setMatched,context,xml)}if(seed){if(matchedCount>0){while(i--){if(!(unmatched[i]||setMatched[i])){setMatched[i]=pop.call(results)}}}setMatched=condense(setMatched)}push.apply(results,setMatched);if(outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1){Sizzle.uniqueSort(results)}}if(outermost){dirruns=dirrunsUnique;outermostContext=contextBackup}return unmatched};return bySet?markFunction(superMatcher):superMatcher}compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){if(!match){match=tokenize(selector)}i=match.length;while(i--){cached=matcherFromTokens(match[i]);if(cached[expando]){setMatchers.push(cached)}else{elementMatchers.push(cached)}}cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers));cached.selector=selector}return cached};select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled=typeof selector==="function"&&selector,match=!seed&&tokenize(selector=compiled.selector||selector);results=results||[];if(match.length===1){tokens=match[0]=match[0].slice(0);if(tokens.length>2&&(token=tokens[0]).type==="ID"&&support.getById&&context.nodeType===9&&documentIsHTML&&Expr.relative[tokens[1].type]){context=(Expr.find["ID"](token.matches[0].replace(runescape,funescape),context)||[])[0];if(!context){return results}else if(compiled){context=context.parentNode}selector=selector.slice(tokens.shift().value.length)}i=matchExpr["needsContext"].test(selector)?0:tokens.length;while(i--){token=tokens[i];if(Expr.relative[type=token.type]){break}if(find=Expr.find[type]){if(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context)){tokens.splice(i,1);selector=seed.length&&toSelector(tokens);if(!selector){push.apply(results,seed);return results}break}}}}(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,rsibling.test(selector)&&testContext(context.parentNode)||context);return results};support.sortStable=expando.split("").sort(sortOrder).join("")===expando;support.detectDuplicates=!!hasDuplicate;setDocument();support.sortDetached=assert(function(div1){return div1.compareDocumentPosition(document.createElement("div"))&1});if(!assert(function(div){div.innerHTML="<a href='#'></a>";return div.firstChild.getAttribute("href")==="#"})){addHandle("type|href|height|width",function(elem,name,isXML){if(!isXML){return elem.getAttribute(name,name.toLowerCase()==="type"?1:2)}})}if(!support.attributes||!assert(function(div){div.innerHTML="<input/>";div.firstChild.setAttribute("value","");return div.firstChild.getAttribute("value")===""})){addHandle("value",function(elem,name,isXML){if(!isXML&&elem.nodeName.toLowerCase()==="input"){return elem.defaultValue}})}if(!assert(function(div){return div.getAttribute("disabled")==null})){addHandle(booleans,function(elem,name,isXML){var val;if(!isXML){return elem[name]===true?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}})}return Sizzle}(window);jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.pseudos;jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains;var rneedsContext=jQuery.expr.match.needsContext;var rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/;var risSimple=/^.[^:#\[\.,]*$/;function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not})}if(qualifier.nodeType){return jQuery.grep(elements,function(elem){return elem===qualifier!==not})}if(typeof qualifier==="string"){if(risSimple.test(qualifier)){return jQuery.filter(qualifier,elements,not)}qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,function(elem){return jQuery.inArray(elem,qualifier)>=0!==not})}jQuery.filter=function(expr,elems,not){var elem=elems[0];if(not){expr=":not("+expr+")"}return elems.length===1&&elem.nodeType===1?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return elem.nodeType===1}))};jQuery.fn.extend({find:function(selector){var i,ret=[],self=this,len=self.length;if(typeof selector!=="string"){return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++){if(jQuery.contains(self[i],this)){return true}}}))}for(i=0;i<len;i++){jQuery.find(selector,self[i],ret)}ret=this.pushStack(len>1?jQuery.unique(ret):ret);ret.selector=this.selector?this.selector+" "+selector:selector;return ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],false))},not:function(selector){return this.pushStack(winnow(this,selector||[],true))},is:function(selector){return!!winnow(this,typeof selector==="string"&&rneedsContext.test(selector)?jQuery(selector):selector||[],false).length}});var rootjQuery,document=window.document,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(selector,context){var match,elem;if(!selector){return this}if(typeof selector==="string"){if(selector.charAt(0)==="<"&&selector.charAt(selector.length-1)===">"&&selector.length>=3){match=[null,selector,null]}else{match=rquickExpr.exec(selector)}if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,true));if(rsingleTag.test(match[1])&&jQuery.isPlainObject(context)){for(match in context){if(jQuery.isFunction(this[match])){this[match](context[match])}else{this.attr(match,context[match])}}}return this}else{elem=document.getElementById(match[2]);if(elem&&elem.parentNode){if(elem.id!==match[2]){return rootjQuery.find(selector)}this.length=1;this[0]=elem}this.context=document;this.selector=selector;return this}}else if(!context||context.jquery){return(context||rootjQuery).find(selector)}else{return this.constructor(context).find(selector)}}else if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this}else if(jQuery.isFunction(selector)){return typeof rootjQuery.ready!=="undefined"?rootjQuery.ready(selector):selector(jQuery)}if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context}return jQuery.makeArray(selector,this)};init.prototype=jQuery.fn;rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:true,contents:true,next:true,prev:true};jQuery.extend({dir:function(elem,dir,until){var matched=[],cur=elem[dir];while(cur&&cur.nodeType!==9&&(until===undefined||cur.nodeType!==1||!jQuery(cur).is(until))){if(cur.nodeType===1){matched.push(cur)}cur=cur[dir]}return matched},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){r.push(n)}}return r}});jQuery.fn.extend({has:function(target){var i,targets=jQuery(target,this),len=targets.length;return this.filter(function(){for(i=0;i<len;i++){if(jQuery.contains(this,targets[i])){return true}}})},closest:function(selectors,context){var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||typeof selectors!=="string"?jQuery(selectors,context||this.context):0;for(;i<l;i++){for(cur=this[i];cur&&cur!==context;cur=cur.parentNode){if(cur.nodeType<11&&(pos?pos.index(cur)>-1:cur.nodeType===1&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}}}return this.pushStack(matched.length>1?jQuery.unique(matched):matched)},index:function(elem){if(!elem){return this[0]&&this[0].parentNode?this.first().prevAll().length:-1}if(typeof elem==="string"){return jQuery.inArray(this[0],jQuery(elem))}return jQuery.inArray(elem.jquery?elem[0]:elem,this)},add:function(selector,context){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector))}});function sibling(cur,dir){do{cur=cur[dir]}while(cur&&cur.nodeType!==1);return cur}jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);if(name.slice(-5)!=="Until"){selector=until}if(selector&&typeof selector==="string"){ret=jQuery.filter(selector,ret)}if(this.length>1){if(!guaranteedUnique[name]){ret=jQuery.unique(ret)}if(rparentsprev.test(name)){ret=ret.reverse()}}return this.pushStack(ret)}});var rnotwhite=/\S+/g;var optionsCache={};function createOptions(options){var object=optionsCache[options]={};jQuery.each(options.match(rnotwhite)||[],function(_,flag){object[flag]=true});return object}jQuery.Callbacks=function(options){options=typeof options==="string"?optionsCache[options]||createOptions(options):jQuery.extend({},options);var firing,memory,fired,firingLength,firingIndex,firingStart,list=[],stack=!options.once&&[],fire=function(data){memory=options.memory&&data;fired=true;firingIndex=firingStart||0;firingStart=0;firingLength=list.length;firing=true;for(;list&&firingIndex<firingLength;firingIndex++){if(list[firingIndex].apply(data[0],data[1])===false&&options.stopOnFalse){memory=false;break}}firing=false;if(list){if(stack){if(stack.length){fire(stack.shift())}}else if(memory){list=[]}else{self.disable()}}},self={add:function(){if(list){var start=list.length;(function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);if(type==="function"){if(!options.unique||!self.has(arg)){list.push(arg)}}else if(arg&&arg.length&&type!=="string"){add(arg)}})})(arguments);if(firing){firingLength=list.length}else if(memory){firingStart=start;fire(memory)}}return this},remove:function(){if(list){jQuery.each(arguments,function(_,arg){var index;while((index=jQuery.inArray(arg,list,index))>-1){list.splice(index,1);if(firing){if(index<=firingLength){firingLength--}if(index<=firingIndex){firingIndex--}}}})}return this},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:!!(list&&list.length)},empty:function(){list=[];firingLength=0;return this},disable:function(){list=stack=memory=undefined;return this},disabled:function(){return!list},lock:function(){stack=undefined;if(!memory){self.disable()}return this},locked:function(){return!stack},fireWith:function(context,args){if(list&&(!fired||stack)){args=args||[];args=[context,args.slice?args.slice():args];if(firing){stack.push(args)}else{fire(args)}}return this},fire:function(){self.fireWith(this,arguments);return this},fired:function(){return!!fired}};return self};jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){deferred.done(arguments).fail(arguments);return this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);if(returned&&jQuery.isFunction(returned.promise)){returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify)}else{newDefer[tuple[0]+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)}})});fns=null}).promise()},promise:function(obj){return obj!=null?jQuery.extend(obj,promise):promise}},deferred={};promise.pipe=promise.then;jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add;if(stateString){list.add(function(){state=stateString},tuples[i^1][2].disable,tuples[2][2].lock)}deferred[tuple[0]]=function(){deferred[tuple[0]+"With"](this===deferred?promise:this,arguments);return this};deferred[tuple[0]+"With"]=list.fireWith});promise.promise(deferred);if(func){func.call(deferred,deferred)}return deferred},when:function(subordinate){var i=0,resolveValues=slice.call(arguments),length=resolveValues.length,remaining=length!==1||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=remaining===1?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this;values[i]=arguments.length>1?slice.call(arguments):value;if(values===progressValues){deferred.notifyWith(contexts,values)}else if(!--remaining){deferred.resolveWith(contexts,values)}}},progressValues,progressContexts,resolveContexts;if(length>1){progressValues=new Array(length);progressContexts=new Array(length);resolveContexts=new Array(length);for(;i<length;i++){if(resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)){resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues))}else{--remaining}}}if(!remaining){deferred.resolveWith(resolveContexts,resolveValues)}return deferred.promise()}});var readyList;jQuery.fn.ready=function(fn){jQuery.ready.promise().done(fn);return this};jQuery.extend({isReady:false,readyWait:1,holdReady:function(hold){if(hold){jQuery.readyWait++}else{jQuery.ready(true)}},ready:function(wait){if(wait===true?--jQuery.readyWait:jQuery.isReady){return}if(!document.body){return setTimeout(jQuery.ready)}jQuery.isReady=true;if(wait!==true&&--jQuery.readyWait>0){return}readyList.resolveWith(document,[jQuery]);if(jQuery.fn.triggerHandler){jQuery(document).triggerHandler("ready");jQuery(document).off("ready")}}});function detach(){if(document.addEventListener){document.removeEventListener("DOMContentLoaded",completed,false);window.removeEventListener("load",completed,false)}else{document.detachEvent("onreadystatechange",completed);window.detachEvent("onload",completed)}}function completed(){if(document.addEventListener||event.type==="load"||document.readyState==="complete"){detach();jQuery.ready()}}jQuery.ready.promise=function(obj){if(!readyList){readyList=jQuery.Deferred();if(document.readyState==="complete"){setTimeout(jQuery.ready)}else if(document.addEventListener){document.addEventListener("DOMContentLoaded",completed,false);window.addEventListener("load",completed,false)}else{document.attachEvent("onreadystatechange",completed);window.attachEvent("onload",completed);var top=false;try{top=window.frameElement==null&&document.documentElement}catch(e){}if(top&&top.doScroll){(function doScrollCheck(){if(!jQuery.isReady){try{top.doScroll("left")}catch(e){return setTimeout(doScrollCheck,50)}detach();jQuery.ready()}})()}}}return readyList.promise(obj)};var strundefined=typeof undefined;var i;for(i in jQuery(support)){break}support.ownLast=i!=="0";support.inlineBlockNeedsLayout=false;jQuery(function(){var val,div,body,container;body=document.getElementsByTagName("body")[0];if(!body||!body.style){return}div=document.createElement("div");container=document.createElement("div");container.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";body.appendChild(container).appendChild(div);if(typeof div.style.zoom!==strundefined){div.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1";support.inlineBlockNeedsLayout=val=div.offsetWidth===3;if(val){body.style.zoom=1}}body.removeChild(container)});(function(){var div=document.createElement("div");if(support.deleteExpando==null){support.deleteExpando=true;try{delete div.test}catch(e){support.deleteExpando=false}}div=null})();jQuery.acceptData=function(elem){var noData=jQuery.noData[(elem.nodeName+" ").toLowerCase()],nodeType=+elem.nodeType||1;return nodeType!==1&&nodeType!==9?false:!noData||noData!==true&&elem.getAttribute("classid")===noData};var rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/([A-Z])/g;function dataAttr(elem,key,data){if(data===undefined&&elem.nodeType===1){var name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();data=elem.getAttribute(name);if(typeof data==="string"){try{data=data==="true"?true:data==="false"?false:data==="null"?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}jQuery.data(elem,key,data)}else{data=undefined}}return data}function isEmptyDataObject(obj){var name;for(name in obj){if(name==="data"&&jQuery.isEmptyObject(obj[name])){continue}if(name!=="toJSON"){return false}}return true}function internalData(elem,name,data,pvt){if(!jQuery.acceptData(elem)){return}var ret,thisCache,internalKey=jQuery.expando,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:elem[internalKey]&&internalKey;if((!id||!cache[id]||!pvt&&!cache[id].data)&&data===undefined&&typeof name==="string"){return}if(!id){if(isNode){id=elem[internalKey]=deletedIds.pop()||jQuery.guid++}else{id=internalKey}}if(!cache[id]){cache[id]=isNode?{}:{toJSON:jQuery.noop}}if(typeof name==="object"||typeof name==="function"){if(pvt){cache[id]=jQuery.extend(cache[id],name)}else{cache[id].data=jQuery.extend(cache[id].data,name)}}thisCache=cache[id];if(!pvt){if(!thisCache.data){thisCache.data={}}thisCache=thisCache.data}if(data!==undefined){thisCache[jQuery.camelCase(name)]=data}if(typeof name==="string"){ret=thisCache[name];if(ret==null){ret=thisCache[jQuery.camelCase(name)]}}else{ret=thisCache}return ret}function internalRemoveData(elem,name,pvt){if(!jQuery.acceptData(elem)){return}var thisCache,i,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[jQuery.expando]:jQuery.expando;if(!cache[id]){return}if(name){thisCache=pvt?cache[id]:cache[id].data;if(thisCache){if(!jQuery.isArray(name)){if(name in thisCache){name=[name]}else{name=jQuery.camelCase(name);if(name in thisCache){name=[name]}else{name=name.split(" ")}}}else{name=name.concat(jQuery.map(name,jQuery.camelCase))}i=name.length;while(i--){delete thisCache[name[i]]}if(pvt?!isEmptyDataObject(thisCache):!jQuery.isEmptyObject(thisCache)){return}}}if(!pvt){delete cache[id].data;if(!isEmptyDataObject(cache[id])){return}}if(isNode){jQuery.cleanData([elem],true)}else if(support.deleteExpando||cache!=cache.window){delete cache[id]}else{cache[id]=null}}jQuery.extend({cache:{},noData:{"applet ":true,"embed ":true,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(elem){elem=elem.nodeType?jQuery.cache[elem[jQuery.expando]]:elem[jQuery.expando];return!!elem&&!isEmptyDataObject(elem)},data:function(elem,name,data){return internalData(elem,name,data)},removeData:function(elem,name){return internalRemoveData(elem,name)},_data:function(elem,name,data){return internalData(elem,name,data,true)},_removeData:function(elem,name){return internalRemoveData(elem,name,true)}});jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(key===undefined){if(this.length){data=jQuery.data(elem);if(elem.nodeType===1&&!jQuery._data(elem,"parsedAttrs")){i=attrs.length;while(i--){if(attrs[i]){name=attrs[i].name;if(name.indexOf("data-")===0){name=jQuery.camelCase(name.slice(5));dataAttr(elem,name,data[name])}}}jQuery._data(elem,"parsedAttrs",true)}}return data}if(typeof key==="object"){return this.each(function(){jQuery.data(this,key)})}return arguments.length>1?this.each(function(){jQuery.data(this,key,value)}):elem?dataAttr(elem,key,jQuery.data(elem,key)):undefined},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})}});jQuery.extend({queue:function(elem,type,data){var queue;if(elem){type=(type||"fx")+"queue";queue=jQuery._data(elem,type);if(data){if(!queue||jQuery.isArray(data)){queue=jQuery._data(elem,type,jQuery.makeArray(data))}else{queue.push(data)}}return queue||[]}},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};if(fn==="inprogress"){fn=queue.shift();startLength--}if(fn){if(type==="fx"){queue.unshift("inprogress")}delete hooks.stop;fn.call(elem,next,hooks)}if(!startLength&&hooks){hooks.empty.fire()}},_queueHooks:function(elem,type){var key=type+"queueHooks";return jQuery._data(elem,key)||jQuery._data(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){jQuery._removeData(elem,type+"queue");jQuery._removeData(elem,key)})})}});jQuery.fn.extend({queue:function(type,data){var setter=2;if(typeof type!=="string"){data=type;type="fx";setter--}if(arguments.length<setter){return jQuery.queue(this[0],type)}return data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type)}})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){if(!--count){defer.resolveWith(elements,[elements])}};if(typeof type!=="string"){obj=type;type=undefined}type=type||"fx";while(i--){tmp=jQuery._data(elements[i],type+"queueHooks");if(tmp&&tmp.empty){count++;tmp.empty.add(resolve)}}resolve();return defer.promise(obj)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;var cssExpand=["Top","Right","Bottom","Left"];var isHidden=function(elem,el){elem=el||elem;return jQuery.css(elem,"display")==="none"||!jQuery.contains(elem.ownerDocument,elem)};var access=jQuery.access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,length=elems.length,bulk=key==null;if(jQuery.type(key)==="object"){chainable=true;for(i in key){jQuery.access(elems,fn,i,key[i],true,emptyGet,raw)}}else if(value!==undefined){chainable=true;if(!jQuery.isFunction(value)){raw=true}if(bulk){if(raw){fn.call(elems,value);fn=null}else{bulk=fn;fn=function(elem,key,value){return bulk.call(jQuery(elem),value)}}}if(fn){for(;i<length;i++){fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)))}}}return chainable?elems:bulk?fn.call(elems):length?fn(elems[0],key):emptyGet};var rcheckableType=/^(?:checkbox|radio)$/i;(function(){var input=document.createElement("input"),div=document.createElement("div"),fragment=document.createDocumentFragment();div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";support.leadingWhitespace=div.firstChild.nodeType===3;support.tbody=!div.getElementsByTagName("tbody").length;support.htmlSerialize=!!div.getElementsByTagName("link").length;support.html5Clone=document.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>";input.type="checkbox";input.checked=true;fragment.appendChild(input);support.appendChecked=input.checked;div.innerHTML="<textarea>x</textarea>";support.noCloneChecked=!!div.cloneNode(true).lastChild.defaultValue;fragment.appendChild(div);div.innerHTML="<input type='radio' checked='checked' name='t'/>";support.checkClone=div.cloneNode(true).cloneNode(true).lastChild.checked;support.noCloneEvent=true;if(div.attachEvent){div.attachEvent("onclick",function(){support.noCloneEvent=false});div.cloneNode(true).click()}if(support.deleteExpando==null){support.deleteExpando=true;try{delete div.test}catch(e){support.deleteExpando=false}}})();(function(){var i,eventName,div=document.createElement("div");for(i in{submit:true,change:true,focusin:true}){eventName="on"+i;if(!(support[i+"Bubbles"]=eventName in window)){div.setAttribute(eventName,"t");support[i+"Bubbles"]=div.attributes[eventName].expando===false}}div=null})();var rformElems=/^(?:input|select|textarea)$/i,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;function returnTrue(){return true}function returnFalse(){return false}function safeActiveElement(){try{return document.activeElement}catch(err){}}jQuery.event={global:{},add:function(elem,types,handler,data,selector){var tmp,events,t,handleObjIn,special,eventHandle,handleObj,handlers,type,namespaces,origType,elemData=jQuery._data(elem);if(!elemData){return}if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler;selector=handleObjIn.selector}if(!handler.guid){handler.guid=jQuery.guid++}if(!(events=elemData.events)){events=elemData.events={}}if(!(eventHandle=elemData.handle)){eventHandle=elemData.handle=function(e){return typeof jQuery!==strundefined&&(!e||jQuery.event.triggered!==e.type)?jQuery.event.dispatch.apply(eventHandle.elem,arguments):undefined};eventHandle.elem=elem}types=(types||"").match(rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn);if(!(handlers=events[type])){handlers=events[type]=[];handlers.delegateCount=0;if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,eventHandle,false)}else if(elem.attachEvent){elem.attachEvent("on"+type,eventHandle)}}}if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid}}if(selector){handlers.splice(handlers.delegateCount++,0,handleObj)}else{handlers.push(handleObj)}jQuery.event.global[type]=true}elem=null},remove:function(elem,types,handler,selector,mappedTypes){var j,handleObj,tmp,origCount,t,events,special,handlers,type,namespaces,origType,elemData=jQuery.hasData(elem)&&jQuery._data(elem);if(!elemData||!(events=elemData.events)){return}types=(types||"").match(rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,true)}continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;handlers=events[type]||[];tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)");origCount=j=handlers.length;while(j--){handleObj=handlers[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!tmp||tmp.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector==="**"&&handleObj.selector)){handlers.splice(j,1);if(handleObj.selector){handlers.delegateCount--}if(special.remove){special.remove.call(elem,handleObj)}}}if(origCount&&!handlers.length){if(!special.teardown||special.teardown.call(elem,namespaces,elemData.handle)===false){jQuery.removeEvent(elem,type,elemData.handle)}delete events[type]}}if(jQuery.isEmptyObject(events)){delete elemData.handle;jQuery._removeData(elem,"events")}},trigger:function(event,data,elem,onlyHandlers){var handle,ontype,cur,bubbleType,special,tmp,i,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];cur=tmp=elem=elem||document;if(elem.nodeType===3||elem.nodeType===8){return}if(rfocusMorph.test(type+jQuery.event.triggered)){return}if(type.indexOf(".")>=0){namespaces=type.split(".");type=namespaces.shift();namespaces.sort()}ontype=type.indexOf(":")<0&&"on"+type;event=event[jQuery.expando]?event:new jQuery.Event(type,typeof event==="object"&&event);event.isTrigger=onlyHandlers?2:3;event.namespace=namespaces.join(".");event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;event.result=undefined;if(!event.target){event.target=elem}data=data==null?[event]:jQuery.makeArray(data,[event]);special=jQuery.event.special[type]||{};if(!onlyHandlers&&special.trigger&&special.trigger.apply(elem,data)===false){return}if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type;if(!rfocusMorph.test(bubbleType+type)){cur=cur.parentNode}for(;cur;cur=cur.parentNode){eventPath.push(cur);tmp=cur}if(tmp===(elem.ownerDocument||document)){eventPath.push(tmp.defaultView||tmp.parentWindow||window)}}i=0;while((cur=eventPath[i++])&&!event.isPropagationStopped()){event.type=i>1?bubbleType:special.bindType||type;handle=(jQuery._data(cur,"events")||{})[event.type]&&jQuery._data(cur,"handle");if(handle){handle.apply(cur,data)}handle=ontype&&cur[ontype];if(handle&&handle.apply&&jQuery.acceptData(cur)){event.result=handle.apply(cur,data);if(event.result===false){event.preventDefault()}}}event.type=type;if(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||special._default.apply(eventPath.pop(),data)===false)&&jQuery.acceptData(elem)){if(ontype&&elem[type]&&!jQuery.isWindow(elem)){tmp=elem[ontype];if(tmp){elem[ontype]=null}jQuery.event.triggered=type;try{elem[type]()}catch(e){}jQuery.event.triggered=undefined;if(tmp){elem[ontype]=tmp}}}}return event.result},dispatch:function(event){event=jQuery.event.fix(event);var i,ret,handleObj,matched,j,handlerQueue=[],args=slice.call(arguments),handlers=(jQuery._data(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};args[0]=event;event.delegateTarget=this;if(special.preDispatch&&special.preDispatch.call(this,event)===false){return}handlerQueue=jQuery.event.handlers.call(this,event,handlers);i=0;while((matched=handlerQueue[i++])&&!event.isPropagationStopped()){event.currentTarget=matched.elem;j=0;while((handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped()){if(!event.namespace_re||event.namespace_re.test(handleObj.namespace)){event.handleObj=handleObj;event.data=handleObj.data;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);if(ret!==undefined){if((event.result=ret)===false){event.preventDefault();event.stopPropagation()}}}}}if(special.postDispatch){special.postDispatch.call(this,event)}return event.result},handlers:function(event,handlers){var sel,handleObj,matches,i,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(!event.button||event.type!=="click")){for(;cur!=this;cur=cur.parentNode||this){if(cur.nodeType===1&&(cur.disabled!==true||event.type!=="click")){matches=[];for(i=0;i<delegateCount;i++){handleObj=handlers[i];sel=handleObj.selector+" ";if(matches[sel]===undefined){matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>=0:jQuery.find(sel,this,null,[cur]).length}if(matches[sel]){matches.push(handleObj)}}if(matches.length){handlerQueue.push({elem:cur,handlers:matches})}}}}if(delegateCount<handlers.length){handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)})}return handlerQueue},fix:function(event){if(event[jQuery.expando]){return event}var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];if(!fixHook){this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}}copy=fixHook.props?this.props.concat(fixHook.props):this.props;event=new jQuery.Event(originalEvent);i=copy.length;while(i--){prop=copy[i];event[prop]=originalEvent[prop]}if(!event.target){event.target=originalEvent.srcElement||document}if(event.target.nodeType===3){event.target=event.target.parentNode}event.metaKey=!!event.metaKey;return fixHook.filter?fixHook.filter(event,originalEvent):event},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){if(event.which==null){event.which=original.charCode!=null?original.charCode:original.keyCode}return event}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var body,eventDoc,doc,button=original.button,fromElement=original.fromElement;if(event.pageX==null&&original.clientX!=null){eventDoc=event.target.ownerDocument||document;doc=eventDoc.documentElement;body=eventDoc.body;event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}if(!event.relatedTarget&&fromElement){event.relatedTarget=fromElement===event.target?original.toElement:fromElement}if(!event.which&&button!==undefined){event.which=button&1?1:button&2?3:button&4?2:0}return event}},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus){try{this.focus();return false}catch(e){}}},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur){this.blur();return false}},delegateType:"focusout"},click:{trigger:function(){if(jQuery.nodeName(this,"input")&&this.type==="checkbox"&&this.click){this.click();return false}},_default:function(event){return jQuery.nodeName(event.target,"a")}},beforeunload:{postDispatch:function(event){if(event.result!==undefined&&event.originalEvent){event.originalEvent.returnValue=event.result}}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:true,originalEvent:{}});if(bubble){jQuery.event.trigger(e,null,elem)}else{jQuery.event.dispatch.call(elem,e)}if(e.isDefaultPrevented()){event.preventDefault()}}};jQuery.removeEvent=document.removeEventListener?function(elem,type,handle){if(elem.removeEventListener){elem.removeEventListener(type,handle,false)}}:function(elem,type,handle){var name="on"+type;if(elem.detachEvent){if(typeof elem[name]===strundefined){elem[name]=null}elem.detachEvent(name,handle)}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props)}if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=src.defaultPrevented||src.defaultPrevented===undefined&&src.returnValue===false?returnTrue:returnFalse}else{this.type=src}if(props){jQuery.extend(this,props)}this.timeStamp=src&&src.timeStamp||jQuery.now();this[jQuery.expando]=true};jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue;if(!e){return}if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue;if(!e){return}if(e.stopPropagation){e.stopPropagation()}e.cancelBubble=true},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue;if(e&&e.stopImmediatePropagation){e.stopImmediatePropagation()}this.stopPropagation()}};jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;if(!related||related!==target&&!jQuery.contains(target,related)){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix}return ret}}});if(!support.submitBubbles){jQuery.event.special.submit={setup:function(){if(jQuery.nodeName(this,"form")){return false}jQuery.event.add(this,"click._submit keypress._submit",function(e){var elem=e.target,form=jQuery.nodeName(elem,"input")||jQuery.nodeName(elem,"button")?elem.form:undefined;if(form&&!jQuery._data(form,"submitBubbles")){jQuery.event.add(form,"submit._submit",function(event){event._submit_bubble=true});jQuery._data(form,"submitBubbles",true)}})},postDispatch:function(event){if(event._submit_bubble){delete event._submit_bubble;if(this.parentNode&&!event.isTrigger){jQuery.event.simulate("submit",this.parentNode,event,true)}}},teardown:function(){if(jQuery.nodeName(this,"form")){return false}jQuery.event.remove(this,"._submit")}}}if(!support.changeBubbles){jQuery.event.special.change={setup:function(){if(rformElems.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){jQuery.event.add(this,"propertychange._change",function(event){if(event.originalEvent.propertyName==="checked"){this._just_changed=true}});jQuery.event.add(this,"click._change",function(event){if(this._just_changed&&!event.isTrigger){this._just_changed=false}jQuery.event.simulate("change",this,event,true)})}return false}jQuery.event.add(this,"beforeactivate._change",function(e){var elem=e.target;if(rformElems.test(elem.nodeName)&&!jQuery._data(elem,"changeBubbles")){jQuery.event.add(elem,"change._change",function(event){if(this.parentNode&&!event.isSimulated&&!event.isTrigger){jQuery.event.simulate("change",this.parentNode,event,true)}});jQuery._data(elem,"changeBubbles",true)}})},handle:function(event){var elem=event.target;if(this!==elem||event.isSimulated||event.isTrigger||elem.type!=="radio"&&elem.type!=="checkbox"){return event.handleObj.handler.apply(this,arguments)}},teardown:function(){jQuery.event.remove(this,"._change");return!rformElems.test(this.nodeName)}}}if(!support.focusinBubbles){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),true)};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=jQuery._data(doc,fix);if(!attaches){doc.addEventListener(orig,handler,true)}jQuery._data(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this,attaches=jQuery._data(doc,fix)-1;if(!attaches){doc.removeEventListener(orig,handler,true);jQuery._removeData(doc,fix)}else{jQuery._data(doc,fix,attaches)}}}})}jQuery.fn.extend({on:function(types,selector,data,fn,one){var type,origFn;if(typeof types==="object"){if(typeof selector!=="string"){data=data||selector;selector=undefined}for(type in types){this.on(type,selector,data,types[type],one)}return this}if(data==null&&fn==null){fn=selector;data=selector=undefined}else if(fn==null){if(typeof selector==="string"){fn=data;data=undefined}else{fn=data;data=selector;selector=undefined}}if(fn===false){fn=returnFalse}else if(!fn){return this}if(one===1){origFn=fn;fn=function(event){jQuery().off(event);return origFn.apply(this,arguments)};fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)}return this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj){handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);return this}if(typeof types==="object"){for(type in types){this.off(type,selector,types[type])}return this}if(selector===false||typeof selector==="function"){fn=selector;selector=undefined}if(fn===false){fn=returnFalse}return this.each(function(){jQuery.event.remove(this,types,fn,selector)})},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];if(elem){return jQuery.event.trigger(type,data,elem,true)}}});function createSafeFragment(document){var list=nodeNames.split("|"),safeFrag=document.createDocumentFragment();if(safeFrag.createElement){while(list.length){safeFrag.createElement(list.pop())}}return safeFrag}var nodeNames="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|"+"header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rinlinejQuery=/ jQuery\d+="(?:null|\d+)"/g,rnoshimcache=new RegExp("<(?:"+nodeNames+")[\\s/>]","i"),rleadingWhitespace=/^\s+/,rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},safeFragment=createSafeFragment(document),fragmentDiv=safeFragment.appendChild(document.createElement("div"));wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;function getAll(context,tag){var elems,elem,i=0,found=typeof context.getElementsByTagName!==strundefined?context.getElementsByTagName(tag||"*"):typeof context.querySelectorAll!==strundefined?context.querySelectorAll(tag||"*"):undefined;if(!found){for(found=[],elems=context.childNodes||context;(elem=elems[i])!=null;i++){if(!tag||jQuery.nodeName(elem,tag)){found.push(elem)}else{jQuery.merge(found,getAll(elem,tag))}}}return tag===undefined||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],found):found}function fixDefaultChecked(elem){if(rcheckableType.test(elem.type)){elem.defaultChecked=elem.checked}}function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(content.nodeType!==11?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}function disableScript(elem){elem.type=(jQuery.find.attr(elem,"type")!==null)+"/"+elem.type;return elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);if(match){elem.type=match[1]}else{elem.removeAttribute("type")}return elem}function setGlobalEval(elems,refElements){var elem,i=0;for(;(elem=elems[i])!=null;i++){jQuery._data(elem,"globalEval",!refElements||jQuery._data(refElements[i],"globalEval"))}}function cloneCopyEvent(src,dest){if(dest.nodeType!==1||!jQuery.hasData(src)){return}var type,i,l,oldData=jQuery._data(src),curData=jQuery._data(dest,oldData),events=oldData.events;if(events){delete curData.handle;curData.events={};for(type in events){for(i=0,l=events[type].length;i<l;i++){jQuery.event.add(dest,type,events[type][i])}}}if(curData.data){curData.data=jQuery.extend({},curData.data)}}function fixCloneNodeIssues(src,dest){var nodeName,e,data;if(dest.nodeType!==1){return}nodeName=dest.nodeName.toLowerCase();if(!support.noCloneEvent&&dest[jQuery.expando]){data=jQuery._data(dest);for(e in data.events){jQuery.removeEvent(dest,e,data.handle)}dest.removeAttribute(jQuery.expando)}if(nodeName==="script"&&dest.text!==src.text){disableScript(dest).text=src.text;restoreScript(dest)}else if(nodeName==="object"){if(dest.parentNode){dest.outerHTML=src.outerHTML}if(support.html5Clone&&(src.innerHTML&&!jQuery.trim(dest.innerHTML))){dest.innerHTML=src.innerHTML}}else if(nodeName==="input"&&rcheckableType.test(src.type)){dest.defaultChecked=dest.checked=src.checked;if(dest.value!==src.value){dest.value=src.value}}else if(nodeName==="option"){dest.defaultSelected=dest.selected=src.defaultSelected}else if(nodeName==="input"||nodeName==="textarea"){dest.defaultValue=src.defaultValue}}jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var destElements,node,clone,i,srcElements,inPage=jQuery.contains(elem.ownerDocument,elem);if(support.html5Clone||jQuery.isXMLDoc(elem)||!rnoshimcache.test("<"+elem.nodeName+">")){clone=elem.cloneNode(true)}else{fragmentDiv.innerHTML=elem.outerHTML;fragmentDiv.removeChild(clone=fragmentDiv.firstChild)}if((!support.noCloneEvent||!support.noCloneChecked)&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){destElements=getAll(clone);srcElements=getAll(elem);for(i=0;(node=srcElements[i])!=null;++i){if(destElements[i]){fixCloneNodeIssues(node,destElements[i])}}}if(dataAndEvents){if(deepDataAndEvents){srcElements=srcElements||getAll(elem);destElements=destElements||getAll(clone);for(i=0;(node=srcElements[i])!=null;i++){cloneCopyEvent(node,destElements[i])}}else{cloneCopyEvent(elem,clone)}}destElements=getAll(clone,"script");if(destElements.length>0){setGlobalEval(destElements,!inPage&&getAll(elem,"script"))}destElements=srcElements=node=null;return clone},buildFragment:function(elems,context,scripts,selection){var j,elem,contains,tmp,tag,tbody,wrap,l=elems.length,safe=createSafeFragment(context),nodes=[],i=0;for(;i<l;i++){elem=elems[i];if(elem||elem===0){if(jQuery.type(elem)==="object"){jQuery.merge(nodes,elem.nodeType?[elem]:elem)}else if(!rhtml.test(elem)){nodes.push(context.createTextNode(elem))}else{tmp=tmp||safe.appendChild(context.createElement("div"));tag=(rtagName.exec(elem)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;tmp.innerHTML=wrap[1]+elem.replace(rxhtmlTag,"<$1></$2>")+wrap[2];j=wrap[0];while(j--){tmp=tmp.lastChild}if(!support.leadingWhitespace&&rleadingWhitespace.test(elem)){nodes.push(context.createTextNode(rleadingWhitespace.exec(elem)[0]))}if(!support.tbody){elem=tag==="table"&&!rtbody.test(elem)?tmp.firstChild:wrap[1]==="<table>"&&!rtbody.test(elem)?tmp:0;j=elem&&elem.childNodes.length;while(j--){if(jQuery.nodeName(tbody=elem.childNodes[j],"tbody")&&!tbody.childNodes.length){elem.removeChild(tbody)}}}jQuery.merge(nodes,tmp.childNodes);tmp.textContent="";while(tmp.firstChild){tmp.removeChild(tmp.firstChild)}tmp=safe.lastChild}}}if(tmp){safe.removeChild(tmp)}if(!support.appendChecked){jQuery.grep(getAll(nodes,"input"),fixDefaultChecked)}i=0;while(elem=nodes[i++]){if(selection&&jQuery.inArray(elem,selection)!==-1){continue}contains=jQuery.contains(elem.ownerDocument,elem);tmp=getAll(safe.appendChild(elem),"script");if(contains){setGlobalEval(tmp)}if(scripts){j=0;while(elem=tmp[j++]){if(rscriptType.test(elem.type||"")){scripts.push(elem)}}}}tmp=null;return safe},cleanData:function(elems,acceptData){var elem,type,id,data,i=0,internalKey=jQuery.expando,cache=jQuery.cache,deleteExpando=support.deleteExpando,special=jQuery.event.special;for(;(elem=elems[i])!=null;i++){if(acceptData||jQuery.acceptData(elem)){id=elem[internalKey];data=id&&cache[id];if(data){if(data.events){for(type in data.events){if(special[type]){jQuery.event.remove(elem,type)}else{jQuery.removeEvent(elem,type,data.handle)}}}if(cache[id]){delete cache[id];if(deleteExpando){delete elem[internalKey]}else if(typeof elem.removeAttribute!==strundefined){elem.removeAttribute(internalKey)}else{elem[internalKey]=null}deletedIds.push(id)}}}}}});jQuery.fn.extend({text:function(value){return access(this,function(value){return value===undefined?jQuery.text(this):this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(value))},null,value,arguments.length)},append:function(){return this.domManip(arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return this.domManip(arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this)}})},after:function(){return this.domManip(arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this.nextSibling)}})},remove:function(selector,keepData){var elem,elems=selector?jQuery.filter(selector,this):this,i=0;for(;(elem=elems[i])!=null;i++){if(!keepData&&elem.nodeType===1){jQuery.cleanData(getAll(elem))}if(elem.parentNode){if(keepData&&jQuery.contains(elem.ownerDocument,elem)){setGlobalEval(getAll(elem,"script"))}elem.parentNode.removeChild(elem)}}return this},empty:function(){var elem,i=0;for(;(elem=this[i])!=null;i++){if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false))}while(elem.firstChild){elem.removeChild(elem.firstChild)}if(elem.options&&jQuery.nodeName(elem,"select")){elem.options.length=0}}return this},clone:function(dataAndEvents,deepDataAndEvents){dataAndEvents=dataAndEvents==null?false:dataAndEvents;deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined){return elem.nodeType===1?elem.innerHTML.replace(rinlinejQuery,""):undefined}if(typeof value==="string"&&!rnoInnerhtml.test(value)&&(support.htmlSerialize||!rnoshimcache.test(value))&&(support.leadingWhitespace||!rleadingWhitespace.test(value))&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;i<l;i++){elem=this[i]||{};if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));elem.innerHTML=value}}elem=0}catch(e){}}if(elem){this.empty().append(value)}},null,value,arguments.length)},replaceWith:function(){var arg=arguments[0];this.domManip(arguments,function(elem){arg=this.parentNode;jQuery.cleanData(getAll(this));if(arg){arg.replaceChild(elem,this)}});return arg&&(arg.length||arg.nodeType)?this:this.remove()},detach:function(selector){return this.remove(selector,true)},domManip:function(args,callback){args=concat.apply([],args);var first,node,hasScripts,scripts,doc,fragment,i=0,l=this.length,set=this,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||l>1&&typeof value==="string"&&!support.checkClone&&rchecked.test(value)){return this.each(function(index){var self=set.eq(index);if(isFunction){args[0]=value.call(this,index,self.html())}self.domManip(args,callback)})}if(l){fragment=jQuery.buildFragment(args,this[0].ownerDocument,false,this);first=fragment.firstChild;if(fragment.childNodes.length===1){fragment=first}if(first){scripts=jQuery.map(getAll(fragment,"script"),disableScript);hasScripts=scripts.length;for(;i<l;i++){node=fragment;if(i!==iNoClone){node=jQuery.clone(node,true,true);if(hasScripts){jQuery.merge(scripts,getAll(node,"script"))}}callback.call(this[i],node,i)}if(hasScripts){doc=scripts[scripts.length-1].ownerDocument;jQuery.map(scripts,restoreScript);for(i=0;i<hasScripts;i++){node=scripts[i];if(rscriptType.test(node.type||"")&&!jQuery._data(node,"globalEval")&&jQuery.contains(doc,node)){if(node.src){if(jQuery._evalUrl){jQuery._evalUrl(node.src)}}else{jQuery.globalEval((node.text||node.textContent||node.innerHTML||"").replace(rcleanScript,""))}}}}fragment=first=null}}return this}});jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var elems,i=0,ret=[],insert=jQuery(selector),last=insert.length-1;for(;i<=last;i++){elems=i===last?this:this.clone(true);jQuery(insert[i])[original](elems);push.apply(ret,elems.get())}return this.pushStack(ret)}});var iframe,elemdisplay={};function actualDisplay(name,doc){var style,elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=window.getDefaultComputedStyle&&(style=window.getDefaultComputedStyle(elem[0]))?style.display:jQuery.css(elem[0],"display");elem.detach();return display}function defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];if(!display){display=actualDisplay(nodeName,doc);if(display==="none"||!display){iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement);doc=(iframe[0].contentWindow||iframe[0].contentDocument).document;doc.write();doc.close();display=actualDisplay(nodeName,doc);iframe.detach()}elemdisplay[nodeName]=display}return display}(function(){var shrinkWrapBlocksVal;support.shrinkWrapBlocks=function(){if(shrinkWrapBlocksVal!=null){return shrinkWrapBlocksVal}shrinkWrapBlocksVal=false;var div,body,container;body=document.getElementsByTagName("body")[0];if(!body||!body.style){return}div=document.createElement("div");container=document.createElement("div");container.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";body.appendChild(container).appendChild(div);if(typeof div.style.zoom!==strundefined){div.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;"+"box-sizing:content-box;display:block;margin:0;border:0;"+"padding:1px;width:1px;zoom:1";div.appendChild(document.createElement("div")).style.width="5px";shrinkWrapBlocksVal=div.offsetWidth!==3}body.removeChild(container);return shrinkWrapBlocksVal}})();var rmargin=/^margin/;var rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i");var getStyles,curCSS,rposition=/^(top|right|bottom|left)$/;if(window.getComputedStyle){getStyles=function(elem){if(elem.ownerDocument.defaultView.opener){return elem.ownerDocument.defaultView.getComputedStyle(elem,null)}return window.getComputedStyle(elem,null)};curCSS=function(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;computed=computed||getStyles(elem);ret=computed?computed.getPropertyValue(name)||computed[name]:undefined;if(computed){if(ret===""&&!jQuery.contains(elem.ownerDocument,elem)){ret=jQuery.style(elem,name)}if(rnumnonpx.test(ret)&&rmargin.test(name)){width=style.width;minWidth=style.minWidth;maxWidth=style.maxWidth;style.minWidth=style.maxWidth=style.width=ret;ret=computed.width;style.width=width;style.minWidth=minWidth;style.maxWidth=maxWidth}}return ret===undefined?ret:ret+""}}else if(document.documentElement.currentStyle){getStyles=function(elem){return elem.currentStyle};curCSS=function(elem,name,computed){var left,rs,rsLeft,ret,style=elem.style;computed=computed||getStyles(elem);ret=computed?computed[name]:undefined;if(ret==null&&style&&style[name]){ret=style[name]}if(rnumnonpx.test(ret)&&!rposition.test(name)){left=style.left;rs=elem.runtimeStyle;rsLeft=rs&&rs.left;if(rsLeft){rs.left=elem.currentStyle.left}style.left=name==="fontSize"?"1em":ret;ret=style.pixelLeft+"px";style.left=left;if(rsLeft){rs.left=rsLeft}}return ret===undefined?ret:ret+""||"auto"}}function addGetHookIf(conditionFn,hookFn){return{get:function(){var condition=conditionFn();if(condition==null){return}if(condition){delete this.get;return}return(this.get=hookFn).apply(this,arguments)}}}(function(){var div,style,a,pixelPositionVal,boxSizingReliableVal,reliableHiddenOffsetsVal,reliableMarginRightVal;div=document.createElement("div");div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";a=div.getElementsByTagName("a")[0];style=a&&a.style;if(!style){return}style.cssText="float:left;opacity:.5";support.opacity=style.opacity==="0.5";support.cssFloat=!!style.cssFloat;div.style.backgroundClip="content-box";div.cloneNode(true).style.backgroundClip="";support.clearCloneStyle=div.style.backgroundClip==="content-box";support.boxSizing=style.boxSizing===""||style.MozBoxSizing===""||style.WebkitBoxSizing==="";jQuery.extend(support,{reliableHiddenOffsets:function(){if(reliableHiddenOffsetsVal==null){computeStyleTests()}return reliableHiddenOffsetsVal},boxSizingReliable:function(){if(boxSizingReliableVal==null){computeStyleTests()}return boxSizingReliableVal},pixelPosition:function(){if(pixelPositionVal==null){computeStyleTests()}return pixelPositionVal},reliableMarginRight:function(){if(reliableMarginRightVal==null){computeStyleTests()}return reliableMarginRightVal}});function computeStyleTests(){var div,body,container,contents;body=document.getElementsByTagName("body")[0];if(!body||!body.style){return}div=document.createElement("div");container=document.createElement("div");container.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";body.appendChild(container).appendChild(div);div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;"+"box-sizing:border-box;display:block;margin-top:1%;top:1%;"+"border:1px;padding:1px;width:4px;position:absolute";pixelPositionVal=boxSizingReliableVal=false;reliableMarginRightVal=true;if(window.getComputedStyle){pixelPositionVal=(window.getComputedStyle(div,null)||{}).top!=="1%";boxSizingReliableVal=(window.getComputedStyle(div,null)||{width:"4px"}).width==="4px";contents=div.appendChild(document.createElement("div"));contents.style.cssText=div.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;"+"box-sizing:content-box;display:block;margin:0;border:0;padding:0";contents.style.marginRight=contents.style.width="0";div.style.width="1px";reliableMarginRightVal=!parseFloat((window.getComputedStyle(contents,null)||{}).marginRight);div.removeChild(contents)}div.innerHTML="<table><tr><td></td><td>t</td></tr></table>";contents=div.getElementsByTagName("td");contents[0].style.cssText="margin:0;border:0;padding:0;display:none";reliableHiddenOffsetsVal=contents[0].offsetHeight===0;if(reliableHiddenOffsetsVal){contents[0].style.display="";contents[1].style.display="none";reliableHiddenOffsetsVal=contents[0].offsetHeight===0}body.removeChild(container)}})();jQuery.swap=function(elem,options,callback,args){var ret,name,old={};for(name in options){old[name]=elem.style[name];elem.style[name]=options[name]}ret=callback.apply(elem,args||[]);for(name in options){elem.style[name]=old[name]}return ret};var ralpha=/alpha\([^)]*\)/i,ropacity=/opacity\s*=\s*([^)]*)/,rdisplayswap=/^(none|table(?!-c[ea]).+)/,rnumsplit=new RegExp("^("+pnum+")(.*)$","i"),rrelNum=new RegExp("^([+-])=("+pnum+")","i"),cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","O","Moz","ms"];function vendorPropName(style,name){if(name in style){return name}var capName=name.charAt(0).toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;while(i--){name=cssPrefixes[i]+capName;if(name in style){return name}}return origName}function showHide(elements,show){var display,elem,hidden,values=[],index=0,length=elements.length;for(;index<length;index++){elem=elements[index];if(!elem.style){continue}values[index]=jQuery._data(elem,"olddisplay");display=elem.style.display;if(show){if(!values[index]&&display==="none"){elem.style.display=""}if(elem.style.display===""&&isHidden(elem)){values[index]=jQuery._data(elem,"olddisplay",defaultDisplay(elem.nodeName))}}else{hidden=isHidden(elem);if(display&&display!=="none"||!hidden){jQuery._data(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"))}}}for(index=0;index<length;index++){elem=elements[index];if(!elem.style){continue}if(!show||elem.style.display==="none"||elem.style.display===""){elem.style.display=show?values[index]||"":"none"}}return elements}function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){var i=extra===(isBorderBox?"border":"content")?4:name==="width"?1:0,val=0;for(;i<4;i+=2){if(extra==="margin"){val+=jQuery.css(elem,extra+cssExpand[i],true,styles)}if(isBorderBox){if(extra==="content"){val-=jQuery.css(elem,"padding"+cssExpand[i],true,styles)}if(extra!=="margin"){val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles)}}else{val+=jQuery.css(elem,"padding"+cssExpand[i],true,styles);if(extra!=="padding"){val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles)}}}return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=true,val=name==="width"?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox=support.boxSizing&&jQuery.css(elem,"boxSizing",false,styles)==="border-box";if(val<=0||val==null){val=curCSS(elem,name,styles);if(val<0||val==null){val=elem.style[name]}if(rnumnonpx.test(val)){return val}valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]);val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles)+"px"}jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return ret===""?"1":ret}}}},cssNumber:{columnCount:true,fillOpacity:true,flexGrow:true,flexShrink:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{float:support.cssFloat?"cssFloat":"styleFloat"},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style){return}var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(value!==undefined){type=typeof value;if(type==="string"&&(ret=rrelNum.exec(value))){value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name));type="number"}if(value==null||value!==value){return}if(type==="number"&&!jQuery.cssNumber[origName]){value+="px"}if(!support.clearCloneStyle&&value===""&&name.indexOf("background")===0){style[name]="inherit"}if(!hooks||!("set"in hooks)||(value=hooks.set(elem,value,extra))!==undefined){try{style[name]=value}catch(e){}}}else{if(hooks&&"get"in hooks&&(ret=hooks.get(elem,false,extra))!==undefined){return ret}return style[name]}},css:function(elem,name,extra,styles){var num,val,hooks,origName=jQuery.camelCase(name);name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(hooks&&"get"in hooks){val=hooks.get(elem,true,extra)}if(val===undefined){val=curCSS(elem,name,styles)}if(val==="normal"&&name in cssNormalTransform){val=cssNormalTransform[name]}if(extra===""||extra){num=parseFloat(val);return extra===true||jQuery.isNumeric(num)?num||0:val}return val}});jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed){return rdisplayswap.test(jQuery.css(elem,"display"))&&elem.offsetWidth===0?jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra)}},set:function(elem,value,extra){var styles=extra&&getStyles(elem);return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,support.boxSizing&&jQuery.css(elem,"boxSizing",false,styles)==="border-box",styles):0)}}});if(!support.opacity){jQuery.cssHooks.opacity={get:function(elem,computed){return ropacity.test((computed&&elem.currentStyle?elem.currentStyle.filter:elem.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":computed?"1":""},set:function(elem,value){var style=elem.style,currentStyle=elem.currentStyle,opacity=jQuery.isNumeric(value)?"alpha(opacity="+value*100+")":"",filter=currentStyle&&currentStyle.filter||style.filter||"";style.zoom=1;if((value>=1||value==="")&&jQuery.trim(filter.replace(ralpha,""))===""&&style.removeAttribute){style.removeAttribute("filter");if(value===""||currentStyle&&!currentStyle.filter){return}}style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):filter+" "+opacity}}}jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(elem,computed){if(computed){return jQuery.swap(elem,{display:"inline-block"},curCSS,[elem,"marginRight"])}});jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){var i=0,expanded={},parts=typeof value==="string"?value.split(" "):[value];for(;i<4;i++){expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0]}return expanded}};if(!rmargin.test(prefix)){jQuery.cssHooks[prefix+suffix].set=setPositiveNumber}});jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){styles=getStyles(elem);len=name.length;for(;i<len;i++){map[name[i]]=jQuery.css(elem,name[i],false,styles)}return map}return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,true)},hide:function(){return showHide(this)},toggle:function(state){if(typeof state==="boolean"){return state?this.show():this.hide()}return this.each(function(){if(isHidden(this)){jQuery(this).show()}else{jQuery(this).hide()}})}});function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}jQuery.Tween=Tween;Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem;this.prop=prop;this.easing=easing||"swing";this.options=options;this.start=this.now=this.cur();this.end=end;this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];if(this.options.duration){this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration)}else{this.pos=eased=percent}this.now=(this.end-this.start)*eased+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(hooks&&hooks.set){hooks.set(this)}else{Tween.propHooks._default.set(this)}return this}};Tween.prototype.init.prototype=Tween.prototype;Tween.propHooks={_default:{get:function(tween){var result;if(tween.elem[tween.prop]!=null&&(!tween.elem.style||tween.elem.style[tween.prop]==null)){return tween.elem[tween.prop]}result=jQuery.css(tween.elem,tween.prop,"");return!result||result==="auto"?0:result},set:function(tween){if(jQuery.fx.step[tween.prop]){jQuery.fx.step[tween.prop](tween)}else if(tween.elem.style&&(tween.elem.style[jQuery.cssProps[tween.prop]]!=null||jQuery.cssHooks[tween.prop])){jQuery.style(tween.elem,tween.prop,tween.now+tween.unit)}else{tween.elem[tween.prop]=tween.now}}}};Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){if(tween.elem.nodeType&&tween.elem.parentNode){tween.elem[tween.prop]=tween.now}}};jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2}};jQuery.fx=Tween.prototype.init;jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(prop,value){var tween=this.createTween(prop,value),target=tween.cur(),parts=rfxnum.exec(value),unit=parts&&parts[3]||(jQuery.cssNumber[prop]?"":"px"),start=(jQuery.cssNumber[prop]||unit!=="px"&&+target)&&rfxnum.exec(jQuery.css(tween.elem,prop)),scale=1,maxIterations=20;if(start&&start[3]!==unit){unit=unit||start[3];parts=parts||[];start=+target||1;do{scale=scale||".5";start=start/scale;jQuery.style(tween.elem,prop,start+unit)}while(scale!==(scale=tween.cur()/target)&&scale!==1&&--maxIterations)}if(parts){start=tween.start=+start||+target||0;tween.unit=unit;tween.end=parts[1]?start+(parts[1]+1)*parts[2]:+parts[2]}return tween}]};function createFxNow(){setTimeout(function(){fxNow=undefined});return fxNow=jQuery.now()}function genFx(type,includeWidth){var which,attrs={height:type},i=0;includeWidth=includeWidth?1:0;for(;i<4;i+=2-includeWidth){which=cssExpand[i];attrs["margin"+which]=attrs["padding"+which]=type}if(includeWidth){attrs.opacity=attrs.width=type}return attrs}function createTween(value,prop,animation){var tween,collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;for(;index<length;index++){if(tween=collection[index].call(animation,prop,value)){return tween}}}function defaultPrefilter(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,display,checkDisplay,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=jQuery._data(elem,"fxshow");if(!opts.queue){hooks=jQuery._queueHooks(elem,"fx");if(hooks.unqueued==null){hooks.unqueued=0;oldfire=hooks.empty.fire;hooks.empty.fire=function(){if(!hooks.unqueued){oldfire()}}}hooks.unqueued++;anim.always(function(){anim.always(function(){hooks.unqueued--;if(!jQuery.queue(elem,"fx").length){hooks.empty.fire()}})})}if(elem.nodeType===1&&("height"in props||"width"in props)){opts.overflow=[style.overflow,style.overflowX,style.overflowY];display=jQuery.css(elem,"display");checkDisplay=display==="none"?jQuery._data(elem,"olddisplay")||defaultDisplay(elem.nodeName):display;if(checkDisplay==="inline"&&jQuery.css(elem,"float")==="none"){if(!support.inlineBlockNeedsLayout||defaultDisplay(elem.nodeName)==="inline"){style.display="inline-block"}else{style.zoom=1}}}if(opts.overflow){style.overflow="hidden";if(!support.shrinkWrapBlocks()){anim.always(function(){style.overflow=opts.overflow[0];style.overflowX=opts.overflow[1];style.overflowY=opts.overflow[2]})}}for(prop in props){value=props[prop];if(rfxtypes.exec(value)){delete props[prop];toggle=toggle||value==="toggle";if(value===(hidden?"hide":"show")){if(value==="show"&&dataShow&&dataShow[prop]!==undefined){hidden=true}else{continue}}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}else{display=undefined}}if(!jQuery.isEmptyObject(orig)){if(dataShow){if("hidden"in dataShow){hidden=dataShow.hidden}}else{dataShow=jQuery._data(elem,"fxshow",{})}if(toggle){dataShow.hidden=!hidden}if(hidden){jQuery(elem).show()}else{anim.done(function(){jQuery(elem).hide()})}anim.done(function(){var prop;jQuery._removeData(elem,"fxshow");for(prop in orig){jQuery.style(elem,prop,orig[prop])}});for(prop in orig){tween=createTween(hidden?dataShow[prop]:0,prop,anim);if(!(prop in dataShow)){dataShow[prop]=tween.start;if(hidden){tween.end=tween.start;tween.start=prop==="width"||prop==="height"?1:0}}}}else if((display==="none"?defaultDisplay(elem.nodeName):display)==="inline"){style.display=display}}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props){name=jQuery.camelCase(index);easing=specialEasing[name];value=props[index];if(jQuery.isArray(value)){easing=value[1];value=props[index]=value[0]}if(index!==name){props[name]=value;delete props[index]}hooks=jQuery.cssHooks[name];if(hooks&&"expand"in hooks){value=hooks.expand(value);delete props[name];for(index in value){if(!(index in props)){props[index]=value[index];specialEasing[index]=easing}}}else{specialEasing[name]=easing}}}function Animation(elem,properties,options){var result,stopped,index=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped){return false}var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;for(;index<length;index++){animation.tweens[index].run(percent)}deferred.notifyWith(elem,[animation,percent,remaining]);if(percent<1&&length){return remaining}else{deferred.resolveWith(elem,[animation]);return false}},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(true,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);animation.tweens.push(tween);return tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped){return this}stopped=true;for(;index<length;index++){animation.tweens[index].run(1)}if(gotoEnd){deferred.resolveWith(elem,[animation,gotoEnd])}else{deferred.rejectWith(elem,[animation,gotoEnd])}return this}}),props=animation.props;propFilter(props,animation.opts.specialEasing);for(;index<length;index++){result=animationPrefilters[index].call(animation,elem,props,animation.opts);if(result){return result}}jQuery.map(props,createTween,animation);if(jQuery.isFunction(animation.opts.start)){animation.opts.start.call(elem,animation)}jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue}));return animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}jQuery.Animation=jQuery.extend(Animation,{tweener:function(props,callback){if(jQuery.isFunction(props)){callback=props;props=["*"]}else{props=props.split(" ")}var prop,index=0,length=props.length;for(;index<length;index++){prop=props[index];tweeners[prop]=tweeners[prop]||[];tweeners[prop].unshift(callback)}},prefilter:function(callback,prepend){if(prepend){animationPrefilters.unshift(callback)}else{animationPrefilters.push(callback)}}});jQuery.speed=function(speed,easing,fn){var opt=speed&&typeof speed==="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;if(opt.queue==null||opt.queue===true){opt.queue="fx"}opt.old=opt.complete;opt.complete=function(){if(jQuery.isFunction(opt.old)){opt.old.call(this)}if(opt.queue){jQuery.dequeue(this,opt.queue)}};return opt};jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);if(empty||jQuery._data(this,"finish")){anim.stop(true)}};doAnimation.finish=doAnimation;return empty||optall.queue===false?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop;stop(gotoEnd)};if(typeof type!=="string"){gotoEnd=clearQueue;clearQueue=type;type=undefined}if(clearQueue&&type!==false){this.queue(type||"fx",[])}return this.each(function(){var dequeue=true,index=type!=null&&type+"queueHooks",timers=jQuery.timers,data=jQuery._data(this);if(index){if(data[index]&&data[index].stop){stopQueue(data[index])}}else{for(index in data){if(data[index]&&data[index].stop&&rrun.test(index)){stopQueue(data[index])}}}for(index=timers.length;index--;){if(timers[index].elem===this&&(type==null||timers[index].queue===type)){timers[index].anim.stop(gotoEnd);dequeue=false;timers.splice(index,1)}}if(dequeue||!gotoEnd){jQuery.dequeue(this,type)}})},finish:function(type){if(type!==false){type=type||"fx"}return this.each(function(){var index,data=jQuery._data(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;data.finish=true;jQuery.queue(this,type,[]);if(hooks&&hooks.stop){hooks.stop.call(this,true)}for(index=timers.length;index--;){if(timers[index].elem===this&&timers[index].queue===type){timers[index].anim.stop(true);timers.splice(index,1)}}for(index=0;index<length;index++){if(queue[index]&&queue[index].finish){queue[index].finish.call(this)}}delete data.finish})}});jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return speed==null||typeof speed==="boolean"?cssFn.apply(this,arguments):this.animate(genFx(name,true),speed,easing,callback)}});jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}});jQuery.timers=[];jQuery.fx.tick=function(){var timer,timers=jQuery.timers,i=0;fxNow=jQuery.now();for(;i<timers.length;i++){timer=timers[i];if(!timer()&&timers[i]===timer){timers.splice(i--,1)}}if(!timers.length){jQuery.fx.stop()}fxNow=undefined};jQuery.fx.timer=function(timer){jQuery.timers.push(timer);if(timer()){jQuery.fx.start()}else{jQuery.timers.pop()}};jQuery.fx.interval=13;jQuery.fx.start=function(){if(!timerId){timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval)}};jQuery.fx.stop=function(){clearInterval(timerId);timerId=null};jQuery.fx.speeds={slow:600,fast:200,_default:400};jQuery.fn.delay=function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})};(function(){var input,div,select,a,opt;div=document.createElement("div");div.setAttribute("className","t");div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";a=div.getElementsByTagName("a")[0];select=document.createElement("select");opt=select.appendChild(document.createElement("option"));input=div.getElementsByTagName("input")[0];a.style.cssText="top:1px";support.getSetAttribute=div.className!=="t";support.style=/top/.test(a.getAttribute("style"));support.hrefNormalized=a.getAttribute("href")==="/a";support.checkOn=!!input.value;support.optSelected=opt.selected;support.enctype=!!document.createElement("form").enctype;select.disabled=true;support.optDisabled=!opt.disabled;input=document.createElement("input");input.setAttribute("value","");support.input=input.getAttribute("value")==="";input.value="t";input.setAttribute("type","radio");support.radioValue=input.value==="t"})();var rreturn=/\r/g;jQuery.fn.extend({val:function(value){var hooks,ret,isFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()];if(hooks&&"get"in hooks&&(ret=hooks.get(elem,"value"))!==undefined){return ret}ret=elem.value;return typeof ret==="string"?ret.replace(rreturn,""):ret==null?"":ret}return}isFunction=jQuery.isFunction(value);return this.each(function(i){var val;if(this.nodeType!==1){return}if(isFunction){val=value.call(this,i,jQuery(this).val())}else{val=value}if(val==null){val=""}else if(typeof val==="number"){val+=""}else if(jQuery.isArray(val)){val=jQuery.map(val,function(value){return value==null?"":value+""})}hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!hooks||!("set"in hooks)||hooks.set(this,val,"value")===undefined){this.value=val}})}});jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return val!=null?val:jQuery.trim(jQuery.text(elem))}},select:{get:function(elem){var value,option,options=elem.options,index=elem.selectedIndex,one=elem.type==="select-one"||index<0,values=one?null:[],max=one?index+1:options.length,i=index<0?max:one?index:0;for(;i<max;i++){option=options[i];if((option.selected||i===index)&&(support.optDisabled?!option.disabled:option.getAttribute("disabled")===null)&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one){return value}values.push(value)}}return values},set:function(elem,value){var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;while(i--){option=options[i];if(jQuery.inArray(jQuery.valHooks.option.get(option),values)>=0){try{option.selected=optionSet=true}catch(_){option.scrollHeight}}else{option.selected=false}}if(!optionSet){elem.selectedIndex=-1}return options}}}});jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){if(jQuery.isArray(value)){return elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0}}};if(!support.checkOn){jQuery.valHooks[this].get=function(elem){return elem.getAttribute("value")===null?"on":elem.value}}});var nodeHook,boolHook,attrHandle=jQuery.expr.attrHandle,ruseDefault=/^(?:checked|selected)$/i,getSetAttribute=support.getSetAttribute,getSetInput=support.input;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}});jQuery.extend({attr:function(elem,name,value){var hooks,ret,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return}if(typeof elem.getAttribute===strundefined){return jQuery.prop(elem,name,value)}if(nType!==1||!jQuery.isXMLDoc(elem)){name=name.toLowerCase();hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:nodeHook)}if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name)}else if(hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret}else{elem.setAttribute(name,value+"");return value}}else if(hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null){return ret}else{ret=jQuery.find.attr(elem,name);return ret==null?undefined:ret}},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(rnotwhite);if(attrNames&&elem.nodeType===1){while(name=attrNames[i++]){propName=jQuery.propFix[name]||name;if(jQuery.expr.match.bool.test(name)){if(getSetInput&&getSetAttribute||!ruseDefault.test(name)){elem[propName]=false}else{elem[jQuery.camelCase("default-"+name)]=elem[propName]=false}}else{jQuery.attr(elem,name,"")}elem.removeAttribute(getSetAttribute?name:propName)}}},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&value==="radio"&&jQuery.nodeName(elem,"input")){var val=elem.value;elem.setAttribute("type",value);if(val){elem.value=val}return value}}}}});boolHook={set:function(elem,value,name){if(value===false){jQuery.removeAttr(elem,name)}else if(getSetInput&&getSetAttribute||!ruseDefault.test(name)){elem.setAttribute(!getSetAttribute&&jQuery.propFix[name]||name,name)}else{elem[jQuery.camelCase("default-"+name)]=elem[name]=true}return name}};jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=getSetInput&&getSetAttribute||!ruseDefault.test(name)?function(elem,name,isXML){var ret,handle;if(!isXML){handle=attrHandle[name];attrHandle[name]=ret;ret=getter(elem,name,isXML)!=null?name.toLowerCase():null;attrHandle[name]=handle}return ret}:function(elem,name,isXML){if(!isXML){return elem[jQuery.camelCase("default-"+name)]?name.toLowerCase():null}}});if(!getSetInput||!getSetAttribute){jQuery.attrHooks.value={set:function(elem,value,name){if(jQuery.nodeName(elem,"input")){elem.defaultValue=value}else{return nodeHook&&nodeHook.set(elem,value,name)}}}}if(!getSetAttribute){nodeHook={set:function(elem,value,name){var ret=elem.getAttributeNode(name);if(!ret){elem.setAttributeNode(ret=elem.ownerDocument.createAttribute(name))}ret.value=value+="";if(name==="value"||value===elem.getAttribute(name)){return value}}};attrHandle.id=attrHandle.name=attrHandle.coords=function(elem,name,isXML){var ret;if(!isXML){return(ret=elem.getAttributeNode(name))&&ret.value!==""?ret.value:null}};jQuery.valHooks.button={get:function(elem,name){var ret=elem.getAttributeNode(name);if(ret&&ret.specified){return ret.value}},set:nodeHook.set};jQuery.attrHooks.contenteditable={set:function(elem,value,name){nodeHook.set(elem,value===""?false:value,name)}};jQuery.each(["width","height"],function(i,name){jQuery.attrHooks[name]={set:function(elem,value){if(value===""){elem.setAttribute(name,"auto");return value}}}})}if(!support.style){jQuery.attrHooks.style={get:function(elem){return elem.style.cssText||undefined},set:function(elem,value){return elem.style.cssText=value+""}}}var rfocusable=/^(?:input|select|textarea|button|object)$/i,rclickable=/^(?:a|area)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){name=jQuery.propFix[name]||name;return this.each(function(){try{this[name]=undefined;delete this[name]}catch(e){}})}});jQuery.extend({propFix:{for:"htmlFor",class:"className"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return}notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name]}if(value!==undefined){return hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined?ret:elem[name]=value}else{return hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null?ret:elem[name]}},propHooks:{tabIndex:{get:function(elem){var tabindex=jQuery.find.attr(elem,"tabindex");return tabindex?parseInt(tabindex,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:-1}}}});if(!support.hrefNormalized){jQuery.each(["href","src"],function(i,name){jQuery.propHooks[name]={get:function(elem){return elem.getAttribute(name,4)}}})}if(!support.optSelected){jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;if(parent){parent.selectedIndex;if(parent.parentNode){parent.parentNode.selectedIndex}}return null}}}jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});if(!support.enctype){jQuery.propFix.enctype="encoding"}var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(value){var classes,elem,cur,clazz,j,finalValue,i=0,len=this.length,proceed=typeof value==="string"&&value;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))})}if(proceed){classes=(value||"").match(rnotwhite)||[];for(;i<len;i++){elem=this[i];cur=elem.nodeType===1&&(elem.className?(" "+elem.className+" ").replace(rclass," "):" ");if(cur){j=0;while(clazz=classes[j++]){if(cur.indexOf(" "+clazz+" ")<0){cur+=clazz+" "}}finalValue=jQuery.trim(cur);if(elem.className!==finalValue){elem.className=finalValue}}}}return this},removeClass:function(value){var classes,elem,cur,clazz,j,finalValue,i=0,len=this.length,proceed=arguments.length===0||typeof value==="string"&&value;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))})}if(proceed){classes=(value||"").match(rnotwhite)||[];for(;i<len;i++){elem=this[i];cur=elem.nodeType===1&&(elem.className?(" "+elem.className+" ").replace(rclass," "):"");if(cur){j=0;while(clazz=classes[j++]){while(cur.indexOf(" "+clazz+" ")>=0){cur=cur.replace(" "+clazz+" "," ")}}finalValue=value?jQuery.trim(cur):"";if(elem.className!==finalValue){elem.className=finalValue}}}}return this},toggleClass:function(value,stateVal){var type=typeof value;if(typeof stateVal==="boolean"&&type==="string"){return stateVal?this.addClass(value):this.removeClass(value)}if(jQuery.isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)})}return this.each(function(){if(type==="string"){var className,i=0,self=jQuery(this),classNames=value.match(rnotwhite)||[];while(className=classNames[i++]){if(self.hasClass(className)){self.removeClass(className)}else{self.addClass(className)}}}else if(type===strundefined||type==="boolean"){if(this.className){jQuery._data(this,"__className__",this.className)}this.className=this.className||value===false?"":jQuery._data(this,"__className__")||""}})},hasClass:function(selector){var className=" "+selector+" ",i=0,l=this.length;for(;i<l;i++){if(this[i].nodeType===1&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>=0){return true}}return false}});jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup error contextmenu").split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}});jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)},bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return arguments.length===1?this.off(selector,"**"):this.off(types,selector||"**",fn)}});var nonce=jQuery.now();var rquery=/\?/;var rvalidtokens=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;jQuery.parseJSON=function(data){if(window.JSON&&window.JSON.parse){return window.JSON.parse(data+"")}var requireNonComma,depth=null,str=jQuery.trim(data+"");return str&&!jQuery.trim(str.replace(rvalidtokens,function(token,comma,open,close){if(requireNonComma&&comma){depth=0}if(depth===0){return token}requireNonComma=open||comma;depth+=!close-!open;return""}))?Function("return "+str)():jQuery.error("Invalid JSON: "+data)};jQuery.parseXML=function(data){var xml,tmp;if(!data||typeof data!=="string"){return null}try{if(window.DOMParser){tmp=new DOMParser;xml=tmp.parseFromString(data,"text/xml")}else{xml=new ActiveXObject("Microsoft.XMLDOM");xml.async="false";xml.loadXML(data)}}catch(e){xml=undefined}if(!xml||!xml.documentElement||xml.getElementsByTagName("parsererror").length){jQuery.error("Invalid XML: "+data)}return xml};var ajaxLocParts,ajaxLocation,rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,prefilters={},transports={},allTypes="*/".concat("*");try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a");ajaxLocation.href="";ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if(typeof dataTypeExpression!=="string"){func=dataTypeExpression;dataTypeExpression="*"}var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(func)){while(dataType=dataTypes[i++]){if(dataType.charAt(0)==="+"){dataType=dataType.slice(1)||"*";(structure[dataType]=structure[dataType]||[]).unshift(func)}else{(structure[dataType]=structure[dataType]||[]).push(func)}}}}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){var inspected={},seekingTransport=structure===transports;function inspect(dataType){var selected;inspected[dataType]=true;jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);if(typeof dataTypeOrTransport==="string"&&!seekingTransport&&!inspected[dataTypeOrTransport]){options.dataTypes.unshift(dataTypeOrTransport);inspect(dataTypeOrTransport);return false}else if(seekingTransport){return!(selected=dataTypeOrTransport)}});return selected}return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var deep,key,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==undefined){(flatOptions[key]?target:deep||(deep={}))[key]=src[key]}}if(deep){jQuery.extend(true,target,deep)}return target}function ajaxHandleResponses(s,jqXHR,responses){var firstDataType,ct,finalDataType,type,contents=s.contents,dataTypes=s.dataTypes;while(dataTypes[0]==="*"){dataTypes.shift();if(ct===undefined){ct=s.mimeType||jqXHR.getResponseHeader("Content-Type")}}if(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}}}if(dataTypes[0]in responses){finalDataType=dataTypes[0]}else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}if(!firstDataType){firstDataType=type}}finalDataType=finalDataType||firstDataType}if(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType)}return responses[finalDataType]}}function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1]){for(conv in s.converters){converters[conv.toLowerCase()]=s.converters[conv]}}current=dataTypes.shift();while(current){if(s.responseFields[current]){jqXHR[s.responseFields[current]]=response}if(!prev&&isSuccess&&s.dataFilter){response=s.dataFilter(response,s.dataType)}prev=current;current=dataTypes.shift();if(current){if(current==="*"){current=prev}else if(prev!=="*"&&prev!==current){conv=converters[prev+" "+current]||converters["* "+current];if(!conv){for(conv2 in converters){tmp=conv2.split(" ");if(tmp[1]===current){conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]];if(conv){if(conv===true){conv=converters[conv2]}else if(converters[conv2]!==true){current=tmp[0];dataTypes.unshift(tmp[1])}break}}}}if(conv!==true){if(conv&&s["throws"]){response=conv(response)}else{try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}}}}}return{state:"success",data:response}}jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){if(typeof url==="object"){options=url;url=undefined}options=options||{};var parts,i,cacheURL,responseHeadersString,timeoutTimer,fireGlobals,transport,responseHeaders,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(state===2){if(!responseHeaders){responseHeaders={};while(match=rheaders.exec(responseHeadersString)){responseHeaders[match[1].toLowerCase()]=match[2]}}match=responseHeaders[key.toLowerCase()]}return match==null?null:match},getAllResponseHeaders:function(){return state===2?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();if(!state){name=requestHeadersNames[lname]=requestHeadersNames[lname]||name;requestHeaders[name]=value}return this},overrideMimeType:function(type){if(!state){s.mimeType=type}return this},statusCode:function(map){var code;if(map){if(state<2){for(code in map){statusCode[code]=[statusCode[code],map[code]]}}else{jqXHR.always(map[jqXHR.status])}}return this},abort:function(statusText){var finalText=statusText||strAbort;if(transport){transport.abort(finalText)}done(0,finalText);return this}};deferred.promise(jqXHR).complete=completeDeferred.add;jqXHR.success=jqXHR.done;jqXHR.error=jqXHR.fail;s.url=((url||s.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//");s.type=options.method||options.type||s.method||s.type;s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(rnotwhite)||[""];if(s.crossDomain==null){parts=rurl.exec(s.url.toLowerCase());s.crossDomain=!!(parts&&(parts[1]!==ajaxLocParts[1]||parts[2]!==ajaxLocParts[2]||(parts[3]||(parts[1]==="http:"?"80":"443"))!==(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?"80":"443"))))}if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional)}inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(state===2){return jqXHR}fireGlobals=jQuery.event&&s.global;if(fireGlobals&&jQuery.active++===0){jQuery.event.trigger("ajaxStart")}s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);cacheURL=s.url;if(!s.hasContent){if(s.data){cacheURL=s.url+=(rquery.test(cacheURL)?"&":"?")+s.data;delete s.data}if(s.cache===false){s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+nonce++):cacheURL+(rquery.test(cacheURL)?"&":"?")+"_="+nonce++}}if(s.ifModified){if(jQuery.lastModified[cacheURL]){jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL])}if(jQuery.etag[cacheURL]){jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])}}if(s.data&&s.hasContent&&s.contentType!==false||options.contentType){jqXHR.setRequestHeader("Content-Type",s.contentType)}jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i])}if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===false||state===2)){return jqXHR.abort()}strAbort="abort";for(i in{success:1,error:1,complete:1}){jqXHR[i](s[i])}transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport){done(-1,"No Transport")}else{jqXHR.readyState=1;if(fireGlobals){globalEventContext.trigger("ajaxSend",[jqXHR,s])}if(s.async&&s.timeout>0){timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout)}try{state=1;transport.send(requestHeaders,done)}catch(e){if(state<2){done(-1,e)}else{throw e}}}function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;if(state===2){return}state=2;if(timeoutTimer){clearTimeout(timeoutTimer)}transport=undefined;responseHeadersString=headers||"";jqXHR.readyState=status>0?4:0;isSuccess=status>=200&&status<300||status===304;if(responses){response=ajaxHandleResponses(s,jqXHR,responses)}response=ajaxConvert(s,response,jqXHR,isSuccess);if(isSuccess){if(s.ifModified){modified=jqXHR.getResponseHeader("Last-Modified");if(modified){jQuery.lastModified[cacheURL]=modified}modified=jqXHR.getResponseHeader("etag");if(modified){jQuery.etag[cacheURL]=modified}}if(status===204||s.type==="HEAD"){statusText="nocontent"}else if(status===304){statusText="notmodified"}else{statusText=response.state;success=response.data;error=response.error;isSuccess=!error}}else{error=statusText;if(status||!statusText){statusText="error";if(status<0){status=0}}}jqXHR.status=status;jqXHR.statusText=(nativeStatusText||statusText)+"";if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR])}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error])}jqXHR.statusCode(statusCode);statusCode=undefined;if(fireGlobals){globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error])}completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);if(!--jQuery.active){jQuery.event.trigger("ajaxStop")}}}return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script")}});jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=undefined}return jQuery.ajax({url:url,type:method,dataType:type,data:data,success:callback})}});jQuery._evalUrl=function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",async:false,global:false,throws:true})};jQuery.fn.extend({wrapAll:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))})}if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0])}wrap.map(function(){var elem=this;while(elem.firstChild&&elem.firstChild.nodeType===1){elem=elem.firstChild}return elem}).append(this)}return this},wrapInner:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i))})}return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html)}else{self.append(html)}})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes)}}).end()}});jQuery.expr.filters.hidden=function(elem){return elem.offsetWidth<=0&&elem.offsetHeight<=0||!support.reliableHiddenOffsets()&&(elem.style&&elem.style.display||jQuery.css(elem,"display"))==="none"};jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem)};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){add(prefix,v)}else{buildParams(prefix+"["+(typeof v==="object"?i:"")+"]",v,traditional,add)}})}else if(!traditional&&jQuery.type(obj)==="object"){for(name in obj){buildParams(prefix+"["+name+"]",obj[name],traditional,add)}}else{add(prefix,obj)}}jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():value==null?"":value;s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(traditional===undefined){traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional}if(jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a)){jQuery.each(a,function(){add(this.name,this.value)})}else{for(prefix in a){buildParams(prefix,a[prefix],traditional,add)}}return s.join("&").replace(r20,"+")};jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}});jQuery.ajaxSettings.xhr=window.ActiveXObject!==undefined?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&createStandardXHR()||createActiveXHR()}:createStandardXHR;var xhrId=0,xhrCallbacks={},xhrSupported=jQuery.ajaxSettings.xhr();if(window.attachEvent){window.attachEvent("onunload",function(){for(var key in xhrCallbacks){xhrCallbacks[key](undefined,true)}})}support.cors=!!xhrSupported&&"withCredentials"in xhrSupported;xhrSupported=support.ajax=!!xhrSupported;if(xhrSupported){jQuery.ajaxTransport(function(options){if(!options.crossDomain||support.cors){var callback;return{send:function(headers,complete){var i,xhr=options.xhr(),id=++xhrId;xhr.open(options.type,options.url,options.async,options.username,options.password);if(options.xhrFields){for(i in options.xhrFields){xhr[i]=options.xhrFields[i]}}if(options.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(options.mimeType)}if(!options.crossDomain&&!headers["X-Requested-With"]){headers["X-Requested-With"]="XMLHttpRequest"}for(i in headers){if(headers[i]!==undefined){xhr.setRequestHeader(i,headers[i]+"")}}xhr.send(options.hasContent&&options.data||null);callback=function(_,isAbort){var status,statusText,responses;if(callback&&(isAbort||xhr.readyState===4)){delete xhrCallbacks[id];callback=undefined;xhr.onreadystatechange=jQuery.noop;if(isAbort){if(xhr.readyState!==4){xhr.abort()}}else{responses={};status=xhr.status;if(typeof xhr.responseText==="string"){responses.text=xhr.responseText}try{statusText=xhr.statusText}catch(e){statusText=""}if(!status&&options.isLocal&&!options.crossDomain){status=responses.text?200:404}else if(status===1223){status=204}}}if(responses){complete(status,statusText,responses,xhr.getAllResponseHeaders())}};if(!options.async){callback()}else if(xhr.readyState===4){setTimeout(callback)}else{xhr.onreadystatechange=xhrCallbacks[id]=callback}},abort:function(){if(callback){callback(undefined,true)}}}}})}function createStandardXHR(){try{return new window.XMLHttpRequest}catch(e){}}function createActiveXHR(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(text){jQuery.globalEval(text);return text}}});jQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined){s.cache=false}if(s.crossDomain){s.type="GET";s.global=false}});jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,head=document.head||jQuery("head")[0]||document.documentElement;return{send:function(_,callback){script=document.createElement("script");script.async=true;if(s.scriptCharset){script.charset=s.scriptCharset}script.src=s.url;script.onload=script.onreadystatechange=function(_,isAbort){if(isAbort||!script.readyState||/loaded|complete/.test(script.readyState)){script.onload=script.onreadystatechange=null;if(script.parentNode){script.parentNode.removeChild(script)}script=null;if(!isAbort){callback(200,"success")}}};head.insertBefore(script,head.firstChild)},abort:function(){if(script){script.onload(undefined,true)}}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;this[callback]=true;return callback}});jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==false&&(rjsonp.test(s.url)?"url":typeof s.data==="string"&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");if(jsonProp||s.dataTypes[0]==="jsonp"){callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback;if(jsonProp){s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName)}else if(s.jsonp!==false){s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName}s.converters["script json"]=function(){if(!responseContainer){jQuery.error(callbackName+" was not called")}return responseContainer[0]};s.dataTypes[0]="json";overwritten=window[callbackName];window[callbackName]=function(){responseContainer=arguments};jqXHR.always(function(){window[callbackName]=overwritten;if(s[callbackName]){s.jsonpCallback=originalSettings.jsonpCallback;oldCallbacks.push(callbackName)}if(responseContainer&&jQuery.isFunction(overwritten)){overwritten(responseContainer[0])}responseContainer=overwritten=undefined});return"script"}});jQuery.parseHTML=function(data,context,keepScripts){if(!data||typeof data!=="string"){return null}if(typeof context==="boolean"){keepScripts=context;context=false}context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];if(parsed){return[context.createElement(parsed[1])]}parsed=jQuery.buildFragment([data],context,scripts);if(scripts&&scripts.length){jQuery(scripts).remove()}return jQuery.merge([],parsed.childNodes)};var _load=jQuery.fn.load;jQuery.fn.load=function(url,params,callback){if(typeof url!=="string"&&_load){return _load.apply(this,arguments)}var selector,response,type,self=this,off=url.indexOf(" ");if(off>=0){selector=jQuery.trim(url.slice(off,url.length));url=url.slice(0,off)}if(jQuery.isFunction(params)){callback=params;params=undefined}else if(params&&typeof params==="object"){type="POST"}if(self.length>0){jQuery.ajax({url:url,type:type,dataType:"html",data:params}).done(function(responseText){response=arguments;self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).complete(callback&&function(jqXHR,status){self.each(callback,response||[jqXHR.responseText,status,jqXHR])})}return this};jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}});jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length};var docElem=window.document.documentElement;function getWindow(elem){return jQuery.isWindow(elem)?elem:elem.nodeType===9?elem.defaultView||elem.parentWindow:false}jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};if(position==="static"){elem.style.position="relative"}curOffset=curElem.offset();curCSSTop=jQuery.css(elem,"top");curCSSLeft=jQuery.css(elem,"left");calculatePosition=(position==="absolute"||position==="fixed")&&jQuery.inArray("auto",[curCSSTop,curCSSLeft])>-1;if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0}if(jQuery.isFunction(options)){options=options.call(elem,i,curOffset)}if(options.top!=null){props.top=options.top-curOffset.top+curTop}if(options.left!=null){props.left=options.left-curOffset.left+curLeft}if("using"in options){options.using.call(elem,props)}else{curElem.css(props)}}};jQuery.fn.extend({offset:function(options){if(arguments.length){return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)})}var docElem,win,box={top:0,left:0},elem=this[0],doc=elem&&elem.ownerDocument;if(!doc){return}docElem=doc.documentElement;if(!jQuery.contains(docElem,elem)){return box}if(typeof elem.getBoundingClientRect!==strundefined){box=elem.getBoundingClientRect()}win=getWindow(doc);return{top:box.top+(win.pageYOffset||docElem.scrollTop)-(docElem.clientTop||0),left:box.left+(win.pageXOffset||docElem.scrollLeft)-(docElem.clientLeft||0)}},position:function(){if(!this[0]){return}var offsetParent,offset,parentOffset={top:0,left:0},elem=this[0];if(jQuery.css(elem,"position")==="fixed"){offset=elem.getBoundingClientRect()}else{offsetParent=this.offsetParent();offset=this.offset();if(!jQuery.nodeName(offsetParent[0],"html")){parentOffset=offsetParent.offset()}parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",true);parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",true)}return{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",true),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||docElem;while(offsetParent&&(!jQuery.nodeName(offsetParent,"html")&&jQuery.css(offsetParent,"position")==="static")){offsetParent=offsetParent.offsetParent}return offsetParent||docElem})}});jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top=/Y/.test(prop);jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win=getWindow(elem);if(val===undefined){return win?prop in win?win[prop]:win.document.documentElement[method]:elem[method]}if(win){win.scrollTo(!top?val:jQuery(win).scrollLeft(),top?val:jQuery(win).scrollTop())}else{elem[method]=val}},method,val,arguments.length,null)}});jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){if(computed){computed=curCSS(elem,prop);return rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed}})});jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||typeof margin!=="boolean"),extra=defaultExtra||(margin===true||value===true?"margin":"border");return access(this,function(elem,type,value){var doc;if(jQuery.isWindow(elem)){return elem.document.documentElement["client"+name]}if(elem.nodeType===9){doc=elem.documentElement;return Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])}return value===undefined?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:undefined,chainable,null)}})});jQuery.fn.size=function(){return this.length};jQuery.fn.andSelf=jQuery.fn.addBack;if(typeof define==="function"&&define.amd){define("jquery",[],function(){return jQuery})}var _jQuery=window.jQuery,_$=window.$;jQuery.noConflict=function(deep){if(window.$===jQuery){window.$=_$}if(deep&&window.jQuery===jQuery){window.jQuery=_jQuery}return jQuery};if(typeof noGlobal===strundefined){window.jQuery=window.$=jQuery}return jQuery})},{}],28:[function(require,module,exports){(function(global){require("./polyfill.js");require("./crypto-md5-2.5.3.js");var $=require("./jquery-1.11.2");$.fn.$find=function(){return $.fn.find.apply(this,arguments)};var jQuery=$;require("../public/jquery-ui/js/jquery-ui-1.10.3.custom-aspa.min.js")(jQuery);require("../public/js/jquery.colorbox-min.js")(jQuery);require("../public/js/jquery.csv.min.js")(jQuery);var _=require("lodash");var ejs=require("ejs");var async=require("async");var moment=require("moment");var XGrid=require("./XGrid.js");var XForm=require("./XForm.js");var XExt=require("./XExt.js");var XAPI=require("./XAPI.js");var XFormat=require("./XFormat.js");var XValidate=require("jsharmony-validate");var XSearch=require("./XSearch.js");var XPayment=require("./XPayment.js");var XBarcode=require("./XBarcode.js");var XScanner=require("./XScanner.js");var XEditableGrid=require("./XEditableGrid.js");var XMenu=require("./XMenu.js");var JSHFind=require("./JSHFind.js");var XLoader=require("./XLoader.js");var XImageLoader=require("./XImageLoader.js");var XDebugConsole=require("./XDebugConsole.js");var XViews=[];XViews["jsh_system"]=require("../views/jsh_system.ejs");var jsHarmony=function(options){if(!options)options={};var _this=this;this.onRefreshLayout=[];this.RefreshLayout=function(){_this.XExt.trigger(_this.onRefreshLayout)};this.onNavigated=[];this.Navigated=function(obj){_this.XExt.trigger(_this.onNavigated,obj)};this.onMessage=[];this.Message=function(data){_this.XExt.trigger(_this.onMessage,data);_this.trigger("jsh_message",data)};this.onInit=null;this.forcequery={};this._BASEURL="/";this._PUBLICURL="/";this._debug=false;this._show_system_errors=false;this.home_url="";this.uimap={};this._instance="";this._dialogBaseClass="";this.google_api_key="";this.isAuthenticated=false;this.urlrouting=true;for(var key in options)this[key]=options[key];this.$=$;this._=_;this.ejs=ejs;this.async=async;this.moment=moment;this.XGrid=XGrid(this);this.XForm=XForm(this);this.XExt=XExt(this);this.XAPI=XAPI(this);this.XFormat=XFormat();this.XValidate=XValidate;this.XValidate.jsh=this;this.XSearch=XSearch(this);this.XPayment=XPayment(this);this.XBarcode=XBarcode(this);this.XScanner=XScanner(this);this.XEditableGrid=XEditableGrid(this);this.XMenu=XMenu(this);this.JSHFind=JSHFind;this.XLoader=XLoader(this);this.XImageLoader=XImageLoader(this);this.XDebugConsole=XDebugConsole(this);this.XViews=XViews;this.App={};this.System={};this.XModels={};this.XBase={};this.XModels_root="";this.XPopups={};this.is_popup=false;this.XPage={};this.XPage.CustomShortcutKeys=[function(e){return false}];this.isHTML5=document.createElement("canvas").getContext;this.xContextMenuVisible=false;this.xContextMenuItem=undefined;this.xContextMenuItemData=undefined;this.mouseX=0;this.mouseY=0;this.mouseDown=false;this.mouseDragObj=undefined;this.mouseCanDrop=undefined;this.last_clicked_time=undefined;this.last_clicked=undefined;this.DEFAULT_DATEFORMAT="mm/dd/yy";this.onPaymentProxyComplete=function(){};this.imageLoader=null;this.xLoader=null;this.xDialogLoader=null;this.xDebugConsole=null;this.xDialog=[];this.xPopupStack=[];this.xfileuploadLoader=null;this.appStartTime=Date.now();this.pageStartTime=Date.now();this.is_insert=false;this.is_browse=false;this.init_complete=false;this.delete_target=null;this.xfileupload_ctrl=null;this.bcrumbs={};this.orig_bcrumbs="";this.jsproxy_hooks={};this.intervals=[];this.cur_history_url="";window.onbeforeunload=function(){if(_this.XPage.OnExit)return _this.XPage.OnExit()};this.cancelExit=false;this._instanceClass=this.XExt.escapeCSSClass(this._instance);this.root=$(document);this.dialogBlock=null;this.globalsMonitorCache={};this.globalsMonitorTimer=null;this.jslocals="";this.cur_model=null;this.state={};this.globalparams={};this.Config={max_filesize:5e7,require_html5_after_login:true,debug_params:{ignore_globals:[]}};this.singlepage=false;this.prev_title="";this.prev_title_src="";this.prev_bcrumbs="";this.prev_bcrumbs_src="";this.focusHandler=[[]];this.focusHandlerIndex=[window];this.ignorefocusHandler=false;this.queuedInputAction=null;this.lastSquashedActionTime=undefined;this.static_paths=[];this.title_html="";this.title="";this.frontsalt="";this.app_errors=[];this.popups={};this.srcfiles={};this.scriptLoader={};this.lastWindowSize={width:$(window).width(),height:$(window).height()};this._GET=this.XExt.parseGET();_.extend(this._GET,this.forcequery);this.is_insert=this._GET["action"]=="insert";this.is_browse=this._GET["action"]=="browse";this.BindEvents();for(var i=0;i<jsHarmony.Instances.length;i++){if(jsHarmony.Instances[i]._instance==_this._instance)throw new Error("Duplicate jsHarmony Instance ID: "+_this._instance)}jsHarmony.Instances.push(this);if(options.globalScope){window.$=$;window.jQuery=$;window.moment=moment;window.jsh=this;if(!_this._instance)_this._instance="jsh"}};jsHarmony.prototype.$root=function(sel){return this.root.$find(sel)};jsHarmony.prototype.$dialogBlock=function(sel){if(!this.dialogBlock)return $();return this.dialogBlock.$find(sel)};jsHarmony.prototype.getInstance=function(){if(!this._instance)throw new Error("jsHarmony._instance is required");return this._instance};jsHarmony.prototype.getFileProxy=function(){var _this=this;return _this.$root("#"+_this.getInstance()+"_xfileproxy")};jsHarmony.prototype.postFileProxy=function(url,params){var _this=this;var jform_container=$("#"+_this.getInstance()+"_xfileform_container");jform_container.empty();var jform=$('<form method="post" id="'+_this.getInstance()+'_xfileform"></form>');jform_container.append(jform);jform.prop("action",url);jform.prop("target",_this.getInstance()+"_xfileproxy");for(var key in params){var jinput=$('<input type="hidden" />');jinput.prop("name",key);jinput.prop("value",(params[key]||"").toString());jform.append(jinput)}jform.submit().remove()};jsHarmony.prototype.loadScript=function(url,cb){var _this=this;if(url in _this.scriptLoader){if(_this.scriptLoader[url]===null)return cb();else return _this.scriptLoader[url].push(cb)}_this.scriptLoader[url]=[cb];var script=document.createElement("script");script.onload=function(){var funcs=_this.scriptLoader[url];_this.scriptLoader[url]=null;_.each(funcs,function(func){func()})};script.onerror=function(err){console.log(err);_this.XExt.Alert("Error loading script: "+err.toString())};script.src=url;script.async=true;document.head.appendChild(script)};jsHarmony.prototype.BindEvents=function(){var _this=this;$(document).ready(function(){_this.Init()});$(document).ready(function(){_this.XWindowResize()});$(window).load(function(){_this.XWindowResize()});$(window).resize(function(){_this.XWindowResize()});$(window).scroll(function(){_this.XWindowResize("scroll")});window.addEventListener("message",function(event){_this.Message((event.data||"").toString())});window.setInterval(function(){var newWindowSize={width:$(window).width(),height:$(window).height()};if(newWindowSize.width!=_this.lastWindowSize.width||newWindowSize.height!=_this.lastWindowSize.height){_this.XWindowResize()}_this.lastWindowSize=newWindowSize},500);$(document).keydown(function(e){var handled=false;if(_this.XPage.CustomShortcutKeys){for(var i=0;i<_this.XPage.CustomShortcutKeys.length;i++){if(_this.XPage.CustomShortcutKeys[i](e)){handled=true;break}}}if(!handled&&_this.XPage.handleShortcutKeys)handled=_this.XPage.handleShortcutKeys(e);if(handled){e.preventDefault();e.stopImmediatePropagation()}})};jsHarmony.prototype.Init=function(){var _this=this;if(_this.root.$find("body").length)_this.root=_this.root.$find("body");if(_this.XExt.isMobile())_this.root.$find(".xmain").addClass("xmain_mobile");_this.InitFileUpload();this.imageLoader=new this.XImageLoader;this.imageLoader.loadqueue=new Array(_this._PUBLICURL+"images/loading.gif",_this._PUBLICURL+"images/arrow_down.png",_this._PUBLICURL+"images/arrow_down_over.png",_this._PUBLICURL+"images/arrow_up.png",_this._PUBLICURL+"images/arrow_up_over.png");this.imageLoader.StartLoad();$("html").click(function(){_this.hideContextMenu()});_this.InitDialogs();_this.InitControls();_this.XMenu.Init();if(!this.xLoader)this.xLoader=new this.XLoader;if(!this.xDialogLoader)this.xDialogLoader=new this.XLoader(".xdialogblock.jsHarmonyElement_"+_this._instanceClass+" .xdialogloadingblock");this.xLoader.onSquashedClick.push(function(e){_this.lastSquashedActionTime=Date.now()});this.xDebugConsole=new this.XDebugConsole;$(document).mousemove(function(e){_this.mouseX=e.pageX;_this.mouseY=e.pageY;if(_this.mouseDragObj)_this.mouseDrag(_this.mouseDragObj,e)}).mousedown(function(e){_this.mouseDown=true}).mouseup(function(e){_this.mouseDown=false;if(_this.mouseDragObj){_this.mouseDragEnd(_this.mouseDragObj,e);_this.mouseDragObj=undefined;e.preventDefault();e.stopPropagation()}}).mouseleave(function(e){_this.mouseDown=false});this.$root("a").on("click",function(){_this.last_clicked_time=Date.now();_this.last_clicked=$(this)});if(this.isAuthenticated&&this.Config.require_html5_after_login){this.requireHTML5()}if(this.Config.debug_params.monitor_globals)this.runGlobalsMonitor();if(_this.onInit)_this.onInit()};jsHarmony.prototype.mouseDragBegin=function(mouseDragObj,mouseCanDrop,e){var _this=this;_this.hideContextMenu();if(!mouseDragObj)return;_this.mouseDragObj=mouseDragObj;var jobj=$(mouseDragObj);_this.mouseCanDrop=mouseCanDrop;var jclone=jobj.clone();jclone.css("position","absolute");jclone.css("z-index",99998);jclone.css("left",_this.mouseX);jclone.css("top",_this.mouseY);jclone.addClass("xdrag");jclone.removeClass("xdrop");_this.root.prepend(jclone);_this.trigger("jsh_mouseDragBegin",[mouseDragObj,e])};jsHarmony.prototype.mouseDrag=function(mouseDragObj,e){var _this=this;if(!mouseDragObj)return;var jclone=_this.$root(".xdrag");jclone.css("left",_this.mouseX);jclone.css("top",_this.mouseY);var targetObj=null;_this.$root(".xdrop").each(function(){if(_this.XExt.isMouseWithin(this)){if(!_this.mouseCanDrop||_this.mouseCanDrop(this)){if(!targetObj||$.contains(targetObj,this))targetObj=this}}});_this.trigger("jsh_mouseDrag",[mouseDragObj,targetObj,e])};jsHarmony.prototype.mouseDragEnd=function(mouseDragObj,e){var _this=this;if(!mouseDragObj)return;this.$root(".xdrag").remove();var targetObj=null;this.$root(".xdrop").each(function(){if(_this.XExt.isMouseWithin(this)){if(!_this.mouseCanDrop||_this.mouseCanDrop(this)){if(!targetObj||$.contains(targetObj,this))targetObj=this}}});_this.trigger("jsh_mouseDragEnd",[mouseDragObj,targetObj,e])};jsHarmony.prototype.hideContextMenu=function(){if(this.xContextMenuVisible){this.xContextMenuVisible=false;this.xContextMenuItem=undefined;this.xContextMenuItemData=undefined;this.$root(".xcontext_menu").hide()}};jsHarmony.prototype.DefaultErrorHandler=function(num,txt){if(num==-9){this.XExt.Alert(txt);return true}else if(num==-10){this.XExt.Confirm("Your session has timed out or you have logged out of the system.  Proceed to login page?  You will lose any pending changes.",function(){location.reload(true)});return true}return false};jsHarmony.prototype.XDebugInfo=function(txt,clear){var jobj=this.$root(".xdebuginfo.jsHarmonyElement_"+this._instanceClass);jobj.show();if(clear)jobj.empty();jobj.prepend(txt+"<br/>")};jsHarmony.prototype.InitDialogs=function(){var _this=this;this.root.append($(ejs.render(XViews["jsh_system"],{jsh:_this})));this.dialogBlock=this.$root(".xdialogblock.jsHarmonyElement_"+this._instanceClass)};jsHarmony.prototype.InitControls=function(){var _this=this;$(".xtabcontrol").not(".initialized").each(function(){_this.XExt.bindTabControl(this)});$(".xaccordiontab").not(".initialized").each(function(){_this.XExt.bindAccordion(this)})};jsHarmony.prototype.XWindowResize=function(source){var ww=$(window).width();var wh=$(window).height();var sleft=$(window).scrollLeft();var stop=$(window).scrollTop();var docw=$(document).width();var doch=$(document).height();var pw=docw>ww?docw:ww;var ph=doch>wh?doch:wh;var params={ww:ww,wh:wh,sleft:sleft,stop:stop,docw:docw,doch:doch,pw:pw,ph:ph};this.$root(".xbodyhead").each(function(){var jobj=$(this);var bodyhead_width=ww-jobj.offset().left-10+sleft;jobj.css("max-width",bodyhead_width+"px")});this.$root(".xhead").css("top",-1*stop+"px");this.XDialogResize(source,params);this.RefreshLayout();this.lastWindowSize={width:ww,height:wh}};jsHarmony.prototype.XDialogResize=function(source,params){if(this.dialogBlock){this.dialogBlock.css("width",params.pw+"px");this.dialogBlock.css("height",params.ph+"px")}var jdebugInfo=this.$root(".xdebuginfo.jsHarmonyElement_"+this._instanceClass);jdebugInfo.css("top",params.stop+"px");jdebugInfo.css("left",params.sleft+"px");jdebugInfo.css("width",params.ww+"px");this.$dialogBlock(".xdialogbox").each(function(){var jobj=$(this);if(!jobj.is(":visible"))return;if(document.activeElement&&$(document.activeElement).is("input,select,textarea")&&$(document.activeElement).parents(jobj).length){if(source=="scroll")return}var dw=jobj.outerWidth();var dh=jobj.outerHeight();var dleft=params.ww/2-dw/2;if(dleft<0)dleft=0;var dtop=params.wh/2-dh/2;if(dtop<0)dtop=0;var dpadleft=parseInt(jobj.css("padding-left").replace(/\D/g,""))||0;var dpadright=parseInt(jobj.css("padding-right").replace(/\D/g,""))||0;var dborderleft=parseInt(jobj.css("border-left-width").replace(/\D/g,""))||0;var dborderright=parseInt(jobj.css("border-right-width").replace(/\D/g,""))||0;jobj.css("left",dleft+"px");jobj.css("top",dtop+"px");jobj.css("max-width",params.docw-dpadleft-dpadright-dborderleft-dborderright+"px")})};jsHarmony.prototype.addFocusHandler=function(dialogContainer,handler){if(!dialogContainer)dialogContainer=window;var handlerIdx=this.focusHandlerIndex.indexOf(dialogContainer);if(handlerIdx<0){this.focusHandlerIndex.push(dialogContainer);this.focusHandler.push([]);handlerIdx=this.focusHandlerIndex.length-1}this.focusHandler[handlerIdx].push(handler)};jsHarmony.prototype.getFocusHandlers=function(dialogContainer){if(!dialogContainer)return[];var handlerIdx=this.focusHandlerIndex.indexOf(dialogContainer);if(handlerIdx<0)return[];return this.focusHandler[handlerIdx]||[]};jsHarmony.prototype.getTopDialogContainer=function(){if(!this.xDialog.length)return window;return $(this.xDialog[0])[0]};jsHarmony.prototype.InitFileUpload=function(){if(this.xfileuploadLoader!=null)return;this.xfileuploadLoader=new Object;this.root.append('<div style="display:none;">      <div class="xfileuploader colorbox_inline" align="center" style="height:80px;"><div style="position:relative;">        <form class="xfileuploader_form" enctype="multipart/form-data" method="post" target="'+this.getInstance()+'_xfileproxy">          <input type="hidden" name="MAX_FILE_SIZE" value="'+this.Config.max_filesize+'" />          <input type="hidden" name="prevtoken" class="xfileuploader_prevtoken" value="" />          <table cellspacing="3">            <tr>              <td align="right">Upload File:</td>              <td align="left"><input type="file" class="xfileuploader_file" name="file" /></td>            </tr>            <tr>              <td></td>              <td style="padding-top:10px;">                <a class="linkbutton" style="padding-right:15px;" href="#" onClick="'+this.getInstance()+'.XPage.FileUploadSubmit();return false;"><img src="'+this._PUBLICURL+'images/icon_ok.png" alt="Upload" title="Upload" />Upload</a>                <a class="linkbutton" href="javascript:'+this.getInstance()+'.$.colorbox.close()"><img src="'+this._PUBLICURL+'images/icon_cancel.png" alt="Cancel" title="Cancel" />Cancel</a></td>            </tr>          </table>        </form>      </div></div>      <div id="'+this.getInstance()+'_xfileform_container"></div>      <iframe id="'+this.getInstance()+'_xfileproxy" name="'+this.getInstance()+'_xfileproxy" src="about:blank" style="width:0;height:0;border:0px solid #fff;"></iframe>    </div>')};jsHarmony.prototype.requireHTML5=function(){var _this=this;$(document).ready(function(){if(!document.createElement("canvas").getContext){var content='      <div class="browser_upgrade_msg" style="height: 120px; text-align: center; width: 450px;">        <p>In order to use this system, you will need to upgrade your web browser to a modern version that supports HTML5.  Please click "Upgrade" to view supported browsers.</p>        <div>        <input style="padding:2px 6px;" type="button" value="Upgrade" onclick="window.location.href=\'http://www.browsehappy.com\';" />        <input style="padding:2px 6px;" type="button" value="Logout" onclick="window.location.href=\''+_this._BASEURL+"logout';\" />        </div>      </div>      ";$.colorbox({html:content,closeButton:false,arrowKey:false,preloading:false,overlayClose:false,escKey:false,opacity:.5,title:"Did you know that your browser is out of date?"})}})};jsHarmony.prototype.runGlobalsMonitor=function(){var _this=this;_this.globalsMonitorCache={};for(var id in window)_this.globalsMonitorCache[id]=true;if(_this.globalsMonitorTimer)window.clearTimeout(_this.globalsMonitorTimer);_this.globalsMonitorTimer=window.setTimeout(function(){_this.globalsMonitorTimer=null;for(var id in window){if(!(id in _this.globalsMonitorCache)){_this.globalsMonitorCache[id]=true;if(_.includes(["google","_xdc_","data-cke-expando","CKEDITOR","CKEDITOR_BASEPATH","data-cke-expando","OverlayView","tinyMCE","tinymce","TINYMCE_BASEPATH"],id))continue;if(_.includes(_this.Config.debug_params.ignore_globals,id))continue;if(_this.XExt.beginsWith(id,"module$contents$"))continue;if(_this.XExt.beginsWith(id,"mce-data-"))continue;if(parseInt(id).toString()==id.toString())continue;console.log("New global variable: window."+id);_this.XExt.Alert("New global variable: window."+id)}}_this.runGlobalsMonitor()},1e3)};jsHarmony.prototype.on=function(){$(this).on.apply($(this),arguments)};jsHarmony.prototype.off=function(){$(this).off.apply($(this),arguments)};jsHarmony.prototype.trigger=function(){$(this).trigger.apply($(this),arguments)};var instances=[];if(global.jsHarmony)instances=global.jsHarmony.Instances;if(window.jsHarmony)instances=window.jsHarmony.Instances;jsHarmony.Instances=instances;jsHarmony.jQuery=$;global.jsHarmony=jsHarmony}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../public/jquery-ui/js/jquery-ui-1.10.3.custom-aspa.min.js":36,"../public/js/jquery.colorbox-min.js":37,"../public/js/jquery.csv.min.js":38,"../views/jsh_system.ejs":39,"./JSHFind.js":8,"./XAPI.js":11,"./XBarcode.js":12,"./XDebugConsole.js":13,"./XEditableGrid.js":14,"./XExt.js":16,"./XForm.js":17,"./XFormat.js":18,"./XGrid.js":19,"./XImageLoader.js":20,"./XLoader.js":21,"./XMenu.js":22,"./XPayment.js":23,"./XScanner.js":24,"./XSearch.js":25,"./crypto-md5-2.5.3.js":26,"./jquery-1.11.2":27,"./polyfill.js":29,async:30,ejs:31,"jsharmony-validate":5,lodash:34,moment:35}],29:[function(require,module,exports){if(!String.prototype.trim){(function(){var rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(rtrim,"")}})()}},{}],30:[function(require,module,exports){(function(process,global,setImmediate){(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?factory(exports):typeof define==="function"&&define.amd?define(["exports"],factory):factory(global.async=global.async||{})})(this,function(exports){"use strict";function slice(arrayLike,start){start=start|0;var newLen=Math.max(arrayLike.length-start,0);var newArr=Array(newLen);for(var idx=0;idx<newLen;idx++){newArr[idx]=arrayLike[start+idx]}return newArr}var apply=function(fn){var args=slice(arguments,1);return function(){var callArgs=slice(arguments);return fn.apply(null,args.concat(callArgs))}};var initialParams=function(fn){return function(){var args=slice(arguments);var callback=args.pop();fn.call(this,args,callback)}};function isObject(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}var hasSetImmediate=typeof setImmediate==="function"&&setImmediate;var hasNextTick=typeof process==="object"&&typeof process.nextTick==="function";function fallback(fn){setTimeout(fn,0)}function wrap(defer){return function(fn){var args=slice(arguments,1);defer(function(){fn.apply(null,args)})}}var _defer;if(hasSetImmediate){_defer=setImmediate}else if(hasNextTick){_defer=process.nextTick}else{_defer=fallback}var setImmediate$1=wrap(_defer);function asyncify(func){return initialParams(function(args,callback){var result;try{result=func.apply(this,args)}catch(e){return callback(e)}if(isObject(result)&&typeof result.then==="function"){result.then(function(value){invokeCallback(callback,null,value)},function(err){invokeCallback(callback,err.message?err:new Error(err))})}else{callback(null,result)}})}function invokeCallback(callback,error,value){try{callback(error,value)}catch(e){setImmediate$1(rethrow,e)}}function rethrow(error){throw error}var supportsSymbol=typeof Symbol==="function";function isAsync(fn){return supportsSymbol&&fn[Symbol.toStringTag]==="AsyncFunction"}function wrapAsync(asyncFn){return isAsync(asyncFn)?asyncify(asyncFn):asyncFn}function applyEach$1(eachfn){return function(fns){var args=slice(arguments,1);var go=initialParams(function(args,callback){var that=this;return eachfn(fns,function(fn,cb){wrapAsync(fn).apply(that,args.concat(cb))},callback)});if(args.length){return go.apply(this,args)}else{return go}}}var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function("return this")();var Symbol$1=root.Symbol;var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var nativeObjectToString=objectProto.toString;var symToStringTag$1=Symbol$1?Symbol$1.toStringTag:undefined;function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag$1),tag=value[symToStringTag$1];try{value[symToStringTag$1]=undefined;var unmasked=true}catch(e){}var result=nativeObjectToString.call(value);if(unmasked){if(isOwn){value[symToStringTag$1]=tag}else{delete value[symToStringTag$1]}}return result}var objectProto$1=Object.prototype;var nativeObjectToString$1=objectProto$1.toString;function objectToString(value){return nativeObjectToString$1.call(value)}var nullTag="[object Null]";var undefinedTag="[object Undefined]";var symToStringTag=Symbol$1?Symbol$1.toStringTag:undefined;function baseGetTag(value){if(value==null){return value===undefined?undefinedTag:nullTag}return symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}var asyncTag="[object AsyncFunction]";var funcTag="[object Function]";var genTag="[object GeneratorFunction]";var proxyTag="[object Proxy]";function isFunction(value){if(!isObject(value)){return false}var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}var MAX_SAFE_INTEGER=9007199254740991;function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value)}var breakLoop={};function noop(){}function once(fn){return function(){if(fn===null)return;var callFn=fn;fn=null;callFn.apply(this,arguments)}}var iteratorSymbol=typeof Symbol==="function"&&Symbol.iterator;var getIterator=function(coll){return iteratorSymbol&&coll[iteratorSymbol]&&coll[iteratorSymbol]()};function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index)}return result}function isObjectLike(value){return value!=null&&typeof value=="object"}var argsTag="[object Arguments]";function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}var objectProto$3=Object.prototype;var hasOwnProperty$2=objectProto$3.hasOwnProperty;var propertyIsEnumerable=objectProto$3.propertyIsEnumerable;var isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty$2.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};var isArray=Array.isArray;function stubFalse(){return false}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var Buffer=moduleExports?root.Buffer:undefined;var nativeIsBuffer=Buffer?Buffer.isBuffer:undefined;var isBuffer=nativeIsBuffer||stubFalse;var MAX_SAFE_INTEGER$1=9007199254740991;var reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(value,length){var type=typeof value;length=length==null?MAX_SAFE_INTEGER$1:length;return!!length&&(type=="number"||type!="symbol"&&reIsUint.test(value))&&(value>-1&&value%1==0&&value<length)}var argsTag$1="[object Arguments]";var arrayTag="[object Array]";var boolTag="[object Boolean]";var dateTag="[object Date]";var errorTag="[object Error]";var funcTag$1="[object Function]";var mapTag="[object Map]";var numberTag="[object Number]";var objectTag="[object Object]";var regexpTag="[object RegExp]";var setTag="[object Set]";var stringTag="[object String]";var weakMapTag="[object WeakMap]";var arrayBufferTag="[object ArrayBuffer]";var dataViewTag="[object DataView]";var float32Tag="[object Float32Array]";var float64Tag="[object Float64Array]";var int8Tag="[object Int8Array]";var int16Tag="[object Int16Array]";var int32Tag="[object Int32Array]";var uint8Tag="[object Uint8Array]";var uint8ClampedTag="[object Uint8ClampedArray]";var uint16Tag="[object Uint16Array]";var uint32Tag="[object Uint32Array]";var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}function baseUnary(func){return function(value){return func(value)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module;var moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1;var freeProcess=moduleExports$1&&freeGlobal.process;var nodeUtil=function(){try{var types=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;if(types){return types}return freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();var nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;var objectProto$2=Object.prototype;var hasOwnProperty$1=objectProto$2.hasOwnProperty;function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value){if((inherited||hasOwnProperty$1.call(value,key))&&!(skipIndexes&&(key=="length"||isBuff&&(key=="offset"||key=="parent")||isType&&(key=="buffer"||key=="byteLength"||key=="byteOffset")||isIndex(key,length)))){result.push(key)}}return result}var objectProto$5=Object.prototype;function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto$5;return value===proto}function overArg(func,transform){return function(arg){return func(transform(arg))}}var nativeKeys=overArg(Object.keys,Object);var objectProto$4=Object.prototype;var hasOwnProperty$3=objectProto$4.hasOwnProperty;function baseKeys(object){if(!isPrototype(object)){return nativeKeys(object)}var result=[];for(var key in Object(object)){if(hasOwnProperty$3.call(object,key)&&key!="constructor"){result.push(key)}}return result}function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function createArrayIterator(coll){var i=-1;var len=coll.length;return function next(){return++i<len?{value:coll[i],key:i}:null}}function createES2015Iterator(iterator){var i=-1;return function next(){var item=iterator.next();if(item.done)return null;i++;return{value:item.value,key:i}}}function createObjectIterator(obj){var okeys=keys(obj);var i=-1;var len=okeys.length;return function next(){var key=okeys[++i];if(key==="__proto__"){return next()}return i<len?{value:obj[key],key:key}:null}}function iterator(coll){if(isArrayLike(coll)){return createArrayIterator(coll)}var iterator=getIterator(coll);return iterator?createES2015Iterator(iterator):createObjectIterator(coll)}function onlyOnce(fn){return function(){if(fn===null)throw new Error("Callback was already called.");var callFn=fn;fn=null;callFn.apply(this,arguments)}}function _eachOfLimit(limit){return function(obj,iteratee,callback){callback=once(callback||noop);if(limit<=0||!obj){return callback(null)}var nextElem=iterator(obj);var done=false;var running=0;var looping=false;function iterateeCallback(err,value){running-=1;if(err){done=true;callback(err)}else if(value===breakLoop||done&&running<=0){done=true;return callback(null)}else if(!looping){replenish()}}function replenish(){looping=true;while(running<limit&&!done){var elem=nextElem();if(elem===null){done=true;if(running<=0){callback(null)}return}running+=1;iteratee(elem.value,elem.key,onlyOnce(iterateeCallback))}looping=false}replenish()}}function eachOfLimit(coll,limit,iteratee,callback){_eachOfLimit(limit)(coll,wrapAsync(iteratee),callback)}function doLimit(fn,limit){return function(iterable,iteratee,callback){return fn(iterable,limit,iteratee,callback)}}function eachOfArrayLike(coll,iteratee,callback){callback=once(callback||noop);var index=0,completed=0,length=coll.length;if(length===0){callback(null)}function iteratorCallback(err,value){if(err){callback(err)}else if(++completed===length||value===breakLoop){callback(null)}}for(;index<length;index++){iteratee(coll[index],index,onlyOnce(iteratorCallback))}}var eachOfGeneric=doLimit(eachOfLimit,Infinity);var eachOf=function(coll,iteratee,callback){var eachOfImplementation=isArrayLike(coll)?eachOfArrayLike:eachOfGeneric;eachOfImplementation(coll,wrapAsync(iteratee),callback)};function doParallel(fn){return function(obj,iteratee,callback){return fn(eachOf,obj,wrapAsync(iteratee),callback)}}function _asyncMap(eachfn,arr,iteratee,callback){callback=callback||noop;arr=arr||[];var results=[];var counter=0;var _iteratee=wrapAsync(iteratee);eachfn(arr,function(value,_,callback){var index=counter++;_iteratee(value,function(err,v){results[index]=v;callback(err)})},function(err){callback(err,results)})}var map=doParallel(_asyncMap);var applyEach=applyEach$1(map);function doParallelLimit(fn){return function(obj,limit,iteratee,callback){return fn(_eachOfLimit(limit),obj,wrapAsync(iteratee),callback)}}var mapLimit=doParallelLimit(_asyncMap);var mapSeries=doLimit(mapLimit,1);var applyEachSeries=applyEach$1(mapSeries);function arrayEach(array,iteratee){var index=-1,length=array==null?0:array.length;while(++index<length){if(iteratee(array[index],index,array)===false){break}}return array}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;while(length--){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===false){break}}return object}}var baseFor=createBaseFor();function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseFindIndex(array,predicate,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?1:-1);while(fromRight?index--:++index<length){if(predicate(array[index],index,array)){return index}}return-1}function baseIsNaN(value){return value!==value}function strictIndexOf(array,value,fromIndex){var index=fromIndex-1,length=array.length;while(++index<length){if(array[index]===value){return index}}return-1}function baseIndexOf(array,value,fromIndex){return value===value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}var auto=function(tasks,concurrency,callback){if(typeof concurrency==="function"){callback=concurrency;concurrency=null}callback=once(callback||noop);var keys$$1=keys(tasks);var numTasks=keys$$1.length;if(!numTasks){return callback(null)}if(!concurrency){concurrency=numTasks}var results={};var runningTasks=0;var hasError=false;var listeners=Object.create(null);var readyTasks=[];var readyToCheck=[];var uncheckedDependencies={};baseForOwn(tasks,function(task,key){if(!isArray(task)){enqueueTask(key,[task]);readyToCheck.push(key);return}var dependencies=task.slice(0,task.length-1);var remainingDependencies=dependencies.length;if(remainingDependencies===0){enqueueTask(key,task);readyToCheck.push(key);return}uncheckedDependencies[key]=remainingDependencies;arrayEach(dependencies,function(dependencyName){if(!tasks[dependencyName]){throw new Error("async.auto task `"+key+"` has a non-existent dependency `"+dependencyName+"` in "+dependencies.join(", "))}addListener(dependencyName,function(){remainingDependencies--;if(remainingDependencies===0){enqueueTask(key,task)}})})});checkForDeadlocks();processQueue();function enqueueTask(key,task){readyTasks.push(function(){runTask(key,task)})}function processQueue(){if(readyTasks.length===0&&runningTasks===0){return callback(null,results)}while(readyTasks.length&&runningTasks<concurrency){var run=readyTasks.shift();run()}}function addListener(taskName,fn){var taskListeners=listeners[taskName];if(!taskListeners){taskListeners=listeners[taskName]=[]}taskListeners.push(fn)}function taskComplete(taskName){var taskListeners=listeners[taskName]||[];arrayEach(taskListeners,function(fn){fn()});processQueue()}function runTask(key,task){if(hasError)return;var taskCallback=onlyOnce(function(err,result){runningTasks--;if(arguments.length>2){result=slice(arguments,1)}if(err){var safeResults={};baseForOwn(results,function(val,rkey){safeResults[rkey]=val});safeResults[key]=result;hasError=true;listeners=Object.create(null);callback(err,safeResults)}else{results[key]=result;taskComplete(key)}});runningTasks++;var taskFn=wrapAsync(task[task.length-1]);if(task.length>1){taskFn(results,taskCallback)}else{taskFn(taskCallback)}}function checkForDeadlocks(){var currentTask;var counter=0;while(readyToCheck.length){currentTask=readyToCheck.pop();counter++;arrayEach(getDependents(currentTask),function(dependent){if(--uncheckedDependencies[dependent]===0){readyToCheck.push(dependent)}})}if(counter!==numTasks){throw new Error("async.auto cannot execute tasks due to a recursive dependency")}}function getDependents(taskName){var result=[];baseForOwn(tasks,function(task,key){if(isArray(task)&&baseIndexOf(task,taskName,0)>=0){result.push(key)}});return result}};function arrayMap(array,iteratee){var index=-1,length=array==null?0:array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array)}return result}var symbolTag="[object Symbol]";function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&baseGetTag(value)==symbolTag}var INFINITY=1/0;var symbolProto=Symbol$1?Symbol$1.prototype:undefined;var symbolToString=symbolProto?symbolProto.toString:undefined;function baseToString(value){if(typeof value=="string"){return value}if(isArray(value)){return arrayMap(value,baseToString)+""}if(isSymbol(value)){return symbolToString?symbolToString.call(value):""}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}function baseSlice(array,start,end){var index=-1,length=array.length;if(start<0){start=-start>length?0:length+start}end=end>length?length:end;if(end<0){end+=length}length=start>end?0:end-start>>>0;start>>>=0;var result=Array(length);while(++index<length){result[index]=array[index+start]}return result}function castSlice(array,start,end){var length=array.length;end=end===undefined?length:end;return!start&&end>=length?array:baseSlice(array,start,end)}function charsEndIndex(strSymbols,chrSymbols){var index=strSymbols.length;while(index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index}function charsStartIndex(strSymbols,chrSymbols){var index=-1,length=strSymbols.length;while(++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index}function asciiToArray(string){return string.split("")}var rsAstralRange="\\ud800-\\udfff";var rsComboMarksRange="\\u0300-\\u036f";var reComboHalfMarksRange="\\ufe20-\\ufe2f";var rsComboSymbolsRange="\\u20d0-\\u20ff";var rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange;var rsVarRange="\\ufe0e\\ufe0f";var rsZWJ="\\u200d";var reHasUnicode=RegExp("["+rsZWJ+rsAstralRange+rsComboRange+rsVarRange+"]");function hasUnicode(string){return reHasUnicode.test(string)}var rsAstralRange$1="\\ud800-\\udfff";var rsComboMarksRange$1="\\u0300-\\u036f";var reComboHalfMarksRange$1="\\ufe20-\\ufe2f";var rsComboSymbolsRange$1="\\u20d0-\\u20ff";var rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1;var rsVarRange$1="\\ufe0e\\ufe0f";var rsAstral="["+rsAstralRange$1+"]";var rsCombo="["+rsComboRange$1+"]";var rsFitz="\\ud83c[\\udffb-\\udfff]";var rsModifier="(?:"+rsCombo+"|"+rsFitz+")";var rsNonAstral="[^"+rsAstralRange$1+"]";var rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}";var rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]";var rsZWJ$1="\\u200d";var reOptMod=rsModifier+"?";var rsOptVar="["+rsVarRange$1+"]?";var rsOptJoin="(?:"+rsZWJ$1+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*";var rsSeq=rsOptVar+reOptMod+rsOptJoin;var rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")";var reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray(string){return string.match(reUnicode)||[]}function stringToArray(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}function toString(value){return value==null?"":baseToString(value)}var reTrim=/^\s+|\s+$/g;function trim(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.replace(reTrim,"")}if(!string||!(chars=baseToString(chars))){return string}var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars),start=charsStartIndex(strSymbols,chrSymbols),end=charsEndIndex(strSymbols,chrSymbols)+1;return castSlice(strSymbols,start,end).join("")}var FN_ARGS=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m;var FN_ARG_SPLIT=/,/;var FN_ARG=/(=.+)?(\s*)$/;var STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function parseParams(func){func=func.toString().replace(STRIP_COMMENTS,"");func=func.match(FN_ARGS)[2].replace(" ","");func=func?func.split(FN_ARG_SPLIT):[];func=func.map(function(arg){return trim(arg.replace(FN_ARG,""))});return func}function autoInject(tasks,callback){var newTasks={};baseForOwn(tasks,function(taskFn,key){var params;var fnIsAsync=isAsync(taskFn);var hasNoDeps=!fnIsAsync&&taskFn.length===1||fnIsAsync&&taskFn.length===0;if(isArray(taskFn)){params=taskFn.slice(0,-1);taskFn=taskFn[taskFn.length-1];newTasks[key]=params.concat(params.length>0?newTask:taskFn)}else if(hasNoDeps){newTasks[key]=taskFn}else{params=parseParams(taskFn);if(taskFn.length===0&&!fnIsAsync&&params.length===0){throw new Error("autoInject task functions require explicit parameters.")}if(!fnIsAsync)params.pop();newTasks[key]=params.concat(newTask)}function newTask(results,taskCb){var newArgs=arrayMap(params,function(name){return results[name]});newArgs.push(taskCb);wrapAsync(taskFn).apply(null,newArgs)}});auto(newTasks,callback)}function DLL(){this.head=this.tail=null;this.length=0}function setInitial(dll,node){dll.length=1;dll.head=dll.tail=node}DLL.prototype.removeLink=function(node){if(node.prev)node.prev.next=node.next;else this.head=node.next;if(node.next)node.next.prev=node.prev;else this.tail=node.prev;node.prev=node.next=null;this.length-=1;return node};DLL.prototype.empty=function(){while(this.head)this.shift();return this};DLL.prototype.insertAfter=function(node,newNode){newNode.prev=node;newNode.next=node.next;if(node.next)node.next.prev=newNode;else this.tail=newNode;node.next=newNode;this.length+=1};DLL.prototype.insertBefore=function(node,newNode){newNode.prev=node.prev;newNode.next=node;if(node.prev)node.prev.next=newNode;else this.head=newNode;node.prev=newNode;this.length+=1};DLL.prototype.unshift=function(node){if(this.head)this.insertBefore(this.head,node);else setInitial(this,node)};DLL.prototype.push=function(node){if(this.tail)this.insertAfter(this.tail,node);else setInitial(this,node)};DLL.prototype.shift=function(){return this.head&&this.removeLink(this.head)};DLL.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)};DLL.prototype.toArray=function(){var arr=Array(this.length);var curr=this.head;for(var idx=0;idx<this.length;idx++){arr[idx]=curr.data;curr=curr.next}return arr};DLL.prototype.remove=function(testFn){var curr=this.head;while(!!curr){var next=curr.next;if(testFn(curr)){this.removeLink(curr)}curr=next}return this};function queue(worker,concurrency,payload){if(concurrency==null){concurrency=1}else if(concurrency===0){throw new Error("Concurrency must not be zero")}var _worker=wrapAsync(worker);var numRunning=0;var workersList=[];var processingScheduled=false;function _insert(data,insertAtFront,callback){if(callback!=null&&typeof callback!=="function"){throw new Error("task callback must be a function")}q.started=true;if(!isArray(data)){data=[data]}if(data.length===0&&q.idle()){return setImmediate$1(function(){q.drain()})}for(var i=0,l=data.length;i<l;i++){var item={data:data[i],callback:callback||noop};if(insertAtFront){q._tasks.unshift(item)}else{q._tasks.push(item)}}if(!processingScheduled){processingScheduled=true;setImmediate$1(function(){processingScheduled=false;q.process()})}}function _next(tasks){return function(err){numRunning-=1;for(var i=0,l=tasks.length;i<l;i++){var task=tasks[i];var index=baseIndexOf(workersList,task,0);if(index===0){workersList.shift()}else if(index>0){workersList.splice(index,1)}task.callback.apply(task,arguments);if(err!=null){q.error(err,task.data)}}if(numRunning<=q.concurrency-q.buffer){q.unsaturated()}if(q.idle()){q.drain()}q.process()}}var isProcessing=false;var q={_tasks:new DLL,concurrency:concurrency,payload:payload,saturated:noop,unsaturated:noop,buffer:concurrency/4,empty:noop,drain:noop,error:noop,started:false,paused:false,push:function(data,callback){_insert(data,false,callback)},kill:function(){q.drain=noop;q._tasks.empty()},unshift:function(data,callback){_insert(data,true,callback)},remove:function(testFn){q._tasks.remove(testFn)},process:function(){if(isProcessing){return}isProcessing=true;while(!q.paused&&numRunning<q.concurrency&&q._tasks.length){var tasks=[],data=[];var l=q._tasks.length;if(q.payload)l=Math.min(l,q.payload);for(var i=0;i<l;i++){var node=q._tasks.shift();tasks.push(node);workersList.push(node);data.push(node.data)}numRunning+=1;if(q._tasks.length===0){q.empty()}if(numRunning===q.concurrency){q.saturated()}var cb=onlyOnce(_next(tasks));_worker(data,cb)}isProcessing=false},length:function(){return q._tasks.length},running:function(){return numRunning},workersList:function(){return workersList},idle:function(){return q._tasks.length+numRunning===0},pause:function(){q.paused=true},resume:function(){if(q.paused===false){return}q.paused=false;setImmediate$1(q.process)}};return q}function cargo(worker,payload){return queue(worker,1,payload)}var eachOfSeries=doLimit(eachOfLimit,1);function reduce(coll,memo,iteratee,callback){callback=once(callback||noop);var _iteratee=wrapAsync(iteratee);eachOfSeries(coll,function(x,i,callback){_iteratee(memo,x,function(err,v){memo=v;callback(err)})},function(err){callback(err,memo)})}function seq(){var _functions=arrayMap(arguments,wrapAsync);return function(){var args=slice(arguments);var that=this;var cb=args[args.length-1];if(typeof cb=="function"){args.pop()}else{cb=noop}reduce(_functions,args,function(newargs,fn,cb){fn.apply(that,newargs.concat(function(err){var nextargs=slice(arguments,1);cb(err,nextargs)}))},function(err,results){cb.apply(that,[err].concat(results))})}}var compose=function(){return seq.apply(null,slice(arguments).reverse())};var _concat=Array.prototype.concat;var concatLimit=function(coll,limit,iteratee,callback){callback=callback||noop;var _iteratee=wrapAsync(iteratee);mapLimit(coll,limit,function(val,callback){_iteratee(val,function(err){if(err)return callback(err);return callback(null,slice(arguments,1))})},function(err,mapResults){var result=[];for(var i=0;i<mapResults.length;i++){if(mapResults[i]){result=_concat.apply(result,mapResults[i])}}return callback(err,result)})};var concat=doLimit(concatLimit,Infinity);var concatSeries=doLimit(concatLimit,1);var constant=function(){var values=slice(arguments);var args=[null].concat(values);return function(){var callback=arguments[arguments.length-1];return callback.apply(this,args)}};function identity(value){return value}function _createTester(check,getResult){return function(eachfn,arr,iteratee,cb){cb=cb||noop;var testPassed=false;var testResult;eachfn(arr,function(value,_,callback){iteratee(value,function(err,result){if(err){callback(err)}else if(check(result)&&!testResult){testPassed=true;testResult=getResult(true,value);callback(null,breakLoop)}else{callback()}})},function(err){if(err){cb(err)}else{cb(null,testPassed?testResult:getResult(false))}})}}function _findGetResult(v,x){return x}var detect=doParallel(_createTester(identity,_findGetResult));var detectLimit=doParallelLimit(_createTester(identity,_findGetResult));var detectSeries=doLimit(detectLimit,1);function consoleFunc(name){return function(fn){var args=slice(arguments,1);args.push(function(err){var args=slice(arguments,1);if(typeof console==="object"){if(err){if(console.error){console.error(err)}}else if(console[name]){arrayEach(args,function(x){console[name](x)})}}});wrapAsync(fn).apply(null,args)}}var dir=consoleFunc("dir");function doDuring(fn,test,callback){callback=onlyOnce(callback||noop);var _fn=wrapAsync(fn);var _test=wrapAsync(test);function next(err){if(err)return callback(err);var args=slice(arguments,1);args.push(check);_test.apply(this,args)}function check(err,truth){if(err)return callback(err);if(!truth)return callback(null);_fn(next)}check(null,true)}function doWhilst(iteratee,test,callback){callback=onlyOnce(callback||noop);var _iteratee=wrapAsync(iteratee);var next=function(err){if(err)return callback(err);var args=slice(arguments,1);if(test.apply(this,args))return _iteratee(next);callback.apply(null,[null].concat(args))};_iteratee(next)}function doUntil(iteratee,test,callback){doWhilst(iteratee,function(){return!test.apply(this,arguments)},callback)}function during(test,fn,callback){callback=onlyOnce(callback||noop);var _fn=wrapAsync(fn);var _test=wrapAsync(test);function next(err){if(err)return callback(err);_test(check)}function check(err,truth){if(err)return callback(err);if(!truth)return callback(null);_fn(next)}_test(check)}function _withoutIndex(iteratee){return function(value,index,callback){return iteratee(value,callback)}}function eachLimit(coll,iteratee,callback){eachOf(coll,_withoutIndex(wrapAsync(iteratee)),callback)}function eachLimit$1(coll,limit,iteratee,callback){_eachOfLimit(limit)(coll,_withoutIndex(wrapAsync(iteratee)),callback)}var eachSeries=doLimit(eachLimit$1,1);function ensureAsync(fn){if(isAsync(fn))return fn;return initialParams(function(args,callback){var sync=true;args.push(function(){var innerArgs=arguments;if(sync){setImmediate$1(function(){callback.apply(null,innerArgs)})}else{callback.apply(null,innerArgs)}});fn.apply(this,args);sync=false})}function notId(v){return!v}var every=doParallel(_createTester(notId,notId));var everyLimit=doParallelLimit(_createTester(notId,notId));var everySeries=doLimit(everyLimit,1);function baseProperty(key){return function(object){return object==null?undefined:object[key]}}function filterArray(eachfn,arr,iteratee,callback){var truthValues=new Array(arr.length);eachfn(arr,function(x,index,callback){iteratee(x,function(err,v){truthValues[index]=!!v;callback(err)})},function(err){if(err)return callback(err);var results=[];for(var i=0;i<arr.length;i++){if(truthValues[i])results.push(arr[i])}callback(null,results)})}function filterGeneric(eachfn,coll,iteratee,callback){var results=[];eachfn(coll,function(x,index,callback){iteratee(x,function(err,v){if(err){callback(err)}else{if(v){results.push({index:index,value:x})}callback()}})},function(err){if(err){callback(err)}else{callback(null,arrayMap(results.sort(function(a,b){return a.index-b.index}),baseProperty("value")))}})}function _filter(eachfn,coll,iteratee,callback){var filter=isArrayLike(coll)?filterArray:filterGeneric;filter(eachfn,coll,wrapAsync(iteratee),callback||noop)}var filter=doParallel(_filter);var filterLimit=doParallelLimit(_filter);var filterSeries=doLimit(filterLimit,1);function forever(fn,errback){var done=onlyOnce(errback||noop);var task=wrapAsync(ensureAsync(fn));function next(err){if(err)return done(err);task(next)}next()}var groupByLimit=function(coll,limit,iteratee,callback){callback=callback||noop;var _iteratee=wrapAsync(iteratee);mapLimit(coll,limit,function(val,callback){_iteratee(val,function(err,key){if(err)return callback(err);return callback(null,{key:key,val:val})})},function(err,mapResults){var result={};var hasOwnProperty=Object.prototype.hasOwnProperty;for(var i=0;i<mapResults.length;i++){if(mapResults[i]){var key=mapResults[i].key;var val=mapResults[i].val;if(hasOwnProperty.call(result,key)){result[key].push(val)}else{result[key]=[val]}}}return callback(err,result)})};var groupBy=doLimit(groupByLimit,Infinity);var groupBySeries=doLimit(groupByLimit,1);var log=consoleFunc("log");function mapValuesLimit(obj,limit,iteratee,callback){callback=once(callback||noop);var newObj={};var _iteratee=wrapAsync(iteratee);eachOfLimit(obj,limit,function(val,key,next){_iteratee(val,key,function(err,result){if(err)return next(err);newObj[key]=result;next()})},function(err){callback(err,newObj)})}var mapValues=doLimit(mapValuesLimit,Infinity);var mapValuesSeries=doLimit(mapValuesLimit,1);function has(obj,key){return key in obj}function memoize(fn,hasher){var memo=Object.create(null);var queues=Object.create(null);hasher=hasher||identity;var _fn=wrapAsync(fn);var memoized=initialParams(function memoized(args,callback){var key=hasher.apply(null,args);if(has(memo,key)){setImmediate$1(function(){callback.apply(null,memo[key])})}else if(has(queues,key)){queues[key].push(callback)}else{queues[key]=[callback];_fn.apply(null,args.concat(function(){var args=slice(arguments);memo[key]=args;var q=queues[key];delete queues[key];for(var i=0,l=q.length;i<l;i++){q[i].apply(null,args)}}))}});memoized.memo=memo;memoized.unmemoized=fn;return memoized}var _defer$1;if(hasNextTick){_defer$1=process.nextTick}else if(hasSetImmediate){_defer$1=setImmediate}else{_defer$1=fallback}var nextTick=wrap(_defer$1);function _parallel(eachfn,tasks,callback){callback=callback||noop;var results=isArrayLike(tasks)?[]:{};eachfn(tasks,function(task,key,callback){wrapAsync(task)(function(err,result){if(arguments.length>2){result=slice(arguments,1)}results[key]=result;callback(err)})},function(err){callback(err,results)})}function parallelLimit(tasks,callback){_parallel(eachOf,tasks,callback)}function parallelLimit$1(tasks,limit,callback){_parallel(_eachOfLimit(limit),tasks,callback)}var queue$1=function(worker,concurrency){var _worker=wrapAsync(worker);return queue(function(items,cb){_worker(items[0],cb)},concurrency,1)};var priorityQueue=function(worker,concurrency){var q=queue$1(worker,concurrency);q.push=function(data,priority,callback){if(callback==null)callback=noop;if(typeof callback!=="function"){throw new Error("task callback must be a function")}q.started=true;if(!isArray(data)){data=[data]}if(data.length===0){return setImmediate$1(function(){q.drain()})}priority=priority||0;var nextNode=q._tasks.head;while(nextNode&&priority>=nextNode.priority){nextNode=nextNode.next}for(var i=0,l=data.length;i<l;i++){var item={data:data[i],priority:priority,callback:callback};if(nextNode){q._tasks.insertBefore(nextNode,item)}else{q._tasks.push(item)}}setImmediate$1(q.process)};delete q.unshift;return q};function race(tasks,callback){callback=once(callback||noop);if(!isArray(tasks))return callback(new TypeError("First argument to race must be an array of functions"));if(!tasks.length)return callback();for(var i=0,l=tasks.length;i<l;i++){wrapAsync(tasks[i])(callback)}}function reduceRight(array,memo,iteratee,callback){var reversed=slice(array).reverse();reduce(reversed,memo,iteratee,callback)}function reflect(fn){var _fn=wrapAsync(fn);return initialParams(function reflectOn(args,reflectCallback){args.push(function callback(error,cbArg){if(error){reflectCallback(null,{error:error})}else{var value;if(arguments.length<=2){value=cbArg}else{value=slice(arguments,1)}reflectCallback(null,{value:value})}});return _fn.apply(this,args)})}function reflectAll(tasks){var results;if(isArray(tasks)){results=arrayMap(tasks,reflect)}else{results={};baseForOwn(tasks,function(task,key){results[key]=reflect.call(this,task)})}return results}function reject$1(eachfn,arr,iteratee,callback){_filter(eachfn,arr,function(value,cb){iteratee(value,function(err,v){cb(err,!v)})},callback)}var reject=doParallel(reject$1);var rejectLimit=doParallelLimit(reject$1);var rejectSeries=doLimit(rejectLimit,1);function constant$1(value){return function(){return value}}function retry(opts,task,callback){var DEFAULT_TIMES=5;var DEFAULT_INTERVAL=0;var options={times:DEFAULT_TIMES,intervalFunc:constant$1(DEFAULT_INTERVAL)};function parseTimes(acc,t){if(typeof t==="object"){acc.times=+t.times||DEFAULT_TIMES;acc.intervalFunc=typeof t.interval==="function"?t.interval:constant$1(+t.interval||DEFAULT_INTERVAL);acc.errorFilter=t.errorFilter}else if(typeof t==="number"||typeof t==="string"){acc.times=+t||DEFAULT_TIMES}else{throw new Error("Invalid arguments for async.retry")}}if(arguments.length<3&&typeof opts==="function"){callback=task||noop;task=opts}else{parseTimes(options,opts);callback=callback||noop}if(typeof task!=="function"){throw new Error("Invalid arguments for async.retry")}var _task=wrapAsync(task);var attempt=1;function retryAttempt(){_task(function(err){if(err&&attempt++<options.times&&(typeof options.errorFilter!="function"||options.errorFilter(err))){setTimeout(retryAttempt,options.intervalFunc(attempt))}else{callback.apply(null,arguments)}})}retryAttempt()}var retryable=function(opts,task){if(!task){task=opts;opts=null}var _task=wrapAsync(task);return initialParams(function(args,callback){function taskFn(cb){_task.apply(null,args.concat(cb))}if(opts)retry(opts,taskFn,callback);else retry(taskFn,callback)})};function series(tasks,callback){_parallel(eachOfSeries,tasks,callback)}var some=doParallel(_createTester(Boolean,identity));var someLimit=doParallelLimit(_createTester(Boolean,identity));var someSeries=doLimit(someLimit,1);function sortBy(coll,iteratee,callback){var _iteratee=wrapAsync(iteratee);map(coll,function(x,callback){_iteratee(x,function(err,criteria){if(err)return callback(err);callback(null,{value:x,criteria:criteria})})},function(err,results){if(err)return callback(err);callback(null,arrayMap(results.sort(comparator),baseProperty("value")))});function comparator(left,right){var a=left.criteria,b=right.criteria;return a<b?-1:a>b?1:0}}function timeout(asyncFn,milliseconds,info){var fn=wrapAsync(asyncFn);return initialParams(function(args,callback){var timedOut=false;var timer;function timeoutCallback(){var name=asyncFn.name||"anonymous";var error=new Error('Callback function "'+name+'" timed out.');error.code="ETIMEDOUT";if(info){error.info=info}timedOut=true;callback(error)}args.push(function(){if(!timedOut){callback.apply(null,arguments);clearTimeout(timer)}});timer=setTimeout(timeoutCallback,milliseconds);fn.apply(null,args)})}var nativeCeil=Math.ceil;var nativeMax=Math.max;function baseRange(start,end,step,fromRight){var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);while(length--){result[fromRight?length:++index]=start;start+=step}return result}function timeLimit(count,limit,iteratee,callback){var _iteratee=wrapAsync(iteratee);mapLimit(baseRange(0,count,1),limit,_iteratee,callback)}var times=doLimit(timeLimit,Infinity);var timesSeries=doLimit(timeLimit,1);function transform(coll,accumulator,iteratee,callback){if(arguments.length<=3){callback=iteratee;iteratee=accumulator;accumulator=isArray(coll)?[]:{}}callback=once(callback||noop);var _iteratee=wrapAsync(iteratee);eachOf(coll,function(v,k,cb){_iteratee(accumulator,v,k,cb)},function(err){callback(err,accumulator)})}function tryEach(tasks,callback){var error=null;var result;callback=callback||noop;eachSeries(tasks,function(task,callback){wrapAsync(task)(function(err,res){if(arguments.length>2){result=slice(arguments,1)}else{result=res}error=err;callback(!err)})},function(){callback(error,result)})}function unmemoize(fn){return function(){return(fn.unmemoized||fn).apply(null,arguments)}}function whilst(test,iteratee,callback){callback=onlyOnce(callback||noop);var _iteratee=wrapAsync(iteratee);if(!test())return callback(null);var next=function(err){if(err)return callback(err);if(test())return _iteratee(next);var args=slice(arguments,1);callback.apply(null,[null].concat(args))};_iteratee(next)}function until(test,iteratee,callback){whilst(function(){return!test.apply(this,arguments)},iteratee,callback)}var waterfall=function(tasks,callback){callback=once(callback||noop);if(!isArray(tasks))return callback(new Error("First argument to waterfall must be an array of functions"));if(!tasks.length)return callback();var taskIndex=0;function nextTask(args){var task=wrapAsync(tasks[taskIndex++]);args.push(onlyOnce(next));task.apply(null,args)}function next(err){if(err||taskIndex===tasks.length){return callback.apply(null,arguments)}nextTask(slice(arguments,1))}nextTask([])};var index={apply:apply,applyEach:applyEach,applyEachSeries:applyEachSeries,asyncify:asyncify,auto:auto,autoInject:autoInject,cargo:cargo,compose:compose,concat:concat,concatLimit:concatLimit,concatSeries:concatSeries,constant:constant,detect:detect,detectLimit:detectLimit,detectSeries:detectSeries,dir:dir,doDuring:doDuring,doUntil:doUntil,doWhilst:doWhilst,during:during,each:eachLimit,eachLimit:eachLimit$1,eachOf:eachOf,eachOfLimit:eachOfLimit,eachOfSeries:eachOfSeries,eachSeries:eachSeries,ensureAsync:ensureAsync,every:every,everyLimit:everyLimit,everySeries:everySeries,filter:filter,filterLimit:filterLimit,filterSeries:filterSeries,forever:forever,groupBy:groupBy,groupByLimit:groupByLimit,groupBySeries:groupBySeries,log:log,map:map,mapLimit:mapLimit,mapSeries:mapSeries,mapValues:mapValues,mapValuesLimit:mapValuesLimit,mapValuesSeries:mapValuesSeries,memoize:memoize,nextTick:nextTick,parallel:parallelLimit,parallelLimit:parallelLimit$1,priorityQueue:priorityQueue,queue:queue$1,race:race,reduce:reduce,reduceRight:reduceRight,reflect:reflect,reflectAll:reflectAll,reject:reject,rejectLimit:rejectLimit,rejectSeries:rejectSeries,retry:retry,retryable:retryable,seq:seq,series:series,setImmediate:setImmediate$1,some:some,someLimit:someLimit,someSeries:someSeries,sortBy:sortBy,timeout:timeout,times:times,timesLimit:timeLimit,timesSeries:timesSeries,transform:transform,tryEach:tryEach,unmemoize:unmemoize,until:until,waterfall:waterfall,whilst:whilst,all:every,allLimit:everyLimit,allSeries:everySeries,any:some,anyLimit:someLimit,anySeries:someSeries,find:detect,findLimit:detectLimit,findSeries:detectSeries,forEach:eachLimit,forEachSeries:eachSeries,forEachLimit:eachLimit$1,forEachOf:eachOf,forEachOfSeries:eachOfSeries,forEachOfLimit:eachOfLimit,inject:reduce,foldl:reduce,foldr:reduceRight,select:filter,selectLimit:filterLimit,selectSeries:filterSeries,wrapSync:asyncify};exports["default"]=index;exports.apply=apply;exports.applyEach=applyEach;exports.applyEachSeries=applyEachSeries;exports.asyncify=asyncify;exports.auto=auto;exports.autoInject=autoInject;exports.cargo=cargo;exports.compose=compose;exports.concat=concat;exports.concatLimit=concatLimit;exports.concatSeries=concatSeries;exports.constant=constant;exports.detect=detect;exports.detectLimit=detectLimit;exports.detectSeries=detectSeries;exports.dir=dir;exports.doDuring=doDuring;exports.doUntil=doUntil;exports.doWhilst=doWhilst;exports.during=during;exports.each=eachLimit;exports.eachLimit=eachLimit$1;exports.eachOf=eachOf;exports.eachOfLimit=eachOfLimit;exports.eachOfSeries=eachOfSeries;exports.eachSeries=eachSeries;exports.ensureAsync=ensureAsync;exports.every=every;exports.everyLimit=everyLimit;exports.everySeries=everySeries;exports.filter=filter;exports.filterLimit=filterLimit;exports.filterSeries=filterSeries;exports.forever=forever;exports.groupBy=groupBy;exports.groupByLimit=groupByLimit;exports.groupBySeries=groupBySeries;exports.log=log;exports.map=map;exports.mapLimit=mapLimit;exports.mapSeries=mapSeries;exports.mapValues=mapValues;exports.mapValuesLimit=mapValuesLimit;exports.mapValuesSeries=mapValuesSeries;exports.memoize=memoize;exports.nextTick=nextTick;exports.parallel=parallelLimit;exports.parallelLimit=parallelLimit$1;exports.priorityQueue=priorityQueue;exports.queue=queue$1;exports.race=race;exports.reduce=reduce;exports.reduceRight=reduceRight;exports.reflect=reflect;exports.reflectAll=reflectAll;exports.reject=reject;exports.rejectLimit=rejectLimit;exports.rejectSeries=rejectSeries;exports.retry=retry;exports.retryable=retryable;exports.seq=seq;exports.series=series;exports.setImmediate=setImmediate$1;exports.some=some;exports.someLimit=someLimit;exports.someSeries=someSeries;exports.sortBy=sortBy;exports.timeout=timeout;exports.times=times;exports.timesLimit=timeLimit;exports.timesSeries=timesSeries;exports.transform=transform;exports.tryEach=tryEach;exports.unmemoize=unmemoize;exports.until=until;exports.waterfall=waterfall;exports.whilst=whilst;exports.all=every;exports.allLimit=everyLimit;exports.allSeries=everySeries;exports.any=some;exports.anyLimit=someLimit;exports.anySeries=someSeries;exports.find=detect;exports.findLimit=detectLimit;exports.findSeries=detectSeries;exports.forEach=eachLimit;exports.forEachSeries=eachSeries;exports.forEachLimit=eachLimit$1;exports.forEachOf=eachOf;exports.forEachOfSeries=eachOfSeries;exports.forEachOfLimit=eachOfLimit;exports.inject=reduce;exports.foldl=reduce;exports.foldr=reduceRight;exports.select=filter;exports.selectLimit=filterLimit;exports.selectSeries=filterSeries;exports.wrapSync=asyncify;Object.defineProperty(exports,"__esModule",{value:true})})}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},require("timers").setImmediate)},{_process:3,timers:4}],31:[function(require,module,exports){"use strict";var fs=require("fs");var path=require("path");var utils=require("./utils");var scopeOptionWarned=false;var _VERSION_STRING=require("../package.json").version;var _DEFAULT_OPEN_DELIMITER="<";var _DEFAULT_CLOSE_DELIMITER=">";var _DEFAULT_DELIMITER="%";var _DEFAULT_LOCALS_NAME="locals";var _NAME="ejs";var _REGEX_STRING="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)";var _OPTS_PASSABLE_WITH_DATA=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"];var _OPTS_PASSABLE_WITH_DATA_EXPRESS=_OPTS_PASSABLE_WITH_DATA.concat("cache");var _BOM=/^\uFEFF/;exports.cache=utils.cache;exports.fileLoader=fs.readFileSync;exports.localsName=_DEFAULT_LOCALS_NAME;exports.promiseImpl=new Function("return this;")().Promise;exports.resolveInclude=function(name,filename,isDir){var dirname=path.dirname;var extname=path.extname;var resolve=path.resolve;var includePath=resolve(isDir?filename:dirname(filename),name);var ext=extname(name);if(!ext){includePath+=".ejs"}return includePath};function getIncludePath(path,options){var includePath;var filePath;var views=options.views;var match=/^[A-Za-z]+:\\|^\//.exec(path);if(match&&match.length){includePath=exports.resolveInclude(path.replace(/^\/*/,""),options.root||"/",true)}else{if(options.filename){filePath=exports.resolveInclude(path,options.filename);if(fs.existsSync(filePath)){includePath=filePath}}if(!includePath){if(Array.isArray(views)&&views.some(function(v){filePath=exports.resolveInclude(path,v,true);return fs.existsSync(filePath)})){includePath=filePath}}if(!includePath){throw new Error('Could not find the include file "'+options.escapeFunction(path)+'"')}}return includePath}function handleCache(options,template){var func;var filename=options.filename;var hasTemplate=arguments.length>1;if(options.cache){if(!filename){throw new Error("cache option requires a filename")}func=exports.cache.get(filename);if(func){return func}if(!hasTemplate){template=fileLoader(filename).toString().replace(_BOM,"")}}else if(!hasTemplate){if(!filename){throw new Error("Internal EJS error: no file name or template "+"provided")}template=fileLoader(filename).toString().replace(_BOM,"")}func=exports.compile(template,options);if(options.cache){exports.cache.set(filename,func)}return func}function tryHandleCache(options,data,cb){var result;if(!cb){if(typeof exports.promiseImpl=="function"){return new exports.promiseImpl(function(resolve,reject){try{result=handleCache(options)(data);resolve(result)}catch(err){reject(err)}})}else{throw new Error("Please provide a callback function")}}else{try{result=handleCache(options)(data)}catch(err){return cb(err)}cb(null,result)}}function fileLoader(filePath){return exports.fileLoader(filePath)}function includeFile(path,options){var opts=utils.shallowCopy({},options);opts.filename=getIncludePath(path,opts);return handleCache(opts)}function includeSource(path,options){var opts=utils.shallowCopy({},options);var includePath;var template;includePath=getIncludePath(path,opts);template=fileLoader(includePath).toString().replace(_BOM,"");opts.filename=includePath;var templ=new Template(template,opts);templ.generateSource();return{source:templ.source,filename:includePath,template:template}}function rethrow(err,str,flnm,lineno,esc){var lines=str.split("\n");var start=Math.max(lineno-3,0);var end=Math.min(lines.length,lineno+3);var filename=esc(flnm);var context=lines.slice(start,end).map(function(line,i){var curr=i+start+1;return(curr==lineno?" >> ":"    ")+curr+"| "+line}).join("\n");err.path=filename;err.message=(filename||"ejs")+":"+lineno+"\n"+context+"\n\n"+err.message;throw err}function stripSemi(str){return str.replace(/;(\s*$)/,"$1")}exports.compile=function compile(template,opts){var templ;if(opts&&opts.scope){if(!scopeOptionWarned){console.warn("`scope` option is deprecated and will be removed in EJS 3");scopeOptionWarned=true}if(!opts.context){opts.context=opts.scope}delete opts.scope}templ=new Template(template,opts);return templ.compile()};exports.render=function(template,d,o){var data=d||{};var opts=o||{};if(arguments.length==2){utils.shallowCopyFromList(opts,data,_OPTS_PASSABLE_WITH_DATA)}return handleCache(opts,template)(data)};exports.renderFile=function(){var args=Array.prototype.slice.call(arguments);var filename=args.shift();var cb;var opts={filename:filename};var data;var viewOpts;if(typeof arguments[arguments.length-1]=="function"){cb=args.pop()}if(args.length){data=args.shift();if(args.length){utils.shallowCopy(opts,args.pop())}else{if(data.settings){if(data.settings.views){opts.views=data.settings.views}if(data.settings["view cache"]){opts.cache=true}viewOpts=data.settings["view options"];if(viewOpts){utils.shallowCopy(opts,viewOpts)}}utils.shallowCopyFromList(opts,data,_OPTS_PASSABLE_WITH_DATA_EXPRESS)}opts.filename=filename}else{data={}}return tryHandleCache(opts,data,cb)};exports.Template=Template;exports.clearCache=function(){exports.cache.reset()};function Template(text,opts){opts=opts||{};var options={};this.templateText=text;this.mode=null;this.truncate=false;this.currentLine=1;this.source="";this.dependencies=[];options.client=opts.client||false;options.escapeFunction=opts.escape||opts.escapeFunction||utils.escapeXML;options.compileDebug=opts.compileDebug!==false;options.debug=!!opts.debug;options.filename=opts.filename;options.openDelimiter=opts.openDelimiter||exports.openDelimiter||_DEFAULT_OPEN_DELIMITER;options.closeDelimiter=opts.closeDelimiter||exports.closeDelimiter||_DEFAULT_CLOSE_DELIMITER;options.delimiter=opts.delimiter||exports.delimiter||_DEFAULT_DELIMITER;options.strict=opts.strict||false;options.context=opts.context;options.cache=opts.cache||false;options.rmWhitespace=opts.rmWhitespace;options.root=opts.root;options.outputFunctionName=opts.outputFunctionName;options.localsName=opts.localsName||exports.localsName||_DEFAULT_LOCALS_NAME;options.views=opts.views;options.async=opts.async;options.destructuredLocals=opts.destructuredLocals;options.legacyInclude=typeof opts.legacyInclude!="undefined"?!!opts.legacyInclude:true;if(options.strict){options._with=false}else{options._with=typeof opts._with!="undefined"?opts._with:true}this.opts=options;this.regex=this.createRegex()}Template.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"};Template.prototype={createRegex:function(){var str=_REGEX_STRING;var delim=utils.escapeRegExpChars(this.opts.delimiter);var open=utils.escapeRegExpChars(this.opts.openDelimiter);var close=utils.escapeRegExpChars(this.opts.closeDelimiter);str=str.replace(/%/g,delim).replace(/</g,open).replace(/>/g,close);return new RegExp(str)},compile:function(){var src;var fn;var opts=this.opts;var prepended="";var appended="";var escapeFn=opts.escapeFunction;var ctor;if(!this.source){this.generateSource();prepended+='  var __output = "";\n'+"  function __append(s) { if (s !== undefined && s !== null) __output += s }\n";if(opts.outputFunctionName){prepended+="  var "+opts.outputFunctionName+" = __append;"+"\n"}if(opts.destructuredLocals&&opts.destructuredLocals.length){var destructuring="  var __locals = ("+opts.localsName+" || {}),\n";for(var i=0;i<opts.destructuredLocals.length;i++){var name=opts.destructuredLocals[i];if(i>0){destructuring+=",\n  "}destructuring+=name+" = __locals."+name}prepended+=destructuring+";\n"}if(opts._with!==false){prepended+="  with ("+opts.localsName+" || {}) {"+"\n";appended+="  }"+"\n"}appended+="  return __output;"+"\n";this.source=prepended+this.source+appended}if(opts.compileDebug){src="var __line = 1"+"\n"+"  , __lines = "+JSON.stringify(this.templateText)+"\n"+"  , __filename = "+(opts.filename?JSON.stringify(opts.filename):"undefined")+";"+"\n"+"try {"+"\n"+this.source+"} catch (e) {"+"\n"+"  rethrow(e, __lines, __filename, __line, escapeFn);"+"\n"+"}"+"\n"}else{src=this.source}if(opts.client){src="escapeFn = escapeFn || "+escapeFn.toString()+";"+"\n"+src;if(opts.compileDebug){src="rethrow = rethrow || "+rethrow.toString()+";"+"\n"+src}}if(opts.strict){src='"use strict";\n'+src}if(opts.debug){console.log(src)}if(opts.compileDebug&&opts.filename){src=src+"\n"+"//# sourceURL="+opts.filename+"\n"}try{if(opts.async){try{ctor=new Function("return (async function(){}).constructor;")()}catch(e){if(e instanceof SyntaxError){throw new Error("This environment does not support async/await")}else{throw e}}}else{ctor=Function}fn=new ctor(opts.localsName+", escapeFn, include, rethrow",src)}catch(e){if(e instanceof SyntaxError){if(opts.filename){e.message+=" in "+opts.filename}e.message+=" while compiling ejs\n\n";e.message+="If the above error is not helpful, you may want to try EJS-Lint:\n";e.message+="https://github.com/RyanZim/EJS-Lint";if(!opts.async){e.message+="\n";e.message+="Or, if you meant to create an async function, pass `async: true` as an option."}}throw e}var returnedFn=opts.client?fn:function anonymous(data){var include=function(path,includeData){var d=utils.shallowCopy({},data);if(includeData){d=utils.shallowCopy(d,includeData)}return includeFile(path,opts)(d)};return fn.apply(opts.context,[data||{},escapeFn,include,rethrow])};returnedFn.dependencies=this.dependencies;if(opts.filename&&typeof Object.defineProperty==="function"){var filename=opts.filename;var basename=path.basename(filename,path.extname(filename));try{Object.defineProperty(returnedFn,"name",{value:basename,writable:false,enumerable:false,configurable:true})}catch(e){}}return returnedFn},generateSource:function(){var opts=this.opts;if(opts.rmWhitespace){this.templateText=this.templateText.replace(/[\r\n]+/g,"\n").replace(/^\s+|\s+$/gm,"")}this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var self=this;var matches=this.parseTemplateText();var d=this.opts.delimiter;var o=this.opts.openDelimiter;var c=this.opts.closeDelimiter;if(matches&&matches.length){matches.forEach(function(line,index){var opening;var closing;var include;var includeOpts;var includeObj;var includeSrc;if(line.indexOf(o+d)===0&&line.indexOf(o+d+d)!==0){closing=matches[index+2];if(!(closing==d+c||closing=="-"+d+c||closing=="_"+d+c)){throw new Error('Could not find matching close tag for "'+line+'".')}}if(opts.legacyInclude&&(include=line.match(/^\s*include\s+(\S+)/))){opening=matches[index-1];if(opening&&(opening==o+d||opening==o+d+"-"||opening==o+d+"_")){includeOpts=utils.shallowCopy({},self.opts);includeObj=includeSource(include[1],includeOpts);if(self.opts.compileDebug){includeSrc="    ; (function(){"+"\n"+"      var __line = 1"+"\n"+"      , __lines = "+JSON.stringify(includeObj.template)+"\n"+"      , __filename = "+JSON.stringify(includeObj.filename)+";"+"\n"+"      try {"+"\n"+includeObj.source+"      } catch (e) {"+"\n"+"        rethrow(e, __lines, __filename, __line, escapeFn);"+"\n"+"      }"+"\n"+"    ; }).call(this)"+"\n"}else{includeSrc="    ; (function(){"+"\n"+includeObj.source+"    ; }).call(this)"+"\n"}self.source+=includeSrc;self.dependencies.push(exports.resolveInclude(include[1],includeOpts.filename));return}}self.scanLine(line)})}},parseTemplateText:function(){var str=this.templateText;var pat=this.regex;var result=pat.exec(str);var arr=[];var firstPos;while(result){firstPos=result.index;if(firstPos!==0){arr.push(str.substring(0,firstPos));str=str.slice(firstPos)}arr.push(result[0]);str=str.slice(result[0].length);result=pat.exec(str)}if(str){arr.push(str)}return arr},_addOutput:function(line){if(this.truncate){line=line.replace(/^(?:\r\n|\r|\n)/,"");this.truncate=false}if(!line){return line}line=line.replace(/\\/g,"\\\\");line=line.replace(/\n/g,"\\n");line=line.replace(/\r/g,"\\r");line=line.replace(/"/g,'\\"');this.source+='    ; __append("'+line+'")'+"\n"},scanLine:function(line){var self=this;var d=this.opts.delimiter;var o=this.opts.openDelimiter;var c=this.opts.closeDelimiter;var newLineCount=0;newLineCount=line.split("\n").length-1;switch(line){case o+d:case o+d+"_":this.mode=Template.modes.EVAL;break;case o+d+"=":this.mode=Template.modes.ESCAPED;break;case o+d+"-":this.mode=Template.modes.RAW;break;case o+d+"#":this.mode=Template.modes.COMMENT;break;case o+d+d:this.mode=Template.modes.LITERAL;this.source+='    ; __append("'+line.replace(o+d+d,o+d)+'")'+"\n";break;case d+d+c:this.mode=Template.modes.LITERAL;this.source+='    ; __append("'+line.replace(d+d+c,d+c)+'")'+"\n";break;case d+c:case"-"+d+c:case"_"+d+c:if(this.mode==Template.modes.LITERAL){this._addOutput(line)}this.mode=null;this.truncate=line.indexOf("-")===0||line.indexOf("_")===0;break;default:if(this.mode){switch(this.mode){case Template.modes.EVAL:case Template.modes.ESCAPED:case Template.modes.RAW:if(line.lastIndexOf("//")>line.lastIndexOf("\n")){line+="\n"}}switch(this.mode){case Template.modes.EVAL:this.source+="    ; "+line+"\n";break;case Template.modes.ESCAPED:this.source+="    ; __append(escapeFn("+stripSemi(line)+"))"+"\n";break;case Template.modes.RAW:this.source+="    ; __append("+stripSemi(line)+")"+"\n";break;case Template.modes.COMMENT:break;case Template.modes.LITERAL:this._addOutput(line);break}}else{this._addOutput(line)}}if(self.opts.compileDebug&&newLineCount){this.currentLine+=newLineCount;this.source+="    ; __line = "+this.currentLine+"\n"}}};exports.escapeXML=utils.escapeXML;exports.__express=exports.renderFile;if(require.extensions){require.extensions[".ejs"]=function(module,flnm){console.log("Deprecated: this API will go away in EJS v2.8");var filename=flnm||module.filename;var options={filename:filename,client:true};var template=fileLoader(filename).toString();var fn=exports.compile(template,options);module._compile("module.exports = "+fn.toString()+";",filename)}}exports.VERSION=_VERSION_STRING;exports.name=_NAME;if(typeof window!="undefined"){window.ejs=exports}},{"../package.json":33,"./utils":32,fs:1,path:2}],32:[function(require,module,exports){"use strict";var regExpChars=/[|\\{}()[\]^$+*?.]/g;exports.escapeRegExpChars=function(string){if(!string){return""}return String(string).replace(regExpChars,"\\$&")};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"};var _MATCH_HTML=/[&<>'"]/g;function encode_char(c){return _ENCODE_HTML_RULES[c]||c}var escapeFuncStr="var _ENCODE_HTML_RULES = {\n"+'      "&": "&amp;"\n'+'    , "<": "&lt;"\n'+'    , ">": "&gt;"\n'+'    , \'"\': "&#34;"\n'+'    , "\'": "&#39;"\n'+"    }\n"+"  , _MATCH_HTML = /[&<>'\"]/g;\n"+"function encode_char(c) {\n"+"  return _ENCODE_HTML_RULES[c] || c;\n"+"};\n";exports.escapeXML=function(markup){return markup==undefined?"":String(markup).replace(_MATCH_HTML,encode_char)};exports.escapeXML.toString=function(){return Function.prototype.toString.call(this)+";\n"+escapeFuncStr};exports.shallowCopy=function(to,from){from=from||{};for(var p in from){to[p]=from[p]}return to};exports.shallowCopyFromList=function(to,from,list){for(var i=0;i<list.length;i++){var p=list[i];if(typeof from[p]!="undefined"){to[p]=from[p]}}return to};exports.cache={_data:{},set:function(key,val){this._data[key]=val},get:function(key){return this._data[key]},remove:function(key){delete this._data[key]},reset:function(){this._data={}}}},{}],33:[function(require,module,exports){module.exports={_from:"ejs@^2.6.1",_id:"ejs@2.7.4",_inBundle:false,_integrity:"sha512-7vmuyh5+kuUyJKePhQfRQBhXV5Ce+RnaeeQArKu1EAMpL3WbgMt5WG6uQZpEVvYSSsxMXRKOewtDk9RaTKXRlA==",_location:"/ejs",_phantomChildren:{},_requested:{type:"range",registry:true,raw:"ejs@^2.6.1",name:"ejs",escapedName:"ejs",rawSpec:"^2.6.1",saveSpec:null,fetchSpec:"^2.6.1"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/ejs/-/ejs-2.7.4.tgz",_shasum:"48661287573dcc53e366c7a1ae52c3a120eec9ba",_spec:"ejs@^2.6.1",_where:"C:\\wk\\jsharmony",author:{name:"Matthew Eernisse",email:"mde@fleegix.org",url:"http://fleegix.org"},bugs:{url:"https://github.com/mde/ejs/issues"},bundleDependencies:false,dependencies:{},deprecated:false,description:"Embedded JavaScript templates",devDependencies:{browserify:"^13.1.1",eslint:"^4.14.0","git-directory-deploy":"^1.5.1",jake:"^10.3.1",jsdoc:"^3.4.0","lru-cache":"^4.0.1",mocha:"^5.0.5","uglify-js":"^3.3.16"},engines:{node:">=0.10.0"},homepage:"https://github.com/mde/ejs",keywords:["template","engine","ejs"],license:"Apache-2.0",main:"./lib/ejs.js",name:"ejs",repository:{type:"git",url:"git://github.com/mde/ejs.git"},scripts:{postinstall:"node ./postinstall.js",test:"mocha"},version:"2.7.4"}},{}],34:[function(require,module,exports){(function(global){(function(){var undefined;var VERSION="4.17.21";var LARGE_ARRAY_SIZE=200;var CORE_ERROR_TEXT="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",FUNC_ERROR_TEXT="Expected a function",INVALID_TEMPL_VAR_ERROR_TEXT="Invalid `variable` option passed into `_.template`";var HASH_UNDEFINED="__lodash_hash_undefined__";var MAX_MEMOIZE_SIZE=500;var PLACEHOLDER="__lodash_placeholder__";var CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4;var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;var WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_BOUND_FLAG=4,WRAP_CURRY_FLAG=8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_PARTIAL_FLAG=32,WRAP_PARTIAL_RIGHT_FLAG=64,WRAP_ARY_FLAG=128,WRAP_REARG_FLAG=256,WRAP_FLIP_FLAG=512;var DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...";var HOT_COUNT=800,HOT_SPAN=16;var LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,LAZY_WHILE_FLAG=3;var INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,MAX_INTEGER=17976931348623157e292,NAN=0/0;var MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1;var wrapFlags=[["ary",WRAP_ARY_FLAG],["bind",WRAP_BIND_FLAG],["bindKey",WRAP_BIND_KEY_FLAG],["curry",WRAP_CURRY_FLAG],["curryRight",WRAP_CURRY_RIGHT_FLAG],["flip",WRAP_FLIP_FLAG],["partial",WRAP_PARTIAL_FLAG],["partialRight",WRAP_PARTIAL_RIGHT_FLAG],["rearg",WRAP_REARG_FLAG]];var argsTag="[object Arguments]",arrayTag="[object Array]",asyncTag="[object AsyncFunction]",boolTag="[object Boolean]",dateTag="[object Date]",domExcTag="[object DOMException]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",nullTag="[object Null]",objectTag="[object Object]",promiseTag="[object Promise]",proxyTag="[object Proxy]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",undefinedTag="[object Undefined]",weakMapTag="[object WeakMap]",weakSetTag="[object WeakSet]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var reEscapedHtml=/&(?:amp|lt|gt|quot|#39);/g,reUnescapedHtml=/[&<>"']/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source);var reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g;var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source);var reTrimStart=/^\s+/;var reWhitespace=/\s/;var reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /;var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var reForbiddenIdentifierChars=/[()=,{}\[\]\/\s]/;var reEscapeChar=/\\(\\)?/g;var reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var reFlags=/\w*$/;var reIsBadHex=/^[-+]0x[0-9a-f]+$/i;var reIsBinary=/^0b[01]+$/i;var reIsHostCtor=/^\[object .+?Constructor\]$/;var reIsOctal=/^0o[0-7]+$/i;var reIsUint=/^(?:0|[1-9]\d*)$/;var reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;var reNoMatch=/($^)/;var reUnescapedString=/['\n\r\u2028\u2029\\]/g;var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange;var rsApos="[']",rsAstral="["+rsAstralRange+"]",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboRange+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ="\\u200d";var rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",rsOptContrLower="(?:"+rsApos+"(?:d|ll|m|re|s|t|ve))?",rsOptContrUpper="(?:"+rsApos+"(?:D|LL|M|RE|S|T|VE))?",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsOrdLower="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsOrdUpper="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")";var reApos=RegExp(rsApos,"g");var reComboMark=RegExp(rsCombo,"g");var reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");var reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+"+rsOptContrLower+"(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+"+rsOptContrUpper+"(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+"+rsOptContrLower,rsUpper+"+"+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join("|"),"g");var reHasUnicode=RegExp("["+rsZWJ+rsAstralRange+rsComboRange+rsVarRange+"]");var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var contextProps=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"];var templateCounter=-1;var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=true;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=false;var deburredLetters={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"};var htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var htmlUnescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};var freeParseFloat=parseFloat,freeParseInt=parseInt;var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function("return this")();var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var freeProcess=moduleExports&&freeGlobal.process;var nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;if(types){return types}return freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();var nodeIsArrayBuffer=nodeUtil&&nodeUtil.isArrayBuffer,nodeIsDate=nodeUtil&&nodeUtil.isDate,nodeIsMap=nodeUtil&&nodeUtil.isMap,nodeIsRegExp=nodeUtil&&nodeUtil.isRegExp,nodeIsSet=nodeUtil&&nodeUtil.isSet,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function arrayAggregator(array,setter,iteratee,accumulator){var index=-1,length=array==null?0:array.length;while(++index<length){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator}function arrayEach(array,iteratee){var index=-1,length=array==null?0:array.length;while(++index<length){if(iteratee(array[index],index,array)===false){break}}return array}function arrayEachRight(array,iteratee){var length=array==null?0:array.length;while(length--){if(iteratee(array[length],length,array)===false){break}}return array}function arrayEvery(array,predicate){var index=-1,length=array==null?0:array.length;while(++index<length){if(!predicate(array[index],index,array)){return false}}return true}function arrayFilter(array,predicate){var index=-1,length=array==null?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(predicate(value,index,array)){result[resIndex++]=value}}return result}function arrayIncludes(array,value){var length=array==null?0:array.length;return!!length&&baseIndexOf(array,value,0)>-1}function arrayIncludesWith(array,value,comparator){var index=-1,length=array==null?0:array.length;while(++index<length){if(comparator(value,array[index])){return true}}return false}function arrayMap(array,iteratee){var index=-1,length=array==null?0:array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array)}return result}function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<length){array[offset+index]=values[index]}return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array==null?0:array.length;if(initAccum&&length){accumulator=array[++index]}while(++index<length){accumulator=iteratee(accumulator,array[index],index,array)}return accumulator}function arrayReduceRight(array,iteratee,accumulator,initAccum){var length=array==null?0:array.length;if(initAccum&&length){accumulator=array[--length]}while(length--){accumulator=iteratee(accumulator,array[length],length,array)}return accumulator}function arraySome(array,predicate){var index=-1,length=array==null?0:array.length;while(++index<length){if(predicate(array[index],index,array)){return true}}return false}var asciiSize=baseProperty("length");function asciiToArray(string){return string.split("")}function asciiWords(string){return string.match(reAsciiWord)||[]}function baseFindKey(collection,predicate,eachFunc){var result;eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection)){result=key;return false}});return result}function baseFindIndex(array,predicate,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?1:-1);while(fromRight?index--:++index<length){if(predicate(array[index],index,array)){return index}}return-1}function baseIndexOf(array,value,fromIndex){return value===value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}function baseIndexOfWith(array,value,fromIndex,comparator){var index=fromIndex-1,length=array.length;while(++index<length){if(comparator(array[index],value)){return index}}return-1}function baseIsNaN(value){return value!==value}function baseMean(array,iteratee){var length=array==null?0:array.length;return length?baseSum(array,iteratee)/length:NAN}function baseProperty(key){return function(object){return object==null?undefined:object[key]}}function basePropertyOf(object){return function(key){return object==null?undefined:object[key]}}function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){eachFunc(collection,function(value,index,collection){accumulator=initAccum?(initAccum=false,value):iteratee(accumulator,value,index,collection)});return accumulator}function baseSortBy(array,comparer){var length=array.length;array.sort(comparer);while(length--){array[length]=array[length].value}return array}function baseSum(array,iteratee){var result,index=-1,length=array.length;while(++index<length){var current=iteratee(array[index]);if(current!==undefined){result=result===undefined?current:result+current}}return result}function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index)}return result}function baseToPairs(object,props){return arrayMap(props,function(key){return[key,object[key]]})}function baseTrim(string){return string?string.slice(0,trimmedEndIndex(string)+1).replace(reTrimStart,""):string}function baseUnary(func){return function(value){return func(value)}}function baseValues(object,props){return arrayMap(props,function(key){return object[key]})}function cacheHas(cache,key){return cache.has(key)}function charsStartIndex(strSymbols,chrSymbols){var index=-1,length=strSymbols.length;while(++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index}function charsEndIndex(strSymbols,chrSymbols){var index=strSymbols.length;while(index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index}function countHolders(array,placeholder){var length=array.length,result=0;while(length--){if(array[length]===placeholder){++result}}return result}var deburrLetter=basePropertyOf(deburredLetters);var escapeHtmlChar=basePropertyOf(htmlEscapes);function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function getValue(object,key){return object==null?undefined:object[key]}function hasUnicode(string){return reHasUnicode.test(string)}function hasUnicodeWord(string){return reHasUnicodeWord.test(string)}function iteratorToArray(iterator){var data,result=[];while(!(data=iterator.next()).done){result.push(data.value)}return result}function mapToArray(map){var index=-1,result=Array(map.size);map.forEach(function(value,key){result[++index]=[key,value]});return result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function replaceHolders(array,placeholder){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(value===placeholder||value===PLACEHOLDER){array[index]=PLACEHOLDER;result[resIndex++]=index}}return result}function setToArray(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=value});return result}function setToPairs(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=[value,value]});return result}function strictIndexOf(array,value,fromIndex){var index=fromIndex-1,length=array.length;while(++index<length){if(array[index]===value){return index}}return-1}function strictLastIndexOf(array,value,fromIndex){var index=fromIndex+1;while(index--){if(array[index]===value){return index}}return index}function stringSize(string){return hasUnicode(string)?unicodeSize(string):asciiSize(string)}function stringToArray(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}function trimmedEndIndex(string){var index=string.length;while(index--&&reWhitespace.test(string.charAt(index))){}return index}var unescapeHtmlChar=basePropertyOf(htmlUnescapes);function unicodeSize(string){var result=reUnicode.lastIndex=0;while(reUnicode.test(string)){++result}return result}function unicodeToArray(string){return string.match(reUnicode)||[]}function unicodeWords(string){return string.match(reUnicodeWord)||[]}var runInContext=function runInContext(context){context=context==null?root:_.defaults(root.Object(),context,_.pick(root,contextProps));var Array=context.Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError;var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype;var coreJsData=context["__core-js_shared__"];var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var idCounter=0;var maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}();var nativeObjectToString=objectProto.toString;var objectCtorString=funcToString.call(Object);var oldDash=root._;var reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Buffer=moduleExports?context.Buffer:undefined,Symbol=context.Symbol,Uint8Array=context.Uint8Array,allocUnsafe=Buffer?Buffer.allocUnsafe:undefined,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,spreadableSymbol=Symbol?Symbol.isConcatSpreadable:undefined,symIterator=Symbol?Symbol.iterator:undefined,symToStringTag=Symbol?Symbol.toStringTag:undefined;var defineProperty=function(){try{var func=getNative(Object,"defineProperty");func({},"",{});return func}catch(e){}}();var ctxClearTimeout=context.clearTimeout!==root.clearTimeout&&context.clearTimeout,ctxNow=Date&&Date.now!==root.Date.now&&Date.now,ctxSetTimeout=context.setTimeout!==root.setTimeout&&context.setTimeout;var nativeCeil=Math.ceil,nativeFloor=Math.floor,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:undefined,nativeIsFinite=context.isFinite,nativeJoin=arrayProto.join,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,nativeMin=Math.min,nativeNow=Date.now,nativeParseInt=context.parseInt,nativeRandom=Math.random,nativeReverse=arrayProto.reverse;var DataView=getNative(context,"DataView"),Map=getNative(context,"Map"),Promise=getNative(context,"Promise"),Set=getNative(context,"Set"),WeakMap=getNative(context,"WeakMap"),nativeCreate=getNative(Object,"create");var metaMap=WeakMap&&new WeakMap;var realNames={};var dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap);var symbolProto=Symbol?Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper){return value}if(hasOwnProperty.call(value,"__wrapped__")){return wrapperClone(value)}}return new LodashWrapper(value)}var baseCreate=function(){function object(){}return function(proto){if(!isObject(proto)){return{}}if(objectCreate){return objectCreate(proto)}object.prototype=proto;var result=new object;object.prototype=undefined;return result}}();function baseLodash(){}function LodashWrapper(value,chainAll){this.__wrapped__=value;this.__actions__=[];this.__chain__=!!chainAll;this.__index__=0;this.__values__=undefined}lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}};lodash.prototype=baseLodash.prototype;lodash.prototype.constructor=lodash;LodashWrapper.prototype=baseCreate(baseLodash.prototype);LodashWrapper.prototype.constructor=LodashWrapper;function LazyWrapper(value){this.__wrapped__=value;this.__actions__=[];this.__dir__=1;this.__filtered__=false;this.__iteratees__=[];this.__takeCount__=MAX_ARRAY_LENGTH;this.__views__=[]}function lazyClone(){var result=new LazyWrapper(this.__wrapped__);result.__actions__=copyArray(this.__actions__);result.__dir__=this.__dir__;result.__filtered__=this.__filtered__;result.__iteratees__=copyArray(this.__iteratees__);result.__takeCount__=this.__takeCount__;result.__views__=copyArray(this.__views__);return result}function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1;result.__filtered__=true}else{result=this.clone();result.__dir__*=-1}return result}function lazyValue(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=getView(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||!isRight&&arrLength==length&&takeCount==length){return baseWrapperValue(array,this.__actions__)}var result=[];outer:while(length--&&resIndex<takeCount){index+=dir;var iterIndex=-1,value=array[index];while(++iterIndex<iterLength){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG){value=computed}else if(!computed){if(type==LAZY_FILTER_FLAG){continue outer}else{break outer}}}result[resIndex++]=value}return result}LazyWrapper.prototype=baseCreate(baseLodash.prototype);LazyWrapper.prototype.constructor=LazyWrapper;function Hash(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{};this.size=0}function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];this.size-=result?1:0;return result}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(data,key)?data[key]:undefined}function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key)}function hashSet(key,value){var data=this.__data__;this.size+=this.has(key)?0:1;data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value;return this}Hash.prototype.clear=hashClear;Hash.prototype["delete"]=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[];this.size=0}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){return false}var lastIndex=data.length-1;if(index==lastIndex){data.pop()}else{splice.call(data,index,1)}--this.size;return true}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){++this.size;data.push([key,value])}else{data[index][1]=value}return this}ListCache.prototype.clear=listCacheClear;ListCache.prototype["delete"]=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.size=0;this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(key){var result=getMapData(this,key)["delete"](key);this.size-=result?1:0;return result}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;data.set(key,value);this.size+=data.size==size?0:1;return this}MapCache.prototype.clear=mapCacheClear;MapCache.prototype["delete"]=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function SetCache(values){var index=-1,length=values==null?0:values.length;this.__data__=new MapCache;while(++index<length){this.add(values[index])}}function setCacheAdd(value){this.__data__.set(value,HASH_UNDEFINED);return this}function setCacheHas(value){return this.__data__.has(value)}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}function stackClear(){this.__data__=new ListCache;this.size=0}function stackDelete(key){var data=this.__data__,result=data["delete"](key);this.size=data.size;return result}function stackGet(key){return this.__data__.get(key)}function stackHas(key){return this.__data__.has(key)}function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1){pairs.push([key,value]);this.size=++data.size;return this}data=this.__data__=new MapCache(pairs)}data.set(key,value);this.size=data.size;return this}Stack.prototype.clear=stackClear;Stack.prototype["delete"]=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value){if((inherited||hasOwnProperty.call(value,key))&&!(skipIndexes&&(key=="length"||isBuff&&(key=="offset"||key=="parent")||isType&&(key=="buffer"||key=="byteLength"||key=="byteOffset")||isIndex(key,length)))){result.push(key)}}return result}function arraySample(array){var length=array.length;return length?array[baseRandom(0,length-1)]:undefined}function arraySampleSize(array,n){return shuffleSelf(copyArray(array),baseClamp(n,0,array.length))}function arrayShuffle(array){return shuffleSelf(copyArray(array))}function assignMergeValue(object,key,value){if(value!==undefined&&!eq(object[key],value)||value===undefined&&!(key in object)){baseAssignValue(object,key,value)}}function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object)){baseAssignValue(object,key,value)}}function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length}}return-1}function baseAggregator(collection,setter,iteratee,accumulator){baseEach(collection,function(value,key,collection){setter(accumulator,value,iteratee(value),collection)});return accumulator}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseAssignIn(object,source){return object&&copyObject(source,keysIn(source),object)}function baseAssignValue(object,key,value){if(key=="__proto__"&&defineProperty){defineProperty(object,key,{configurable:true,enumerable:true,value:value,writable:true})}else{object[key]=value}}function baseAt(object,paths){var index=-1,length=paths.length,result=Array(length),skip=object==null;while(++index<length){result[index]=skip?undefined:get(object,paths[index])}return result}function baseClamp(number,lower,upper){if(number===number){if(upper!==undefined){number=number<=upper?number:upper}if(lower!==undefined){number=number>=lower?number:lower}}return number}function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=bitmask&CLONE_DEEP_FLAG,isFlat=bitmask&CLONE_FLAT_FLAG,isFull=bitmask&CLONE_SYMBOLS_FLAG;if(customizer){result=object?customizer(value,key,object,stack):customizer(value)}if(result!==undefined){return result}if(!isObject(value)){return value}var isArr=isArray(value);if(isArr){result=initCloneArray(value);if(!isDeep){return copyArray(value,result)}}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value)){return cloneBuffer(value,isDeep)}if(tag==objectTag||tag==argsTag||isFunc&&!object){result=isFlat||isFunc?{}:initCloneObject(value);if(!isDeep){return isFlat?copySymbolsIn(value,baseAssignIn(result,value)):copySymbols(value,baseAssign(result,value))}}else{if(!cloneableTags[tag]){return object?value:{}}result=initCloneByTag(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked){return stacked}stack.set(value,result);if(isSet(value)){value.forEach(function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))})}else if(isMap(value)){value.forEach(function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,stack))})}var keysFunc=isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys;var props=isArr?undefined:keysFunc(value);arrayEach(props||value,function(subValue,key){if(props){key=subValue;subValue=value[key]}assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))});return result}function baseConforms(source){var props=keys(source);return function(object){return baseConformsTo(object,source,props)}}function baseConformsTo(object,source,props){var length=props.length;if(object==null){return!length}object=Object(object);while(length--){var key=props[length],predicate=source[key],value=object[key];if(value===undefined&&!(key in object)||!predicate(value)){return false}}return true}function baseDelay(func,wait,args){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=true,length=array.length,result=[],valuesLength=values.length;if(!length){return result}if(iteratee){values=arrayMap(values,baseUnary(iteratee))}if(comparator){includes=arrayIncludesWith;isCommon=false}else if(values.length>=LARGE_ARRAY_SIZE){includes=cacheHas;isCommon=false;values=new SetCache(values)}outer:while(++index<length){var value=array[index],computed=iteratee==null?value:iteratee(value);value=comparator||value!==0?value:0;if(isCommon&&computed===computed){var valuesIndex=valuesLength;while(valuesIndex--){if(values[valuesIndex]===computed){continue outer}}result.push(value)}else if(!includes(values,computed,comparator)){result.push(value)}}return result}var baseEach=createBaseEach(baseForOwn);var baseEachRight=createBaseEach(baseForOwnRight,true);function baseEvery(collection,predicate){var result=true;baseEach(collection,function(value,index,collection){result=!!predicate(value,index,collection);return result});return result}function baseExtremum(array,iteratee,comparator){var index=-1,length=array.length;while(++index<length){var value=array[index],current=iteratee(value);if(current!=null&&(computed===undefined?current===current&&!isSymbol(current):comparator(current,computed))){var computed=current,result=value}}return result}function baseFill(array,value,start,end){var length=array.length;start=toInteger(start);if(start<0){start=-start>length?0:length+start}end=end===undefined||end>length?length:toInteger(end);if(end<0){end+=length}end=start>end?0:toLength(end);while(start<end){array[start++]=value}return array}function baseFilter(collection,predicate){var result=[];baseEach(collection,function(value,index,collection){if(predicate(value,index,collection)){result.push(value)}});return result}function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;predicate||(predicate=isFlattenable);result||(result=[]);while(++index<length){var value=array[index];if(depth>0&&predicate(value)){if(depth>1){baseFlatten(value,depth-1,predicate,isStrict,result)}else{arrayPush(result,value)}}else if(!isStrict){result[result.length]=value}}return result}var baseFor=createBaseFor();var baseForRight=createBaseFor(true);function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return object&&baseForRight(object,iteratee,keys)}function baseFunctions(object,props){return arrayFilter(props,function(key){return isFunction(object[key])})}function baseGet(object,path){path=castPath(path,object);var index=0,length=path.length;while(object!=null&&index<length){object=object[toKey(path[index++])]}return index&&index==length?object:undefined}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function baseGetTag(value){if(value==null){return value===undefined?undefinedTag:nullTag}return symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}function baseGt(value,other){return value>other}function baseHas(object,key){return object!=null&&hasOwnProperty.call(object,key)}function baseHasIn(object,key){return object!=null&&key in Object(object)}function baseInRange(number,start,end){return number>=nativeMin(start,end)&&number<nativeMax(start,end)}function baseIntersection(arrays,iteratee,comparator){var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=Infinity,result=[];while(othIndex--){var array=arrays[othIndex];if(othIndex&&iteratee){array=arrayMap(array,baseUnary(iteratee))}maxLength=nativeMin(array.length,maxLength);caches[othIndex]=!comparator&&(iteratee||length>=120&&array.length>=120)?new SetCache(othIndex&&array):undefined}array=arrays[0];var index=-1,seen=caches[0];outer:while(++index<length&&result.length<maxLength){var value=array[index],computed=iteratee?iteratee(value):value;value=comparator||value!==0?value:0;if(!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){othIndex=othLength;while(--othIndex){var cache=caches[othIndex];if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator))){continue outer}}if(seen){seen.push(computed)}result.push(value)}}return result}function baseInverter(object,setter,iteratee,accumulator){baseForOwn(object,function(value,key,object){setter(accumulator,iteratee(value),key,object)});return accumulator}function baseInvoke(object,path,args){path=castPath(path,object);object=parent(object,path);var func=object==null?object:object[toKey(last(path))];return func==null?undefined:apply(func,object,args)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsArrayBuffer(value){return isObjectLike(value)&&baseGetTag(value)==arrayBufferTag}function baseIsDate(value){return isObjectLike(value)&&baseGetTag(value)==dateTag}function baseIsEqual(value,other,bitmask,customizer,stack){if(value===other){return true}if(value==null||other==null||!isObjectLike(value)&&!isObjectLike(other)){return value!==value&&other!==other}return baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack)}function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other);objTag=objTag==argsTag?objectTag:objTag;othTag=othTag==argsTag?objectTag:othTag;var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other)){return false}objIsArr=true;objIsObj=false}if(isSameTag&&!objIsObj){stack||(stack=new Stack);return objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack)}if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;stack||(stack=new Stack);return equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}if(!isSameTag){return false}stack||(stack=new Stack);return equalObjects(object,other,bitmask,customizer,equalFunc,stack)}function baseIsMap(value){return isObjectLike(value)&&getTag(value)==mapTag}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(object==null){return!length}object=Object(object);while(index--){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object)){return false}}while(++index<length){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object)){return false}}else{var stack=new Stack;if(customizer){var result=customizer(objValue,srcValue,key,object,source,stack)}if(!(result===undefined?baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG,customizer,stack):result)){return false}}}return true}function baseIsNative(value){if(!isObject(value)||isMasked(value)){return false}var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function baseIsRegExp(value){return isObjectLike(value)&&baseGetTag(value)==regexpTag}function baseIsSet(value){return isObjectLike(value)&&getTag(value)==setTag}function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}function baseIteratee(value){if(typeof value=="function"){return value}if(value==null){return identity}if(typeof value=="object"){return isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value)}return property(value)}function baseKeys(object){if(!isPrototype(object)){return nativeKeys(object)}var result=[];for(var key in Object(object)){if(hasOwnProperty.call(object,key)&&key!="constructor"){result.push(key)}}return result}function baseKeysIn(object){if(!isObject(object)){return nativeKeysIn(object)}var isProto=isPrototype(object),result=[];for(var key in object){if(!(key=="constructor"&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key)}}return result}function baseLt(value,other){return value<other}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)});return result}function baseMatches(source){var matchData=getMatchData(source);if(matchData.length==1&&matchData[0][2]){return matchesStrictComparable(matchData[0][0],matchData[0][1])}return function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseMatchesProperty(path,srcValue){if(isKey(path)&&isStrictComparable(srcValue)){return matchesStrictComparable(toKey(path),srcValue)}return function(object){var objValue=get(object,path);return objValue===undefined&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseMerge(object,source,srcIndex,customizer,stack){if(object===source){return}baseFor(source,function(srcValue,key){stack||(stack=new Stack);if(isObject(srcValue)){baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack)}else{var newValue=customizer?customizer(safeGet(object,key),srcValue,key+"",object,source,stack):undefined;if(newValue===undefined){newValue=srcValue}assignMergeValue(object,key,newValue)}},keysIn)}function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=safeGet(object,key),srcValue=safeGet(source,key),stacked=stack.get(srcValue);if(stacked){assignMergeValue(object,key,stacked);return}var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):undefined;var isCommon=newValue===undefined;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue;if(isArr||isBuff||isTyped){if(isArray(objValue)){newValue=objValue}else if(isArrayLikeObject(objValue)){newValue=copyArray(objValue)}else if(isBuff){isCommon=false;newValue=cloneBuffer(srcValue,true)}else if(isTyped){isCommon=false;newValue=cloneTypedArray(srcValue,true)}else{newValue=[]}}else if(isPlainObject(srcValue)||isArguments(srcValue)){newValue=objValue;if(isArguments(objValue)){newValue=toPlainObject(objValue)}else if(!isObject(objValue)||isFunction(objValue)){newValue=initCloneObject(srcValue)}}else{isCommon=false}}if(isCommon){stack.set(srcValue,newValue);mergeFunc(newValue,srcValue,srcIndex,customizer,stack);stack["delete"](srcValue)}assignMergeValue(object,key,newValue)}function baseNth(array,n){var length=array.length;if(!length){return}n+=n<0?length:0;return isIndex(n,length)?array[n]:undefined}function baseOrderBy(collection,iteratees,orders){if(iteratees.length){iteratees=arrayMap(iteratees,function(iteratee){if(isArray(iteratee)){return function(value){return baseGet(value,iteratee.length===1?iteratee[0]:iteratee)}}return iteratee})}else{iteratees=[identity]}var index=-1;iteratees=arrayMap(iteratees,baseUnary(getIteratee()));var result=baseMap(collection,function(value,key,collection){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value)});return{criteria:criteria,index:++index,value:value}});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders)})}function basePick(object,paths){return basePickBy(object,paths,function(value,path){return hasIn(object,path)})}function basePickBy(object,paths,predicate){var index=-1,length=paths.length,result={};while(++index<length){var path=paths[index],value=baseGet(object,path);if(predicate(value,path)){baseSet(result,castPath(path,object),value)}}return result}function basePropertyDeep(path){return function(object){return baseGet(object,path)}}function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;if(array===values){values=copyArray(values)}if(iteratee){seen=arrayMap(array,baseUnary(iteratee))}while(++index<length){var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;while((fromIndex=indexOf(seen,computed,fromIndex,comparator))>-1){if(seen!==array){splice.call(seen,fromIndex,1)}splice.call(array,fromIndex,1)}}return array}function basePullAt(array,indexes){var length=array?indexes.length:0,lastIndex=length-1;while(length--){var index=indexes[length];if(length==lastIndex||index!==previous){var previous=index;if(isIndex(index)){splice.call(array,index,1)}else{baseUnset(array,index)}}}return array}function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1))}function baseRange(start,end,step,fromRight){var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);while(length--){result[fromRight?length:++index]=start;start+=step}return result}function baseRepeat(string,n){var result="";if(!string||n<1||n>MAX_SAFE_INTEGER){return result}do{if(n%2){result+=string}n=nativeFloor(n/2);if(n){string+=string}}while(n);return result}function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}function baseSample(collection){return arraySample(values(collection))}function baseSampleSize(collection,n){var array=values(collection);return shuffleSelf(array,baseClamp(n,0,array.length))}function baseSet(object,path,value,customizer){if(!isObject(object)){return object}path=castPath(path,object);var index=-1,length=path.length,lastIndex=length-1,nested=object;while(nested!=null&&++index<length){var key=toKey(path[index]),newValue=value;if(key==="__proto__"||key==="constructor"||key==="prototype"){return object}if(index!=lastIndex){var objValue=nested[key];newValue=customizer?customizer(objValue,key,nested):undefined;if(newValue===undefined){newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{}}}assignValue(nested,key,newValue);nested=nested[key]}return object}var baseSetData=!metaMap?identity:function(func,data){metaMap.set(func,data);return func};var baseSetToString=!defineProperty?identity:function(func,string){return defineProperty(func,"toString",{configurable:true,enumerable:false,value:constant(string),writable:true})};function baseShuffle(collection){return shuffleSelf(values(collection))}function baseSlice(array,start,end){var index=-1,length=array.length;if(start<0){start=-start>length?0:length+start}end=end>length?length:end;if(end<0){end+=length}length=start>end?0:end-start>>>0;start>>>=0;var result=Array(length);while(++index<length){result[index]=array[index+start]}return result}function baseSome(collection,predicate){var result;baseEach(collection,function(value,index,collection){result=predicate(value,index,collection);return!result});return!!result}function baseSortedIndex(array,value,retHighest){var low=0,high=array==null?low:array.length;if(typeof value=="number"&&value===value&&high<=HALF_MAX_ARRAY_LENGTH){while(low<high){var mid=low+high>>>1,computed=array[mid];if(computed!==null&&!isSymbol(computed)&&(retHighest?computed<=value:computed<value)){low=mid+1}else{high=mid}}return high}return baseSortedIndexBy(array,value,identity,retHighest)}function baseSortedIndexBy(array,value,iteratee,retHighest){var low=0,high=array==null?0:array.length;if(high===0){return 0}value=iteratee(value);var valIsNaN=value!==value,valIsNull=value===null,valIsSymbol=isSymbol(value),valIsUndefined=value===undefined;while(low<high){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),othIsDefined=computed!==undefined,othIsNull=computed===null,othIsReflexive=computed===computed,othIsSymbol=isSymbol(computed);if(valIsNaN){var setLow=retHighest||othIsReflexive}else if(valIsUndefined){setLow=othIsReflexive&&(retHighest||othIsDefined)}else if(valIsNull){setLow=othIsReflexive&&othIsDefined&&(retHighest||!othIsNull)}else if(valIsSymbol){setLow=othIsReflexive&&othIsDefined&&!othIsNull&&(retHighest||!othIsSymbol)}else if(othIsNull||othIsSymbol){setLow=false}else{setLow=retHighest?computed<=value:computed<value}if(setLow){low=mid+1}else{high=mid}}return nativeMin(high,MAX_ARRAY_INDEX)}function baseSortedUniq(array,iteratee){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;if(!index||!eq(computed,seen)){var seen=computed;result[resIndex++]=value===0?0:value}}return result}function baseToNumber(value){if(typeof value=="number"){return value}if(isSymbol(value)){return NAN}return+value}function baseToString(value){if(typeof value=="string"){return value}if(isArray(value)){return arrayMap(value,baseToString)+""}if(isSymbol(value)){return symbolToString?symbolToString.call(value):""}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=true,result=[],seen=result;if(comparator){isCommon=false;includes=arrayIncludesWith}else if(length>=LARGE_ARRAY_SIZE){var set=iteratee?null:createSet(array);if(set){return setToArray(set)}isCommon=false;includes=cacheHas;seen=new SetCache}else{seen=iteratee?[]:result}outer:while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;value=comparator||value!==0?value:0;if(isCommon&&computed===computed){var seenIndex=seen.length;while(seenIndex--){if(seen[seenIndex]===computed){continue outer}}if(iteratee){seen.push(computed)}result.push(value)}else if(!includes(seen,computed,comparator)){if(seen!==result){seen.push(computed)}result.push(value)}}return result}function baseUnset(object,path){path=castPath(path,object);object=parent(object,path);return object==null||delete object[toKey(last(path))]}function baseUpdate(object,path,updater,customizer){return baseSet(object,path,updater(baseGet(object,path)),customizer)}function baseWhile(array,predicate,isDrop,fromRight){var length=array.length,index=fromRight?length:-1;while((fromRight?index--:++index<length)&&predicate(array[index],index,array)){}return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;if(result instanceof LazyWrapper){result=result.value()}return arrayReduce(actions,function(result,action){return action.func.apply(action.thisArg,arrayPush([result],action.args))},result)}function baseXor(arrays,iteratee,comparator){var length=arrays.length;if(length<2){return length?baseUniq(arrays[0]):[]}var index=-1,result=Array(length);while(++index<length){var array=arrays[index],othIndex=-1;while(++othIndex<length){if(othIndex!=index){result[index]=baseDifference(result[index]||array,arrays[othIndex],iteratee,comparator)}}}return baseUniq(baseFlatten(result,1),iteratee,comparator)}function baseZipObject(props,values,assignFunc){var index=-1,length=props.length,valsLength=values.length,result={};while(++index<length){var value=index<valsLength?values[index]:undefined;assignFunc(result,props[index],value)}return result}function castArrayLikeObject(value){return isArrayLikeObject(value)?value:[]}function castFunction(value){return typeof value=="function"?value:identity}function castPath(value,object){if(isArray(value)){return value}return isKey(value,object)?[value]:stringToPath(toString(value))}var castRest=baseRest;function castSlice(array,start,end){var length=array.length;end=end===undefined?length:end;return!start&&end>=length?array:baseSlice(array,start,end)}var clearTimeout=ctxClearTimeout||function(id){return root.clearTimeout(id)};function cloneBuffer(buffer,isDeep){if(isDeep){return buffer.slice()}var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);buffer.copy(result);return result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);new Uint8Array(result).set(new Uint8Array(arrayBuffer));return result}function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));result.lastIndex=regexp.lastIndex;return result}function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function compareAscending(value,other){if(value!==other){var valIsDefined=value!==undefined,valIsNull=value===null,valIsReflexive=value===value,valIsSymbol=isSymbol(value);var othIsDefined=other!==undefined,othIsNull=other===null,othIsReflexive=other===other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive){return 1}if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive){return-1}}return 0}function compareMultiple(object,other,orders){var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;while(++index<length){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength){return result}var order=orders[index];return result*(order=="desc"?-1:1)}}return object.index-other.index}function composeArgs(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;while(++leftIndex<leftLength){result[leftIndex]=partials[leftIndex]}while(++argsIndex<holdersLength){if(isUncurried||argsIndex<argsLength){result[holders[argsIndex]]=args[argsIndex]}}while(rangeLength--){result[leftIndex++]=args[argsIndex++]}return result}function composeArgsRight(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;while(++argsIndex<rangeLength){result[argsIndex]=args[argsIndex]}var offset=argsIndex;while(++rightIndex<rightLength){result[offset+rightIndex]=partials[rightIndex]}while(++holdersIndex<holdersLength){if(isUncurried||argsIndex<argsLength){result[offset+holders[holdersIndex]]=args[argsIndex++]}}return result}function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length){array[index]=source[index]}return array}function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];var newValue=customizer?customizer(object[key],source[key],key,object,source):undefined;if(newValue===undefined){newValue=source[key]}if(isNew){baseAssignValue(object,key,newValue)}else{assignValue(object,key,newValue)}}return object}function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}function copySymbolsIn(source,object){return copyObject(source,getSymbolsIn(source),object)}function createAggregator(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,getIteratee(iteratee,2),accumulator)}}function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;customizer=assigner.length>3&&typeof customizer=="function"?(length--,customizer):undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=length<3?undefined:customizer;length=1}object=Object(object);while(++index<length){var source=sources[index];if(source){assigner(object,source,index,customizer)}}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(collection==null){return collection}if(!isArrayLike(collection)){return eachFunc(collection,iteratee)}var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);while(fromRight?index--:++index<length){if(iteratee(iterable[index],index,iterable)===false){break}}return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;while(length--){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===false){break}}return object}}function createBind(func,bitmask,thisArg){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,arguments)}return wrapper}function createCaseFirst(methodName){return function(string){string=toString(string);var strSymbols=hasUnicode(string)?stringToArray(string):undefined;var chr=strSymbols?strSymbols[0]:string.charAt(0);var trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}function createCtor(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createCurry(func,bitmask,arity){var Ctor=createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length,placeholder=getHolder(wrapper);while(index--){args[index]=arguments[index]}var holders=length<3&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);length-=holders.length;if(length<arity){return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,undefined,args,holders,undefined,undefined,arity-length)}var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return apply(fn,this,args)}return wrapper}function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=getIteratee(predicate,3);collection=keys(collection);predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:undefined}}function createFlow(fromRight){return flatRest(function(funcs){var length=funcs.length,index=length,prereq=LodashWrapper.prototype.thru;if(fromRight){funcs.reverse()}while(index--){var func=funcs[index];if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}if(prereq&&!wrapper&&getFuncName(func)=="wrapper"){var wrapper=new LodashWrapper([],true)}}index=wrapper?index:length;while(++index<length){func=funcs[index];var funcName=getFuncName(func),data=funcName=="wrapper"?getData(func):undefined;if(data&&isLaziable(data[0])&&data[1]==(WRAP_ARY_FLAG|WRAP_CURRY_FLAG|WRAP_PARTIAL_FLAG|WRAP_REARG_FLAG)&&!data[4].length&&data[9]==1){wrapper=wrapper[getFuncName(data[0])].apply(wrapper,data[3])}else{wrapper=func.length==1&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}}return function(){var args=arguments,value=args[0];if(wrapper&&args.length==1&&isArray(value)){return wrapper.plant(value).value()}var index=0,result=length?funcs[index].apply(this,args):value;while(++index<length){result=funcs[index].call(this,result)}return result}})}function createHybrid(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=bitmask&WRAP_ARY_FLAG,isBind=bitmask&WRAP_BIND_FLAG,isBindKey=bitmask&WRAP_BIND_KEY_FLAG,isCurried=bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG),isFlip=bitmask&WRAP_FLIP_FLAG,Ctor=isBindKey?undefined:createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length;while(index--){args[index]=arguments[index]}if(isCurried){var placeholder=getHolder(wrapper),holdersCount=countHolders(args,placeholder)}if(partials){args=composeArgs(args,partials,holders,isCurried)}if(partialsRight){args=composeArgsRight(args,partialsRight,holdersRight,isCurried)}length-=holdersCount;if(isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length)}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;length=args.length;if(argPos){args=reorder(args,argPos)}else if(isFlip&&length>1){args.reverse()}if(isAry&&ary<length){args.length=ary}if(this&&this!==root&&this instanceof wrapper){fn=Ctor||createCtor(fn)}return fn.apply(thisBinding,args)}return wrapper}function createInverter(setter,toIteratee){return function(object,iteratee){return baseInverter(object,setter,toIteratee(iteratee),{})}}function createMathOperation(operator,defaultValue){return function(value,other){var result;if(value===undefined&&other===undefined){return defaultValue}if(value!==undefined){result=value}if(other!==undefined){if(result===undefined){return other}if(typeof value=="string"||typeof other=="string"){value=baseToString(value);other=baseToString(other)}else{value=baseToNumber(value);other=baseToNumber(other)}result=operator(value,other)}return result}}function createOver(arrayFunc){return flatRest(function(iteratees){iteratees=arrayMap(iteratees,baseUnary(getIteratee()));return baseRest(function(args){var thisArg=this;return arrayFunc(iteratees,function(iteratee){return apply(iteratee,thisArg,args)})})})}function createPadding(length,chars){chars=chars===undefined?" ":baseToString(chars);var charsLength=chars.length;if(charsLength<2){return charsLength?baseRepeat(chars,length):chars}var result=baseRepeat(chars,nativeCeil(length/stringSize(chars)));return hasUnicode(chars)?castSlice(stringToArray(result),0,length).join(""):result.slice(0,length)}function createPartial(func,bitmask,thisArg,partials){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;while(++leftIndex<leftLength){args[leftIndex]=partials[leftIndex]}while(argsLength--){args[leftIndex++]=arguments[++argsIndex]}return apply(fn,isBind?thisArg:this,args)}return wrapper}function createRange(fromRight){return function(start,end,step){if(step&&typeof step!="number"&&isIterateeCall(start,end,step)){end=step=undefined}start=toFinite(start);if(end===undefined){end=start;start=0}else{end=toFinite(end)}step=step===undefined?start<end?1:-1:toFinite(step);return baseRange(start,end,step,fromRight)}}function createRelationalOperation(operator){return function(value,other){if(!(typeof value=="string"&&typeof other=="string")){value=toNumber(value);other=toNumber(other)}return operator(value,other)}}function createRecurry(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=bitmask&WRAP_CURRY_FLAG,newHolders=isCurry?holders:undefined,newHoldersRight=isCurry?undefined:holders,newPartials=isCurry?partials:undefined,newPartialsRight=isCurry?undefined:partials;bitmask|=isCurry?WRAP_PARTIAL_FLAG:WRAP_PARTIAL_RIGHT_FLAG;bitmask&=~(isCurry?WRAP_PARTIAL_RIGHT_FLAG:WRAP_PARTIAL_FLAG);if(!(bitmask&WRAP_CURRY_BOUND_FLAG)){bitmask&=~(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG)}var newData=[func,bitmask,thisArg,newPartials,newHolders,newPartialsRight,newHoldersRight,argPos,ary,arity];var result=wrapFunc.apply(undefined,newData);if(isLaziable(func)){setData(result,newData)}result.placeholder=placeholder;return setWrapToString(result,func,bitmask)}function createRound(methodName){var func=Math[methodName];return function(number,precision){number=toNumber(number);precision=precision==null?0:nativeMin(toInteger(precision),292);if(precision&&nativeIsFinite(number)){var pair=(toString(number)+"e").split("e"),value=func(pair[0]+"e"+(+pair[1]+precision));pair=(toString(value)+"e").split("e");return+(pair[0]+"e"+(+pair[1]-precision))}return func(number)}}var createSet=!(Set&&1/setToArray(new Set([,-0]))[1]==INFINITY)?noop:function(values){return new Set(values)};function createToPairs(keysFunc){return function(object){var tag=getTag(object);if(tag==mapTag){return mapToArray(object)}if(tag==setTag){return setToPairs(object)}return baseToPairs(object,keysFunc(object))}}function createWrap(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&WRAP_BIND_KEY_FLAG;if(!isBindKey&&typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var length=partials?partials.length:0;if(!length){bitmask&=~(WRAP_PARTIAL_FLAG|WRAP_PARTIAL_RIGHT_FLAG);partials=holders=undefined}ary=ary===undefined?ary:nativeMax(toInteger(ary),0);arity=arity===undefined?arity:toInteger(arity);length-=holders?holders.length:0;if(bitmask&WRAP_PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined}var data=isBindKey?undefined:getData(func);var newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data){mergeData(newData,data)}func=newData[0];bitmask=newData[1];thisArg=newData[2];partials=newData[3];holders=newData[4];arity=newData[9]=newData[9]===undefined?isBindKey?0:func.length:nativeMax(newData[9]-length,0);if(!arity&&bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)){bitmask&=~(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)}if(!bitmask||bitmask==WRAP_BIND_FLAG){var result=createBind(func,bitmask,thisArg)}else if(bitmask==WRAP_CURRY_FLAG||bitmask==WRAP_CURRY_RIGHT_FLAG){result=createCurry(func,bitmask,arity)}else if((bitmask==WRAP_PARTIAL_FLAG||bitmask==(WRAP_BIND_FLAG|WRAP_PARTIAL_FLAG))&&!holders.length){result=createPartial(func,bitmask,thisArg,partials)}else{result=createHybrid.apply(undefined,newData)}var setter=data?baseSetData:setData;return setWrapToString(setter(result,newData),func,bitmask)}function customDefaultsAssignIn(objValue,srcValue,key,object){if(objValue===undefined||eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key)){return srcValue}return objValue}function customDefaultsMerge(objValue,srcValue,key,object,source,stack){if(isObject(objValue)&&isObject(srcValue)){stack.set(srcValue,objValue);baseMerge(objValue,srcValue,undefined,customDefaultsMerge,stack);stack["delete"](srcValue)}return objValue}function customOmitClone(value){return isPlainObject(value)?undefined:value}function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength)){return false}var arrStacked=stack.get(array);var othStacked=stack.get(other);if(arrStacked&&othStacked){return arrStacked==other&&othStacked==array}var index=-1,result=true,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:undefined;stack.set(array,other);stack.set(other,array);while(++index<arrLength){var arrValue=array[index],othValue=other[index];if(customizer){var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack)}if(compared!==undefined){if(compared){continue}result=false;break}if(seen){if(!arraySome(other,function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){return seen.push(othIndex)}})){result=false;break}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){result=false;break}}stack["delete"](array);stack["delete"](other);return result}function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset){return false}object=object.buffer;other=other.buffer;case arrayBufferTag:if(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other))){return false}return true;case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;convert||(convert=setToArray);if(object.size!=other.size&&!isPartial){return false}var stacked=stack.get(object);if(stacked){return stacked==other}bitmask|=COMPARE_UNORDERED_FLAG;stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);stack["delete"](object);return result;case symbolTag:if(symbolValueOf){return symbolValueOf.call(object)==symbolValueOf.call(other)}}return false}function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length,othProps=getAllKeys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial){return false}var index=objLength;while(index--){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key))){return false}}var objStacked=stack.get(object);var othStacked=stack.get(other);if(objStacked&&othStacked){return objStacked==other&&othStacked==object}var result=true;stack.set(object,other);stack.set(other,object);var skipCtor=isPartial;while(++index<objLength){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer){var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack)}if(!(compared===undefined?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=false;break}skipCtor||(skipCtor=key=="constructor")}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&("constructor"in object&&"constructor"in other)&&!(typeof objCtor=="function"&&objCtor instanceof objCtor&&typeof othCtor=="function"&&othCtor instanceof othCtor)){result=false}}stack["delete"](object);stack["delete"](other);return result}function flatRest(func){return setToString(overRest(func,undefined,flatten),func+"")}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}var getData=!metaMap?noop:function(func){return metaMap.get(func)};function getFuncName(func){var result=func.name+"",array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;while(length--){var data=array[length],otherFunc=data.func;if(otherFunc==null||otherFunc==func){return data.name}}return result}function getHolder(func){var object=hasOwnProperty.call(lodash,"placeholder")?lodash:func;return object.placeholder}function getIteratee(){var result=lodash.iteratee||iteratee;result=result===iteratee?baseIteratee:result;return arguments.length?result(arguments[0],arguments[1]):result}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=="string"?"string":"hash"]:data.map}function getMatchData(object){var result=keys(object),length=result.length;while(length--){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined}function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=true}catch(e){}var result=nativeObjectToString.call(value);if(unmasked){if(isOwn){value[symToStringTag]=tag}else{delete value[symToStringTag]}}return result}var getSymbols=!nativeGetSymbols?stubArray:function(object){if(object==null){return[]}object=Object(object);return arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol)})};var getSymbolsIn=!nativeGetSymbols?stubArray:function(object){var result=[];while(object){arrayPush(result,getSymbols(object));object=getPrototype(object)}return result};var getTag=baseGetTag;if(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag){getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=Ctor?toSource(Ctor):"";if(ctorString){switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}}return result}}function getView(start,end,transforms){var index=-1,length=transforms.length;while(++index<length){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size);break}}return{start:start,end:end}}function getWrapDetails(source){var match=source.match(reWrapDetails);return match?match[1].split(reSplitDetails):[]}function hasPath(object,path,hasFunc){path=castPath(path,object);var index=-1,length=path.length,result=false;while(++index<length){var key=toKey(path[index]);if(!(result=object!=null&&hasFunc(object,key))){break}object=object[key]}if(result||++index!=length){return result}length=object==null?0:object.length;return!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}function initCloneArray(array){var length=array.length,result=new array.constructor(length);if(length&&typeof array[0]=="string"&&hasOwnProperty.call(array,"index")){result.index=array.index;result.input=array.input}return result}function initCloneObject(object){return typeof object.constructor=="function"&&!isPrototype(object)?baseCreate(getPrototype(object)):{}}function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return new Ctor;case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return new Ctor;case symbolTag:return cloneSymbol(object)}}function insertWrapDetails(source,details){var length=details.length;if(!length){return source}var lastIndex=length-1;details[lastIndex]=(length>1?"& ":"")+details[lastIndex];details=details.join(length>2?", ":" ");return source.replace(reWrapComment,"{\n/* [wrapped with "+details+"] */\n")}function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}function isIndex(value,length){var type=typeof value;length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(type=="number"||type!="symbol"&&reIsUint.test(value))&&(value>-1&&value%1==0&&value<length)}function isIterateeCall(value,index,object){if(!isObject(object)){return false}var type=typeof index;if(type=="number"?isArrayLike(object)&&isIndex(index,object.length):type=="string"&&index in object){return eq(object[index],value)}return false}function isKey(value,object){if(isArray(value)){return false}var type=typeof value;if(type=="number"||type=="symbol"||type=="boolean"||value==null||isSymbol(value)){return true}return reIsPlainProp.test(value)||!reIsDeepProp.test(value)||object!=null&&value in Object(object)}function isKeyable(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if(typeof other!="function"||!(funcName in LazyWrapper.prototype)){return false}if(func===other){return true}var data=getData(other);return!!data&&func===data[0]}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}var isMaskable=coreJsData?isFunction:stubFalse;function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto;return value===proto}function isStrictComparable(value){return value===value&&!isObject(value)}function matchesStrictComparable(key,srcValue){return function(object){if(object==null){return false}return object[key]===srcValue&&(srcValue!==undefined||key in Object(object))}}function memoizeCapped(func){var result=memoize(func,function(key){if(cache.size===MAX_MEMOIZE_SIZE){cache.clear()}return key});var cache=result.cache;return result}function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG|WRAP_ARY_FLAG);var isCombo=srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_CURRY_FLAG||srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(WRAP_ARY_FLAG|WRAP_REARG_FLAG)&&source[7].length<=source[8]&&bitmask==WRAP_CURRY_FLAG;if(!(isCommon||isCombo)){return data}if(srcBitmask&WRAP_BIND_FLAG){data[2]=source[2];newBitmask|=bitmask&WRAP_BIND_FLAG?0:WRAP_CURRY_BOUND_FLAG}var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):value;data[4]=partials?replaceHolders(data[3],PLACEHOLDER):source[4]}value=source[5];if(value){partials=data[5];data[5]=partials?composeArgsRight(partials,value,source[6]):value;data[6]=partials?replaceHolders(data[5],PLACEHOLDER):source[6]}value=source[7];if(value){data[7]=value}if(srcBitmask&WRAP_ARY_FLAG){data[8]=data[8]==null?source[8]:nativeMin(data[8],source[8])}if(data[9]==null){data[9]=source[9]}data[0]=source[0];data[1]=newBitmask;return data}function nativeKeysIn(object){var result=[];if(object!=null){for(var key in Object(object)){result.push(key)}}return result}function objectToString(value){return nativeObjectToString.call(value)}function overRest(func,start,transform){start=nativeMax(start===undefined?func.length-1:start,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);while(++index<length){array[index]=args[start+index]}index=-1;var otherArgs=Array(start+1);while(++index<start){otherArgs[index]=args[index]}otherArgs[start]=transform(array);return apply(func,this,otherArgs)}}function parent(object,path){return path.length<2?object:baseGet(object,baseSlice(path,0,-1))}function reorder(array,indexes){var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);while(length--){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}function safeGet(object,key){if(key==="constructor"&&typeof object[key]==="function"){return}if(key=="__proto__"){return}return object[key]}var setData=shortOut(baseSetData);var setTimeout=ctxSetTimeout||function(func,wait){return root.setTimeout(func,wait)};var setToString=shortOut(baseSetToString);function setWrapToString(wrapper,reference,bitmask){var source=reference+"";return setToString(wrapper,insertWrapDetails(source,updateWrapDetails(getWrapDetails(source),bitmask)))}function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);lastCalled=stamp;if(remaining>0){if(++count>=HOT_COUNT){return arguments[0]}}else{count=0}return func.apply(undefined,arguments)}}function shuffleSelf(array,size){var index=-1,length=array.length,lastIndex=length-1;size=size===undefined?length:size;while(++index<size){var rand=baseRandom(index,lastIndex),value=array[rand];array[rand]=array[index];array[index]=value}array.length=size;return array}var stringToPath=memoizeCapped(function(string){var result=[];if(string.charCodeAt(0)===46){result.push("")}string.replace(rePropName,function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)});return result});function toKey(value){if(typeof value=="string"||isSymbol(value)){return value}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}function toSource(func){if(func!=null){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function updateWrapDetails(details,bitmask){arrayEach(wrapFlags,function(pair){var value="_."+pair[0];if(bitmask&pair[1]&&!arrayIncludes(details,value)){details.push(value)}});return details.sort()}function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper){return wrapper.clone()}var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);result.__actions__=copyArray(wrapper.__actions__);result.__index__=wrapper.__index__;result.__values__=wrapper.__values__;return result}function chunk(array,size,guard){if(guard?isIterateeCall(array,size,guard):size===undefined){size=1}else{size=nativeMax(toInteger(size),0)}var length=array==null?0:array.length;if(!length||size<1){return[]}var index=0,resIndex=0,result=Array(nativeCeil(length/size));while(index<length){result[resIndex++]=baseSlice(array,index,index+=size)}return result}function compact(array){var index=-1,length=array==null?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(value){result[resIndex++]=value}}return result}function concat(){var length=arguments.length;if(!length){return[]}var args=Array(length-1),array=arguments[0],index=length;while(index--){args[index-1]=arguments[index]}return arrayPush(isArray(array)?copyArray(array):[array],baseFlatten(args,1))}var difference=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true)):[]});var differenceBy=baseRest(function(array,values){var iteratee=last(values);if(isArrayLikeObject(iteratee)){iteratee=undefined}return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true),getIteratee(iteratee,2)):[]});var differenceWith=baseRest(function(array,values){var comparator=last(values);if(isArrayLikeObject(comparator)){comparator=undefined}return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true),undefined,comparator):[]});function drop(array,n,guard){var length=array==null?0:array.length;if(!length){return[]}n=guard||n===undefined?1:toInteger(n);return baseSlice(array,n<0?0:n,length)}function dropRight(array,n,guard){var length=array==null?0:array.length;if(!length){return[]}n=guard||n===undefined?1:toInteger(n);n=length-n;return baseSlice(array,0,n<0?0:n)}function dropRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),true,true):[]}function dropWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),true):[]}function fill(array,value,start,end){var length=array==null?0:array.length;if(!length){return[]}if(start&&typeof start!="number"&&isIterateeCall(array,value,start)){start=0;end=length}return baseFill(array,value,start,end)}function findIndex(array,predicate,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=fromIndex==null?0:toInteger(fromIndex);if(index<0){index=nativeMax(length+index,0)}return baseFindIndex(array,getIteratee(predicate,3),index)}function findLastIndex(array,predicate,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=length-1;if(fromIndex!==undefined){index=toInteger(fromIndex);index=fromIndex<0?nativeMax(length+index,0):nativeMin(index,length-1)}return baseFindIndex(array,getIteratee(predicate,3),index,true)}function flatten(array){var length=array==null?0:array.length;return length?baseFlatten(array,1):[]}function flattenDeep(array){var length=array==null?0:array.length;return length?baseFlatten(array,INFINITY):[]}function flattenDepth(array,depth){var length=array==null?0:array.length;if(!length){return[]}depth=depth===undefined?1:toInteger(depth);return baseFlatten(array,depth)}function fromPairs(pairs){var index=-1,length=pairs==null?0:pairs.length,result={};while(++index<length){var pair=pairs[index];result[pair[0]]=pair[1]}return result}function head(array){return array&&array.length?array[0]:undefined}function indexOf(array,value,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=fromIndex==null?0:toInteger(fromIndex);if(index<0){index=nativeMax(length+index,0)}return baseIndexOf(array,value,index)}function initial(array){var length=array==null?0:array.length;return length?baseSlice(array,0,-1):[]}var intersection=baseRest(function(arrays){var mapped=arrayMap(arrays,castArrayLikeObject);return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped):[]});var intersectionBy=baseRest(function(arrays){var iteratee=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);if(iteratee===last(mapped)){iteratee=undefined}else{mapped.pop()}return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,getIteratee(iteratee,2)):[]});var intersectionWith=baseRest(function(arrays){var comparator=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);comparator=typeof comparator=="function"?comparator:undefined;if(comparator){mapped.pop()}return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,undefined,comparator):[]});function join(array,separator){return array==null?"":nativeJoin.call(array,separator)}function last(array){var length=array==null?0:array.length;return length?array[length-1]:undefined}function lastIndexOf(array,value,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=length;if(fromIndex!==undefined){index=toInteger(fromIndex);index=index<0?nativeMax(length+index,0):nativeMin(index,length-1)}return value===value?strictLastIndexOf(array,value,index):baseFindIndex(array,baseIsNaN,index,true)}function nth(array,n){return array&&array.length?baseNth(array,toInteger(n)):undefined}var pull=baseRest(pullAll);function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array}function pullAllBy(array,values,iteratee){return array&&array.length&&values&&values.length?basePullAll(array,values,getIteratee(iteratee,2)):array}function pullAllWith(array,values,comparator){return array&&array.length&&values&&values.length?basePullAll(array,values,undefined,comparator):array}var pullAt=flatRest(function(array,indexes){var length=array==null?0:array.length,result=baseAt(array,indexes);basePullAt(array,arrayMap(indexes,function(index){return isIndex(index,length)?+index:index}).sort(compareAscending));return result});function remove(array,predicate){var result=[];if(!(array&&array.length)){return result}var index=-1,indexes=[],length=array.length;predicate=getIteratee(predicate,3);while(++index<length){var value=array[index];if(predicate(value,index,array)){result.push(value);indexes.push(index)}}basePullAt(array,indexes);return result}function reverse(array){return array==null?array:nativeReverse.call(array)}function slice(array,start,end){var length=array==null?0:array.length;if(!length){return[]}if(end&&typeof end!="number"&&isIterateeCall(array,start,end)){start=0;end=length}else{start=start==null?0:toInteger(start);end=end===undefined?length:toInteger(end)}return baseSlice(array,start,end)}function sortedIndex(array,value){return baseSortedIndex(array,value)}function sortedIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2))}function sortedIndexOf(array,value){var length=array==null?0:array.length;if(length){var index=baseSortedIndex(array,value);if(index<length&&eq(array[index],value)){return index}}return-1}function sortedLastIndex(array,value){return baseSortedIndex(array,value,true)}function sortedLastIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2),true)}function sortedLastIndexOf(array,value){var length=array==null?0:array.length;if(length){var index=baseSortedIndex(array,value,true)-1;if(eq(array[index],value)){return index}}return-1}function sortedUniq(array){return array&&array.length?baseSortedUniq(array):[]}function sortedUniqBy(array,iteratee){return array&&array.length?baseSortedUniq(array,getIteratee(iteratee,2)):[]}function tail(array){var length=array==null?0:array.length;return length?baseSlice(array,1,length):[]}function take(array,n,guard){if(!(array&&array.length)){return[]}n=guard||n===undefined?1:toInteger(n);return baseSlice(array,0,n<0?0:n)}function takeRight(array,n,guard){var length=array==null?0:array.length;if(!length){return[]}n=guard||n===undefined?1:toInteger(n);n=length-n;return baseSlice(array,n<0?0:n,length)}function takeRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),false,true):[]}function takeWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3)):[]}var union=baseRest(function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true))});var unionBy=baseRest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee)){iteratee=undefined}return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true),getIteratee(iteratee,2))});var unionWith=baseRest(function(arrays){var comparator=last(arrays);comparator=typeof comparator=="function"?comparator:undefined;return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true),undefined,comparator)});function uniq(array){return array&&array.length?baseUniq(array):[]}function uniqBy(array,iteratee){return array&&array.length?baseUniq(array,getIteratee(iteratee,2)):[]}function uniqWith(array,comparator){comparator=typeof comparator=="function"?comparator:undefined;return array&&array.length?baseUniq(array,undefined,comparator):[]}function unzip(array){if(!(array&&array.length)){return[]}var length=0;array=arrayFilter(array,function(group){if(isArrayLikeObject(group)){length=nativeMax(group.length,length);return true}});return baseTimes(length,function(index){return arrayMap(array,baseProperty(index))})}function unzipWith(array,iteratee){if(!(array&&array.length)){return[]}var result=unzip(array);if(iteratee==null){return result}return arrayMap(result,function(group){return apply(iteratee,undefined,group)})}var without=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,values):[]});var xor=baseRest(function(arrays){return baseXor(arrayFilter(arrays,isArrayLikeObject))});var xorBy=baseRest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee)){iteratee=undefined}return baseXor(arrayFilter(arrays,isArrayLikeObject),getIteratee(iteratee,2))});var xorWith=baseRest(function(arrays){var comparator=last(arrays);comparator=typeof comparator=="function"?comparator:undefined;return baseXor(arrayFilter(arrays,isArrayLikeObject),undefined,comparator)});var zip=baseRest(unzip);function zipObject(props,values){return baseZipObject(props||[],values||[],assignValue)}function zipObjectDeep(props,values){return baseZipObject(props||[],values||[],baseSet)}var zipWith=baseRest(function(arrays){var length=arrays.length,iteratee=length>1?arrays[length-1]:undefined;iteratee=typeof iteratee=="function"?(arrays.pop(),iteratee):undefined;return unzipWith(arrays,iteratee)});function chain(value){var result=lodash(value);result.__chain__=true;return result}function tap(value,interceptor){interceptor(value);return value}function thru(value,interceptor){return interceptor(value)}var wrapperAt=flatRest(function(paths){var length=paths.length,start=length?paths[0]:0,value=this.__wrapped__,interceptor=function(object){return baseAt(object,paths)};if(length>1||this.__actions__.length||!(value instanceof LazyWrapper)||!isIndex(start)){return this.thru(interceptor)}value=value.slice(start,+start+(length?1:0));value.__actions__.push({func:thru,args:[interceptor],thisArg:undefined});return new LodashWrapper(value,this.__chain__).thru(function(array){if(length&&!array.length){array.push(undefined)}return array})});function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}function wrapperNext(){if(this.__values__===undefined){this.__values__=toArray(this.value())}var done=this.__index__>=this.__values__.length,value=done?undefined:this.__values__[this.__index__++];return{done:done,value:value}}function wrapperToIterator(){return this}function wrapperPlant(value){var result,parent=this;while(parent instanceof baseLodash){var clone=wrapperClone(parent);clone.__index__=0;clone.__values__=undefined;if(result){previous.__wrapped__=clone}else{result=clone}var previous=clone;parent=parent.__wrapped__}previous.__wrapped__=value;return result}function wrapperReverse(){var value=this.__wrapped__;if(value instanceof LazyWrapper){var wrapped=value;if(this.__actions__.length){wrapped=new LazyWrapper(this)}wrapped=wrapped.reverse();wrapped.__actions__.push({func:thru,args:[reverse],thisArg:undefined});return new LodashWrapper(wrapped,this.__chain__)}return this.thru(reverse)}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}var countBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key)){++result[key]}else{baseAssignValue(result,key,1)}});function every(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;if(guard&&isIterateeCall(collection,predicate,guard)){predicate=undefined}return func(collection,getIteratee(predicate,3))}function filter(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,getIteratee(predicate,3))}var find=createFind(findIndex);var findLast=createFind(findLastIndex);function flatMap(collection,iteratee){return baseFlatten(map(collection,iteratee),1)}function flatMapDeep(collection,iteratee){return baseFlatten(map(collection,iteratee),INFINITY)}function flatMapDepth(collection,iteratee,depth){depth=depth===undefined?1:toInteger(depth);return baseFlatten(map(collection,iteratee),depth)}function forEach(collection,iteratee){var func=isArray(collection)?arrayEach:baseEach;return func(collection,getIteratee(iteratee,3))}function forEachRight(collection,iteratee){var func=isArray(collection)?arrayEachRight:baseEachRight;return func(collection,getIteratee(iteratee,3))}var groupBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key)){result[key].push(value)}else{baseAssignValue(result,key,[value])}});function includes(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection);fromIndex=fromIndex&&!guard?toInteger(fromIndex):0;var length=collection.length;if(fromIndex<0){fromIndex=nativeMax(length+fromIndex,0)}return isString(collection)?fromIndex<=length&&collection.indexOf(value,fromIndex)>-1:!!length&&baseIndexOf(collection,value,fromIndex)>-1}var invokeMap=baseRest(function(collection,path,args){var index=-1,isFunc=typeof path=="function",result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value){result[++index]=isFunc?apply(path,value,args):baseInvoke(value,path,args)});return result});var keyBy=createAggregator(function(result,value,key){baseAssignValue(result,key,value)});function map(collection,iteratee){var func=isArray(collection)?arrayMap:baseMap;return func(collection,getIteratee(iteratee,3))}function orderBy(collection,iteratees,orders,guard){if(collection==null){return[]}if(!isArray(iteratees)){iteratees=iteratees==null?[]:[iteratees]}orders=guard?undefined:orders;if(!isArray(orders)){orders=orders==null?[]:[orders]}return baseOrderBy(collection,iteratees,orders)}var partition=createAggregator(function(result,value,key){result[key?0:1].push(value)},function(){return[[],[]]});function reduce(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEach)}function reduceRight(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduceRight:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEachRight)}function reject(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,negate(getIteratee(predicate,3)))}function sample(collection){var func=isArray(collection)?arraySample:baseSample;return func(collection)}function sampleSize(collection,n,guard){if(guard?isIterateeCall(collection,n,guard):n===undefined){n=1}else{n=toInteger(n)}var func=isArray(collection)?arraySampleSize:baseSampleSize;return func(collection,n)}function shuffle(collection){var func=isArray(collection)?arrayShuffle:baseShuffle;return func(collection)}function size(collection){if(collection==null){return 0}if(isArrayLike(collection)){return isString(collection)?stringSize(collection):collection.length}var tag=getTag(collection);if(tag==mapTag||tag==setTag){return collection.size}return baseKeys(collection).length}function some(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;if(guard&&isIterateeCall(collection,predicate,guard)){predicate=undefined}return func(collection,getIteratee(predicate,3))}var sortBy=baseRest(function(collection,iteratees){if(collection==null){return[]}var length=iteratees.length;if(length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])){iteratees=[]}else if(length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])){iteratees=[iteratees[0]]}return baseOrderBy(collection,baseFlatten(iteratees,1),[])});var now=ctxNow||function(){return root.Date.now()};function after(n,func){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}n=toInteger(n);return function(){if(--n<1){return func.apply(this,arguments)}}}function ary(func,n,guard){n=guard?undefined:n;n=func&&n==null?func.length:n;return createWrap(func,WRAP_ARY_FLAG,undefined,undefined,undefined,undefined,n)}function before(n,func){var result;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}n=toInteger(n);return function(){if(--n>0){result=func.apply(this,arguments)}if(n<=1){func=undefined}return result}}var bind=baseRest(function(func,thisArg,partials){var bitmask=WRAP_BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bind));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(func,bitmask,thisArg,partials,holders)});var bindKey=baseRest(function(object,key,partials){var bitmask=WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bindKey));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(key,bitmask,object,partials,holders)});function curry(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,WRAP_CURRY_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curry.placeholder;return result}function curryRight(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,WRAP_CURRY_RIGHT_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curryRight.placeholder;return result}function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=false,maxing=false,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}wait=toNumber(wait)||0;if(isObject(options)){leading=!!options.leading;maxing="maxWait"in options;maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait;trailing="trailing"in options?!!options.trailing:trailing}function invokeFunc(time){var args=lastArgs,thisArg=lastThis;lastArgs=lastThis=undefined;lastInvokeTime=time;result=func.apply(thisArg,args);return result}function leadingEdge(time){lastInvokeTime=time;timerId=setTimeout(timerExpired,wait);return leading?invokeFunc(time):result}function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,timeWaiting=wait-timeSinceLastCall;return maxing?nativeMin(timeWaiting,maxWait-timeSinceLastInvoke):timeWaiting}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return lastCallTime===undefined||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&timeSinceLastInvoke>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time)){return trailingEdge(time)}timerId=setTimeout(timerExpired,remainingWait(time))}function trailingEdge(time){timerId=undefined;if(trailing&&lastArgs){return invokeFunc(time)}lastArgs=lastThis=undefined;return result}function cancel(){if(timerId!==undefined){clearTimeout(timerId)}lastInvokeTime=0;lastArgs=lastCallTime=lastThis=timerId=undefined}function flush(){return timerId===undefined?result:trailingEdge(now())}function debounced(){var time=now(),isInvoking=shouldInvoke(time);lastArgs=arguments;lastThis=this;lastCallTime=time;if(isInvoking){if(timerId===undefined){return leadingEdge(lastCallTime)}if(maxing){clearTimeout(timerId);timerId=setTimeout(timerExpired,wait);return invokeFunc(lastCallTime)}}if(timerId===undefined){timerId=setTimeout(timerExpired,wait)}return result}debounced.cancel=cancel;debounced.flush=flush;return debounced}var defer=baseRest(function(func,args){return baseDelay(func,1,args)});var delay=baseRest(function(func,wait,args){return baseDelay(func,toNumber(wait)||0,args)});function flip(func){return createWrap(func,WRAP_FLIP_FLAG)}function memoize(func,resolver){if(typeof func!="function"||resolver!=null&&typeof resolver!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key)}var result=func.apply(this,args);memoized.cache=cache.set(key,result)||cache;return result};memoized.cache=new(memoize.Cache||MapCache);return memoized}memoize.Cache=MapCache;function negate(predicate){if(typeof predicate!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return function(){var args=arguments;switch(args.length){case 0:return!predicate.call(this);case 1:return!predicate.call(this,args[0]);case 2:return!predicate.call(this,args[0],args[1]);case 3:return!predicate.call(this,args[0],args[1],args[2])}return!predicate.apply(this,args)}}function once(func){return before(2,func)}var overArgs=castRest(function(func,transforms){transforms=transforms.length==1&&isArray(transforms[0])?arrayMap(transforms[0],baseUnary(getIteratee())):arrayMap(baseFlatten(transforms,1),baseUnary(getIteratee()));var funcsLength=transforms.length;return baseRest(function(args){var index=-1,length=nativeMin(args.length,funcsLength);while(++index<length){args[index]=transforms[index].call(this,args[index])}return apply(func,this,args)})});var partial=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partial));return createWrap(func,WRAP_PARTIAL_FLAG,undefined,partials,holders)});var partialRight=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partialRight));return createWrap(func,WRAP_PARTIAL_RIGHT_FLAG,undefined,partials,holders)});var rearg=flatRest(function(func,indexes){return createWrap(func,WRAP_REARG_FLAG,undefined,undefined,undefined,indexes)});function rest(func,start){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}start=start===undefined?start:toInteger(start);return baseRest(func,start)}function spread(func,start){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}start=start==null?0:nativeMax(toInteger(start),0);return baseRest(function(args){var array=args[start],otherArgs=castSlice(args,0,start);if(array){arrayPush(otherArgs,array)}return apply(func,this,otherArgs)})}function throttle(func,wait,options){var leading=true,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}if(isObject(options)){leading="leading"in options?!!options.leading:leading;trailing="trailing"in options?!!options.trailing:trailing}return debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})}function unary(func){return ary(func,1)}function wrap(value,wrapper){return partial(castFunction(wrapper),value)}function castArray(){if(!arguments.length){return[]}var value=arguments[0];return isArray(value)?value:[value]}function clone(value){return baseClone(value,CLONE_SYMBOLS_FLAG)}function cloneWith(value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return baseClone(value,CLONE_SYMBOLS_FLAG,customizer)}function cloneDeep(value){return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}function cloneDeepWith(value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG,customizer)}function conformsTo(object,source){return source==null||baseConformsTo(object,source,keys(source))}function eq(value,other){return value===other||value!==value&&other!==other}var gt=createRelationalOperation(baseGt);var gte=createRelationalOperation(function(value,other){return value>=other});var isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};var isArray=Array.isArray;var isArrayBuffer=nodeIsArrayBuffer?baseUnary(nodeIsArrayBuffer):baseIsArrayBuffer;function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isBoolean(value){return value===true||value===false||isObjectLike(value)&&baseGetTag(value)==boolTag}var isBuffer=nativeIsBuffer||stubFalse;var isDate=nodeIsDate?baseUnary(nodeIsDate):baseIsDate;function isElement(value){return isObjectLike(value)&&value.nodeType===1&&!isPlainObject(value)}function isEmpty(value){if(value==null){return true}if(isArrayLike(value)&&(isArray(value)||typeof value=="string"||typeof value.splice=="function"||isBuffer(value)||isTypedArray(value)||isArguments(value))){return!value.length}var tag=getTag(value);if(tag==mapTag||tag==setTag){return!value.size}if(isPrototype(value)){return!baseKeys(value).length}for(var key in value){if(hasOwnProperty.call(value,key)){return false}}return true}function isEqual(value,other){return baseIsEqual(value,other)}function isEqualWith(value,other,customizer){customizer=typeof customizer=="function"?customizer:undefined;var result=customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,undefined,customizer):!!result}function isError(value){if(!isObjectLike(value)){return false}var tag=baseGetTag(value);return tag==errorTag||tag==domExcTag||typeof value.message=="string"&&typeof value.name=="string"&&!isPlainObject(value)}function isFinite(value){return typeof value=="number"&&nativeIsFinite(value)}function isFunction(value){if(!isObject(value)){return false}var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}function isInteger(value){return typeof value=="number"&&value==toInteger(value)}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}function isObjectLike(value){return value!=null&&typeof value=="object"}var isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;function isMatch(object,source){return object===source||baseIsMatch(object,source,getMatchData(source))}function isMatchWith(object,source,customizer){customizer=typeof customizer=="function"?customizer:undefined;return baseIsMatch(object,source,getMatchData(source),customizer)}function isNaN(value){return isNumber(value)&&value!=+value}function isNative(value){if(isMaskable(value)){throw new Error(CORE_ERROR_TEXT)}return baseIsNative(value)}function isNull(value){return value===null}function isNil(value){return value==null}function isNumber(value){return typeof value=="number"||isObjectLike(value)&&baseGetTag(value)==numberTag}function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag){return false}var proto=getPrototype(value);if(proto===null){return true}var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return typeof Ctor=="function"&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}var isRegExp=nodeIsRegExp?baseUnary(nodeIsRegExp):baseIsRegExp;function isSafeInteger(value){return isInteger(value)&&value>=-MAX_SAFE_INTEGER&&value<=MAX_SAFE_INTEGER}var isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;function isString(value){return typeof value=="string"||!isArray(value)&&isObjectLike(value)&&baseGetTag(value)==stringTag}function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&baseGetTag(value)==symbolTag}var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;function isUndefined(value){return value===undefined}function isWeakMap(value){return isObjectLike(value)&&getTag(value)==weakMapTag}function isWeakSet(value){return isObjectLike(value)&&baseGetTag(value)==weakSetTag}var lt=createRelationalOperation(baseLt);var lte=createRelationalOperation(function(value,other){return value<=other});function toArray(value){if(!value){return[]}if(isArrayLike(value)){return isString(value)?stringToArray(value):copyArray(value)}if(symIterator&&value[symIterator]){return iteratorToArray(value[symIterator]())}var tag=getTag(value),func=tag==mapTag?mapToArray:tag==setTag?setToArray:values;return func(value)}function toFinite(value){if(!value){return value===0?value:0}value=toNumber(value);if(value===INFINITY||value===-INFINITY){var sign=value<0?-1:1;return sign*MAX_INTEGER}return value===value?value:0}function toInteger(value){var result=toFinite(value),remainder=result%1;return result===result?remainder?result-remainder:result:0}function toLength(value){return value?baseClamp(toInteger(value),0,MAX_ARRAY_LENGTH):0}function toNumber(value){if(typeof value=="number"){return value}if(isSymbol(value)){return NAN}if(isObject(value)){var other=typeof value.valueOf=="function"?value.valueOf():value;value=isObject(other)?other+"":other}if(typeof value!="string"){return value===0?value:+value}value=baseTrim(value);var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}function toPlainObject(value){return copyObject(value,keysIn(value))}function toSafeInteger(value){return value?baseClamp(toInteger(value),-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER):value===0?value:0}function toString(value){return value==null?"":baseToString(value)}var assign=createAssigner(function(object,source){if(isPrototype(source)||isArrayLike(source)){copyObject(source,keys(source),object);return}for(var key in source){if(hasOwnProperty.call(source,key)){assignValue(object,key,source[key])}}});var assignIn=createAssigner(function(object,source){copyObject(source,keysIn(source),object)});var assignInWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keysIn(source),object,customizer)});var assignWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keys(source),object,customizer)});var at=flatRest(baseAt);function create(prototype,properties){var result=baseCreate(prototype);return properties==null?result:baseAssign(result,properties)}var defaults=baseRest(function(object,sources){object=Object(object);var index=-1;var length=sources.length;var guard=length>2?sources[2]:undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard)){length=1}while(++index<length){var source=sources[index];var props=keysIn(source);var propsIndex=-1;var propsLength=props.length;while(++propsIndex<propsLength){var key=props[propsIndex];var value=object[key];if(value===undefined||eq(value,objectProto[key])&&!hasOwnProperty.call(object,key)){object[key]=source[key]}}}return object});var defaultsDeep=baseRest(function(args){args.push(undefined,customDefaultsMerge);return apply(mergeWith,undefined,args)});function findKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwn)}function findLastKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwnRight)}function forIn(object,iteratee){return object==null?object:baseFor(object,getIteratee(iteratee,3),keysIn)}function forInRight(object,iteratee){return object==null?object:baseForRight(object,getIteratee(iteratee,3),keysIn)}function forOwn(object,iteratee){return object&&baseForOwn(object,getIteratee(iteratee,3))}function forOwnRight(object,iteratee){return object&&baseForOwnRight(object,getIteratee(iteratee,3))}function functions(object){return object==null?[]:baseFunctions(object,keys(object))}function functionsIn(object){return object==null?[]:baseFunctions(object,keysIn(object))}function get(object,path,defaultValue){var result=object==null?undefined:baseGet(object,path);return result===undefined?defaultValue:result}function has(object,path){return object!=null&&hasPath(object,path,baseHas)}function hasIn(object,path){return object!=null&&hasPath(object,path,baseHasIn)}var invert=createInverter(function(result,value,key){if(value!=null&&typeof value.toString!="function"){value=nativeObjectToString.call(value)}result[value]=key},constant(identity));var invertBy=createInverter(function(result,value,key){if(value!=null&&typeof value.toString!="function"){value=nativeObjectToString.call(value)}if(hasOwnProperty.call(result,value)){result[value].push(key)}else{result[value]=[key]}},getIteratee);var invoke=baseRest(baseInvoke);function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,true):baseKeysIn(object)}function mapKeys(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){baseAssignValue(result,iteratee(value,key,object),value)});return result}function mapValues(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object))});return result}var merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex)});var mergeWith=createAssigner(function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)});var omit=flatRest(function(object,paths){var result={};if(object==null){return result}var isDeep=false;paths=arrayMap(paths,function(path){path=castPath(path,object);isDeep||(isDeep=path.length>1);return path});copyObject(object,getAllKeysIn(object),result);if(isDeep){result=baseClone(result,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone)}var length=paths.length;while(length--){baseUnset(result,paths[length])}return result});function omitBy(object,predicate){return pickBy(object,negate(getIteratee(predicate)))}var pick=flatRest(function(object,paths){return object==null?{}:basePick(object,paths)});function pickBy(object,predicate){if(object==null){return{}}var props=arrayMap(getAllKeysIn(object),function(prop){return[prop]});predicate=getIteratee(predicate);return basePickBy(object,props,function(value,path){return predicate(value,path[0])})}function result(object,path,defaultValue){path=castPath(path,object);var index=-1,length=path.length;if(!length){length=1;object=undefined}while(++index<length){var value=object==null?undefined:object[toKey(path[index])];if(value===undefined){index=length;value=defaultValue}object=isFunction(value)?value.call(object):value}return object}function set(object,path,value){return object==null?object:baseSet(object,path,value)}function setWith(object,path,value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return object==null?object:baseSet(object,path,value,customizer)}var toPairs=createToPairs(keys);var toPairsIn=createToPairs(keysIn);function transform(object,iteratee,accumulator){var isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);iteratee=getIteratee(iteratee,4);if(accumulator==null){var Ctor=object&&object.constructor;if(isArrLike){accumulator=isArr?new Ctor:[]}else if(isObject(object)){accumulator=isFunction(Ctor)?baseCreate(getPrototype(object)):{}}else{accumulator={}}}(isArrLike?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)});return accumulator}function unset(object,path){return object==null?true:baseUnset(object,path)}function update(object,path,updater){return object==null?object:baseUpdate(object,path,castFunction(updater))}function updateWith(object,path,updater,customizer){customizer=typeof customizer=="function"?customizer:undefined;return object==null?object:baseUpdate(object,path,castFunction(updater),customizer)}function values(object){return object==null?[]:baseValues(object,keys(object))}function valuesIn(object){return object==null?[]:baseValues(object,keysIn(object))}function clamp(number,lower,upper){if(upper===undefined){upper=lower;lower=undefined}if(upper!==undefined){upper=toNumber(upper);upper=upper===upper?upper:0}if(lower!==undefined){lower=toNumber(lower);lower=lower===lower?lower:0}return baseClamp(toNumber(number),lower,upper)}function inRange(number,start,end){start=toFinite(start);if(end===undefined){end=start;start=0}else{end=toFinite(end)}number=toNumber(number);return baseInRange(number,start,end)}function random(lower,upper,floating){if(floating&&typeof floating!="boolean"&&isIterateeCall(lower,upper,floating)){upper=floating=undefined}if(floating===undefined){if(typeof upper=="boolean"){floating=upper;upper=undefined}else if(typeof lower=="boolean"){floating=lower;lower=undefined}}if(lower===undefined&&upper===undefined){lower=0;upper=1}else{lower=toFinite(lower);if(upper===undefined){upper=lower;lower=0}else{upper=toFinite(upper)}}if(lower>upper){var temp=lower;lower=upper;upper=temp}if(floating||lower%1||upper%1){var rand=nativeRandom();return nativeMin(lower+rand*(upper-lower+freeParseFloat("1e-"+((rand+"").length-1))),upper)}return baseRandom(lower,upper)}var camelCase=createCompounder(function(result,word,index){word=word.toLowerCase();return result+(index?capitalize(word):word)});function capitalize(string){return upperFirst(toString(string).toLowerCase())}function deburr(string){string=toString(string);return string&&string.replace(reLatin,deburrLetter).replace(reComboMark,"")}function endsWith(string,target,position){string=toString(string);target=baseToString(target);var length=string.length;position=position===undefined?length:baseClamp(toInteger(position),0,length);var end=position;position-=target.length;return position>=0&&string.slice(position,end)==target}function escape(string){string=toString(string);return string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string}function escapeRegExp(string){string=toString(string);return string&&reHasRegExpChar.test(string)?string.replace(reRegExpChar,"\\$&"):string}var kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()});var lowerCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toLowerCase()});var lowerFirst=createCaseFirst("toLowerCase");function pad(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;if(!length||strLength>=length){return string}var mid=(length-strLength)/2;return createPadding(nativeFloor(mid),chars)+string+createPadding(nativeCeil(mid),chars)}function padEnd(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?string+createPadding(length-strLength,chars):string}function padStart(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?createPadding(length-strLength,chars)+string:string}function parseInt(string,radix,guard){if(guard||radix==null){radix=0}else if(radix){radix=+radix}return nativeParseInt(toString(string).replace(reTrimStart,""),radix||0)}function repeat(string,n,guard){if(guard?isIterateeCall(string,n,guard):n===undefined){n=1}else{n=toInteger(n)}return baseRepeat(toString(string),n)}function replace(){var args=arguments,string=toString(args[0]);return args.length<3?string:string.replace(args[1],args[2])}var snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()});function split(string,separator,limit){if(limit&&typeof limit!="number"&&isIterateeCall(string,separator,limit)){separator=limit=undefined}limit=limit===undefined?MAX_ARRAY_LENGTH:limit>>>0;if(!limit){return[]}string=toString(string);if(string&&(typeof separator=="string"||separator!=null&&!isRegExp(separator))){separator=baseToString(separator);if(!separator&&hasUnicode(string)){return castSlice(stringToArray(string),0,limit)}}return string.split(separator,limit)}var startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+upperFirst(word)});function startsWith(string,target,position){string=toString(string);position=position==null?0:baseClamp(toInteger(position),0,string.length);target=baseToString(target);return string.slice(position,position+target.length)==target}function template(string,options,guard){var settings=lodash.templateSettings;if(guard&&isIterateeCall(string,options,guard)){options=undefined}string=toString(string);options=assignInWith({},options,settings,customDefaultsAssignIn);var imports=assignInWith({},options.imports,settings.imports,customDefaultsAssignIn),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys);var isEscaping,isEvaluating,index=0,interpolate=options.interpolate||reNoMatch,source="__p += '";var reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g");var sourceURL="//# sourceURL="+(hasOwnProperty.call(options,"sourceURL")?(options.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){interpolateValue||(interpolateValue=esTemplateValue);source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar);if(escapeValue){isEscaping=true;source+="' +\n__e("+escapeValue+") +\n'"}if(evaluateValue){isEvaluating=true;source+="';\n"+evaluateValue+";\n__p += '"}if(interpolateValue){source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"}index=offset+match.length;return match});source+="';\n";var variable=hasOwnProperty.call(options,"variable")&&options.variable;if(!variable){source="with (obj) {\n"+source+"\n}\n"}else if(reForbiddenIdentifierChars.test(variable)){throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT)}source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;");source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\n"+"function print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)});result.source=source;if(isError(result)){throw result}return result}function toLower(value){return toString(value).toLowerCase()}function toUpper(value){return toString(value).toUpperCase()}function trim(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return baseTrim(string)}if(!string||!(chars=baseToString(chars))){return string}var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars),start=charsStartIndex(strSymbols,chrSymbols),end=charsEndIndex(strSymbols,chrSymbols)+1;return castSlice(strSymbols,start,end).join("")}function trimEnd(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.slice(0,trimmedEndIndex(string)+1)}if(!string||!(chars=baseToString(chars))){return string}var strSymbols=stringToArray(string),end=charsEndIndex(strSymbols,stringToArray(chars))+1;return castSlice(strSymbols,0,end).join("")}function trimStart(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.replace(reTrimStart,"")}if(!string||!(chars=baseToString(chars))){return string}var strSymbols=stringToArray(string),start=charsStartIndex(strSymbols,stringToArray(chars));return castSlice(strSymbols,start).join("")}function truncate(string,options){var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?toInteger(options.length):length;omission="omission"in options?baseToString(options.omission):omission}string=toString(string);var strLength=string.length;if(hasUnicode(string)){var strSymbols=stringToArray(string);strLength=strSymbols.length}if(length>=strLength){return string}var end=length-stringSize(omission);if(end<1){return omission}var result=strSymbols?castSlice(strSymbols,0,end).join(""):string.slice(0,end);if(separator===undefined){return result+omission}if(strSymbols){end+=result.length-end}if(isRegExp(separator)){if(string.slice(end).search(separator)){var match,substring=result;if(!separator.global){separator=RegExp(separator.source,toString(reFlags.exec(separator))+"g")}separator.lastIndex=0;while(match=separator.exec(substring)){var newEnd=match.index}result=result.slice(0,newEnd===undefined?end:newEnd)}}else if(string.indexOf(baseToString(separator),end)!=end){var index=result.lastIndexOf(separator);if(index>-1){result=result.slice(0,index)}}return result+omission}function unescape(string){string=toString(string);return string&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string}var upperCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toUpperCase()});var upperFirst=createCaseFirst("toUpperCase");function words(string,pattern,guard){string=toString(string);pattern=guard?undefined:pattern;if(pattern===undefined){return hasUnicodeWord(string)?unicodeWords(string):asciiWords(string)}return string.match(pattern)||[]}var attempt=baseRest(function(func,args){try{return apply(func,undefined,args)}catch(e){return isError(e)?e:new Error(e)}});var bindAll=flatRest(function(object,methodNames){arrayEach(methodNames,function(key){key=toKey(key);baseAssignValue(object,key,bind(object[key],object))});return object});function cond(pairs){var length=pairs==null?0:pairs.length,toIteratee=getIteratee();pairs=!length?[]:arrayMap(pairs,function(pair){if(typeof pair[1]!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return[toIteratee(pair[0]),pair[1]]});return baseRest(function(args){var index=-1;while(++index<length){var pair=pairs[index];if(apply(pair[0],this,args)){return apply(pair[1],this,args)}}})}function conforms(source){return baseConforms(baseClone(source,CLONE_DEEP_FLAG))}function constant(value){return function(){return value}}function defaultTo(value,defaultValue){return value==null||value!==value?defaultValue:value}var flow=createFlow();var flowRight=createFlow(true);function identity(value){return value}function iteratee(func){return baseIteratee(typeof func=="function"?func:baseClone(func,CLONE_DEEP_FLAG))}function matches(source){return baseMatches(baseClone(source,CLONE_DEEP_FLAG))}function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,CLONE_DEEP_FLAG))}var method=baseRest(function(path,args){return function(object){return baseInvoke(object,path,args)}});var methodOf=baseRest(function(object,args){return function(path){return baseInvoke(object,path,args)}});function mixin(object,source,options){var props=keys(source),methodNames=baseFunctions(source,props);if(options==null&&!(isObject(source)&&(methodNames.length||!props.length))){options=source;source=object;object=this;methodNames=baseFunctions(source,keys(source))}var chain=!(isObject(options)&&"chain"in options)||!!options.chain,isFunc=isFunction(object);arrayEach(methodNames,function(methodName){var func=source[methodName];object[methodName]=func;if(isFunc){object.prototype[methodName]=function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=copyArray(this.__actions__);actions.push({func:func,args:arguments,thisArg:object});result.__chain__=chainAll;return result}return func.apply(object,arrayPush([this.value()],arguments))}}});return object}function noConflict(){if(root._===this){root._=oldDash}return this}function noop(){}function nthArg(n){n=toInteger(n);return baseRest(function(args){return baseNth(args,n)})}var over=createOver(arrayMap);var overEvery=createOver(arrayEvery);var overSome=createOver(arraySome);function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}function propertyOf(object){return function(path){return object==null?undefined:baseGet(object,path)}}var range=createRange();var rangeRight=createRange(true);function stubArray(){return[]}function stubFalse(){return false}function stubObject(){return{}}function stubString(){return""}function stubTrue(){return true}function times(n,iteratee){n=toInteger(n);if(n<1||n>MAX_SAFE_INTEGER){return[]}var index=MAX_ARRAY_LENGTH,length=nativeMin(n,MAX_ARRAY_LENGTH);iteratee=getIteratee(iteratee);n-=MAX_ARRAY_LENGTH;var result=baseTimes(length,iteratee);while(++index<n){iteratee(index)}return result}function toPath(value){if(isArray(value)){return arrayMap(value,toKey)}return isSymbol(value)?[value]:copyArray(stringToPath(toString(value)))}function uniqueId(prefix){var id=++idCounter;return toString(prefix)+id}var add=createMathOperation(function(augend,addend){return augend+addend},0);var ceil=createRound("ceil");var divide=createMathOperation(function(dividend,divisor){return dividend/divisor},1);var floor=createRound("floor");function max(array){return array&&array.length?baseExtremum(array,identity,baseGt):undefined}function maxBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseGt):undefined}function mean(array){return baseMean(array,identity)}function meanBy(array,iteratee){return baseMean(array,getIteratee(iteratee,2))}function min(array){return array&&array.length?baseExtremum(array,identity,baseLt):undefined}function minBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseLt):undefined}var multiply=createMathOperation(function(multiplier,multiplicand){return multiplier*multiplicand},1);var round=createRound("round");var subtract=createMathOperation(function(minuend,subtrahend){return minuend-subtrahend},0);function sum(array){return array&&array.length?baseSum(array,identity):0}function sumBy(array,iteratee){return array&&array.length?baseSum(array,getIteratee(iteratee,2)):0}lodash.after=after;lodash.ary=ary;lodash.assign=assign;lodash.assignIn=assignIn;lodash.assignInWith=assignInWith;lodash.assignWith=assignWith;lodash.at=at;lodash.before=before;lodash.bind=bind;lodash.bindAll=bindAll;lodash.bindKey=bindKey;lodash.castArray=castArray;lodash.chain=chain;lodash.chunk=chunk;lodash.compact=compact;lodash.concat=concat;lodash.cond=cond;lodash.conforms=conforms;lodash.constant=constant;lodash.countBy=countBy;lodash.create=create;lodash.curry=curry;lodash.curryRight=curryRight;lodash.debounce=debounce;lodash.defaults=defaults;lodash.defaultsDeep=defaultsDeep;lodash.defer=defer;lodash.delay=delay;lodash.difference=difference;lodash.differenceBy=differenceBy;lodash.differenceWith=differenceWith;lodash.drop=drop;lodash.dropRight=dropRight;lodash.dropRightWhile=dropRightWhile;lodash.dropWhile=dropWhile;lodash.fill=fill;lodash.filter=filter;lodash.flatMap=flatMap;lodash.flatMapDeep=flatMapDeep;lodash.flatMapDepth=flatMapDepth;lodash.flatten=flatten;lodash.flattenDeep=flattenDeep;lodash.flattenDepth=flattenDepth;lodash.flip=flip;lodash.flow=flow;lodash.flowRight=flowRight;lodash.fromPairs=fromPairs;lodash.functions=functions;lodash.functionsIn=functionsIn;lodash.groupBy=groupBy;lodash.initial=initial;lodash.intersection=intersection;lodash.intersectionBy=intersectionBy;lodash.intersectionWith=intersectionWith;lodash.invert=invert;lodash.invertBy=invertBy;lodash.invokeMap=invokeMap;lodash.iteratee=iteratee;lodash.keyBy=keyBy;lodash.keys=keys;lodash.keysIn=keysIn;lodash.map=map;lodash.mapKeys=mapKeys;lodash.mapValues=mapValues;lodash.matches=matches;lodash.matchesProperty=matchesProperty;lodash.memoize=memoize;lodash.merge=merge;lodash.mergeWith=mergeWith;lodash.method=method;lodash.methodOf=methodOf;lodash.mixin=mixin;lodash.negate=negate;lodash.nthArg=nthArg;lodash.omit=omit;lodash.omitBy=omitBy;lodash.once=once;lodash.orderBy=orderBy;lodash.over=over;lodash.overArgs=overArgs;lodash.overEvery=overEvery;lodash.overSome=overSome;lodash.partial=partial;lodash.partialRight=partialRight;lodash.partition=partition;lodash.pick=pick;lodash.pickBy=pickBy;lodash.property=property;lodash.propertyOf=propertyOf;lodash.pull=pull;lodash.pullAll=pullAll;lodash.pullAllBy=pullAllBy;lodash.pullAllWith=pullAllWith;lodash.pullAt=pullAt;lodash.range=range;lodash.rangeRight=rangeRight;lodash.rearg=rearg;lodash.reject=reject;lodash.remove=remove;lodash.rest=rest;lodash.reverse=reverse;lodash.sampleSize=sampleSize;lodash.set=set;lodash.setWith=setWith;lodash.shuffle=shuffle;lodash.slice=slice;lodash.sortBy=sortBy;lodash.sortedUniq=sortedUniq;lodash.sortedUniqBy=sortedUniqBy;lodash.split=split;lodash.spread=spread;lodash.tail=tail;lodash.take=take;lodash.takeRight=takeRight;lodash.takeRightWhile=takeRightWhile;lodash.takeWhile=takeWhile;lodash.tap=tap;lodash.throttle=throttle;lodash.thru=thru;lodash.toArray=toArray;lodash.toPairs=toPairs;lodash.toPairsIn=toPairsIn;lodash.toPath=toPath;lodash.toPlainObject=toPlainObject;lodash.transform=transform;lodash.unary=unary;lodash.union=union;lodash.unionBy=unionBy;lodash.unionWith=unionWith;lodash.uniq=uniq;lodash.uniqBy=uniqBy;lodash.uniqWith=uniqWith;lodash.unset=unset;lodash.unzip=unzip;lodash.unzipWith=unzipWith;lodash.update=update;lodash.updateWith=updateWith;lodash.values=values;lodash.valuesIn=valuesIn;lodash.without=without;lodash.words=words;lodash.wrap=wrap;lodash.xor=xor;lodash.xorBy=xorBy;lodash.xorWith=xorWith;lodash.zip=zip;lodash.zipObject=zipObject;lodash.zipObjectDeep=zipObjectDeep;lodash.zipWith=zipWith;lodash.entries=toPairs;lodash.entriesIn=toPairsIn;lodash.extend=assignIn;lodash.extendWith=assignInWith;mixin(lodash,lodash);lodash.add=add;lodash.attempt=attempt;lodash.camelCase=camelCase;lodash.capitalize=capitalize;lodash.ceil=ceil;lodash.clamp=clamp;lodash.clone=clone;lodash.cloneDeep=cloneDeep;lodash.cloneDeepWith=cloneDeepWith;lodash.cloneWith=cloneWith;lodash.conformsTo=conformsTo;lodash.deburr=deburr;lodash.defaultTo=defaultTo;lodash.divide=divide;lodash.endsWith=endsWith;lodash.eq=eq;lodash.escape=escape;lodash.escapeRegExp=escapeRegExp;lodash.every=every;lodash.find=find;lodash.findIndex=findIndex;lodash.findKey=findKey;lodash.findLast=findLast;lodash.findLastIndex=findLastIndex;lodash.findLastKey=findLastKey;lodash.floor=floor;lodash.forEach=forEach;lodash.forEachRight=forEachRight;lodash.forIn=forIn;lodash.forInRight=forInRight;lodash.forOwn=forOwn;lodash.forOwnRight=forOwnRight;lodash.get=get;lodash.gt=gt;lodash.gte=gte;lodash.has=has;lodash.hasIn=hasIn;lodash.head=head;lodash.identity=identity;lodash.includes=includes;lodash.indexOf=indexOf;lodash.inRange=inRange;lodash.invoke=invoke;lodash.isArguments=isArguments;lodash.isArray=isArray;lodash.isArrayBuffer=isArrayBuffer;lodash.isArrayLike=isArrayLike;lodash.isArrayLikeObject=isArrayLikeObject;lodash.isBoolean=isBoolean;lodash.isBuffer=isBuffer;lodash.isDate=isDate;lodash.isElement=isElement;lodash.isEmpty=isEmpty;lodash.isEqual=isEqual;lodash.isEqualWith=isEqualWith;lodash.isError=isError;lodash.isFinite=isFinite;lodash.isFunction=isFunction;lodash.isInteger=isInteger;lodash.isLength=isLength;lodash.isMap=isMap;lodash.isMatch=isMatch;lodash.isMatchWith=isMatchWith;lodash.isNaN=isNaN;lodash.isNative=isNative;lodash.isNil=isNil;lodash.isNull=isNull;lodash.isNumber=isNumber;lodash.isObject=isObject;lodash.isObjectLike=isObjectLike;lodash.isPlainObject=isPlainObject;lodash.isRegExp=isRegExp;lodash.isSafeInteger=isSafeInteger;lodash.isSet=isSet;lodash.isString=isString;lodash.isSymbol=isSymbol;lodash.isTypedArray=isTypedArray;lodash.isUndefined=isUndefined;lodash.isWeakMap=isWeakMap;lodash.isWeakSet=isWeakSet;lodash.join=join;lodash.kebabCase=kebabCase;lodash.last=last;lodash.lastIndexOf=lastIndexOf;lodash.lowerCase=lowerCase;lodash.lowerFirst=lowerFirst;lodash.lt=lt;lodash.lte=lte;lodash.max=max;lodash.maxBy=maxBy;lodash.mean=mean;lodash.meanBy=meanBy;lodash.min=min;lodash.minBy=minBy;lodash.stubArray=stubArray;lodash.stubFalse=stubFalse;lodash.stubObject=stubObject;lodash.stubString=stubString;lodash.stubTrue=stubTrue;lodash.multiply=multiply;lodash.nth=nth;lodash.noConflict=noConflict;lodash.noop=noop;lodash.now=now;lodash.pad=pad;lodash.padEnd=padEnd;lodash.padStart=padStart;lodash.parseInt=parseInt;lodash.random=random;lodash.reduce=reduce;lodash.reduceRight=reduceRight;lodash.repeat=repeat;lodash.replace=replace;lodash.result=result;lodash.round=round;lodash.runInContext=runInContext;lodash.sample=sample;lodash.size=size;lodash.snakeCase=snakeCase;lodash.some=some;lodash.sortedIndex=sortedIndex;lodash.sortedIndexBy=sortedIndexBy;lodash.sortedIndexOf=sortedIndexOf;lodash.sortedLastIndex=sortedLastIndex;lodash.sortedLastIndexBy=sortedLastIndexBy;lodash.sortedLastIndexOf=sortedLastIndexOf;lodash.startCase=startCase;lodash.startsWith=startsWith;lodash.subtract=subtract;lodash.sum=sum;lodash.sumBy=sumBy;lodash.template=template;lodash.times=times;lodash.toFinite=toFinite;lodash.toInteger=toInteger;lodash.toLength=toLength;lodash.toLower=toLower;lodash.toNumber=toNumber;lodash.toSafeInteger=toSafeInteger;lodash.toString=toString;lodash.toUpper=toUpper;lodash.trim=trim;lodash.trimEnd=trimEnd;lodash.trimStart=trimStart;lodash.truncate=truncate;lodash.unescape=unescape;lodash.uniqueId=uniqueId;lodash.upperCase=upperCase;lodash.upperFirst=upperFirst;lodash.each=forEach;lodash.eachRight=forEachRight;lodash.first=head;mixin(lodash,function(){var source={};baseForOwn(lodash,function(func,methodName){if(!hasOwnProperty.call(lodash.prototype,methodName)){source[methodName]=func}});return source}(),{chain:false});lodash.VERSION=VERSION;arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash});arrayEach(["drop","take"],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){n=n===undefined?1:nativeMax(toInteger(n),0);var result=this.__filtered__&&!index?new LazyWrapper(this):this.clone();if(result.__filtered__){result.__takeCount__=nativeMin(n,result.__takeCount__)}else{result.__views__.push({size:nativeMin(n,MAX_ARRAY_LENGTH),type:methodName+(result.__dir__<0?"Right":"")})}return result};LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}});arrayEach(["filter","map","takeWhile"],function(methodName,index){var type=index+1,isFilter=type==LAZY_FILTER_FLAG||type==LAZY_WHILE_FLAG;LazyWrapper.prototype[methodName]=function(iteratee){var result=this.clone();result.__iteratees__.push({iteratee:getIteratee(iteratee,3),type:type});result.__filtered__=result.__filtered__||isFilter;return result}});arrayEach(["head","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}});arrayEach(["initial","tail"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}});LazyWrapper.prototype.compact=function(){return this.filter(identity)};LazyWrapper.prototype.find=function(predicate){return this.filter(predicate).head()};LazyWrapper.prototype.findLast=function(predicate){return this.reverse().find(predicate)};LazyWrapper.prototype.invokeMap=baseRest(function(path,args){if(typeof path=="function"){return new LazyWrapper(this)}return this.map(function(value){return baseInvoke(value,path,args)})});LazyWrapper.prototype.reject=function(predicate){return this.filter(negate(getIteratee(predicate)))};LazyWrapper.prototype.slice=function(start,end){start=toInteger(start);var result=this;if(result.__filtered__&&(start>0||end<0)){return new LazyWrapper(result)}if(start<0){result=result.takeRight(-start)}else if(start){result=result.drop(start)}if(end!==undefined){end=toInteger(end);result=end<0?result.dropRight(-end):result.take(end-start)}return result};LazyWrapper.prototype.takeRightWhile=function(predicate){return this.reverse().takeWhile(predicate).reverse()};LazyWrapper.prototype.toArray=function(){return this.take(MAX_ARRAY_LENGTH)};baseForOwn(LazyWrapper.prototype,function(func,methodName){var checkIteratee=/^(?:filter|find|map|reject)|While$/.test(methodName),isTaker=/^(?:head|last)$/.test(methodName),lodashFunc=lodash[isTaker?"take"+(methodName=="last"?"Right":""):methodName],retUnwrapped=isTaker||/^find/.test(methodName);if(!lodashFunc){return}lodash.prototype[methodName]=function(){var value=this.__wrapped__,args=isTaker?[1]:arguments,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value);var interceptor=function(value){var result=lodashFunc.apply(lodash,arrayPush([value],args));return isTaker&&chainAll?result[0]:result};if(useLazy&&checkIteratee&&typeof iteratee=="function"&&iteratee.length!=1){isLazy=useLazy=false}var chainAll=this.__chain__,isHybrid=!!this.__actions__.length,isUnwrapped=retUnwrapped&&!chainAll,onlyLazy=isLazy&&!isHybrid;if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);result.__actions__.push({func:thru,args:[interceptor],thisArg:undefined});return new LodashWrapper(result,chainAll)}if(isUnwrapped&&onlyLazy){return func.apply(this,args)}result=this.thru(interceptor);return isUnwrapped?isTaker?result.value()[0]:result.value():result}});arrayEach(["pop","push","shift","sort","splice","unshift"],function(methodName){var func=arrayProto[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:pop|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__){var value=this.value();return func.apply(isArray(value)?value:[],args)}return this[chainName](function(value){return func.apply(isArray(value)?value:[],args)})}});baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name+"";if(!hasOwnProperty.call(realNames,key)){realNames[key]=[]}realNames[key].push({name:methodName,func:lodashFunc})}});realNames[createHybrid(undefined,WRAP_BIND_KEY_FLAG).name]=[{name:"wrapper",func:undefined}];LazyWrapper.prototype.clone=lazyClone;LazyWrapper.prototype.reverse=lazyReverse;LazyWrapper.prototype.value=lazyValue;lodash.prototype.at=wrapperAt;lodash.prototype.chain=wrapperChain;lodash.prototype.commit=wrapperCommit;lodash.prototype.next=wrapperNext;lodash.prototype.plant=wrapperPlant;lodash.prototype.reverse=wrapperReverse;lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue;lodash.prototype.first=lodash.prototype.head;if(symIterator){lodash.prototype[symIterator]=wrapperToIterator}return lodash};var _=runInContext();if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){root._=_;define(function(){return _})}else if(freeModule){(freeModule.exports=_)._=_;freeExports._=_}else{root._=_}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],35:[function(require,module,exports){arguments[4][7][0].apply(exports,arguments)},{dup:7}],36:[function(require,module,exports){exports=module.exports=function(jQuery){(function(e,t){function i(t,i){var s,a,o,r=t.nodeName.toLowerCase();return"area"===r?(s=t.parentNode,a=s.name,t.href&&a&&"map"===s.nodeName.toLowerCase()?(o=e("img[usemap=#"+a+"]")[0],!!o&&n(o)):!1):(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"===r?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var s=0,a=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var n,s,a=e(this[0]);a.length&&a[0]!==document;){if(n=a.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(s=parseInt(a.css("zIndex"),10),!isNaN(s)&&0!==s))return s;a=a.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},removeUniqueId:function(){return this.each(function(){a.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),s=isNaN(n);return(s||n>=0)&&i(t,!s)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,n){function s(t,i,n,s){return e.each(a,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var a="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?r["inner"+n].call(this):this.each(function(){e(this).css(o,s(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?r["outer"+n].call(this,t):this.each(function(){e(this).css(o,s(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var s,a=e.ui[t].prototype;for(s in n)a.plugins[s]=a.plugins[s]||[],a.plugins[s].push([i,n[s]])},call:function(e,t,i){var n,s=e.plugins[t];if(s&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;s.length>n;n++)e.options[s[n][0]]&&s[n][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return t[n]>0?!0:(t[n]=1,s=t[n]>0,t[n]=0,s)}})})(jQuery);(function(e,t){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.dpDiv=a(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){e.datepicker._isDisabledDatepicker(n.inline?t.parent()[0]:n.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))})}function s(t,i){e.extend(t,i);for(var a in i)null==i[a]&&(t[a]=i[a]);return t}e.extend(e.ui,{datepicker:{version:"1.10.3"}});var n,r="datepicker";e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return s(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var a,s,n;a=t.nodeName.toLowerCase(),s="div"===a||"span"===a,t.id||(this.uuid+=1,t.id="dp"+this.uuid),n=this._newInst(e(t),s),n.settings=e.extend({},i||{}),"input"===a?this._connectDatepicker(t,n):s&&this._inlineDatepicker(t,n)},_newInst:function(t,i){var s=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?a(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var a=e(t);i.append=e([]),i.trigger=e([]),a.hasClass(this.markerClassName)||(this._attachments(a,i),a.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,r,i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var a,s,n,r=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove(),r&&(i.append=e("<span class='"+this._appendClass+"'>"+r+"</span>"),t[o?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),a=this._get(i,"showOn"),("focus"===a||"both"===a)&&t.focus(this._showDatepicker),("button"===a||"both"===a)&&(s=this._get(i,"buttonText"),n=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:n,alt:s,title:s}):e("<button type='button'></button>").addClass(this._triggerClass).html(n?e("<img/>").attr({src:n,alt:s,title:s}):s)),t[o?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,a,s,n=new Date(2009,11,20),r=this._get(e,"dateFormat");r.match(/[DM]/)&&(t=function(e){for(i=0,a=0,s=0;e.length>s;s++)e[s].length>i&&(i=e[s].length,a=s);return a},n.setMonth(t(this._get(e,r.match(/MM/)?"monthNames":"monthNamesShort"))),n.setDate(t(this._get(e,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-n.getDay())),e.input.attr("size",this._formatDate(e,n).length)}},_inlineDatepicker:function(t,i){var a=e(t);a.hasClass(this.markerClassName)||(a.addClass(this.markerClassName).append(i.dpDiv),e.data(t,r,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,a,n,o){var u,c,l,h,d,p=this._dialogInst;return p||(this.uuid+=1,u="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+u+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},e.data(this._dialogInput[0],r,p)),s(p.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(c=document.documentElement.clientWidth,l=document.documentElement.clientHeight,h=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+h,l/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=a,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],r,p),this},_destroyDatepicker:function(t){var i,a=e(t),s=e.data(t,r);a.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,r),"input"===i?(s.append.remove(),s.trigger.remove(),a.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&a.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var i,a,s=e(t),n=e.data(t,r);s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(a=s.children("."+this._inlineClass),a.children().removeClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,a,s=e(t),n=e.data(t,r);s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(a=s.children("."+this._inlineClass),a.children().addClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,r)}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,a,n){var r,o,u,c,l=this._getInst(i);return 2===arguments.length&&"string"==typeof a?"defaults"===a?e.extend({},e.datepicker._defaults):l?"all"===a?e.extend({},l.settings):this._get(l,a):null:(r=a||{},"string"==typeof a&&(r={},r[a]=n),l&&(this._curInst===l&&this._hideDatepicker(),o=this._getDateDatepicker(i,!0),u=this._getMinMaxDate(l,"min"),c=this._getMinMaxDate(l,"max"),s(l.settings,r),null!==u&&r.dateFormat!==t&&r.minDate===t&&(l.settings.minDate=this._formatDate(l,u)),null!==c&&r.dateFormat!==t&&r.maxDate===t&&(l.settings.maxDate=this._formatDate(l,c)),"disabled"in r&&(r.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(e(i),l),this._autoSize(l),this._setDate(l,o),this._updateAlternate(l),this._updateDatepicker(l)),t)},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,a,s,n=e.datepicker._getInst(t.target),r=!0,o=n.dpDiv.is(".ui-datepicker-rtl");if(n._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),r=!1;break;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(n,"stepBigMonths"):-e.datepicker._get(n,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(n,"stepBigMonths"):+e.datepicker._get(n,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?1:-1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(n,"stepBigMonths"):-e.datepicker._get(n,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?-1:1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(n,"stepBigMonths"):+e.datepicker._get(n,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(i){var a,s,n=e.datepicker._getInst(i.target);return e.datepicker._get(n,"constrainInput")?(a=e.datepicker._possibleChars(e.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==i.charCode?i.keyCode:i.charCode),i.ctrlKey||i.metaKey||" ">s||!a||a.indexOf(s)>-1):t},_doKeyUp:function(t){var i,a=e.datepicker._getInst(t.target);if(a.input.val()!==a.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,e.datepicker._getFormatConfig(a)),i&&(e.datepicker._setDateFromField(a),e.datepicker._updateAlternate(a),e.datepicker._updateDatepicker(a))}catch(s){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,a,n,r,o,u,c;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),a=e.datepicker._get(i,"beforeShow"),n=a?a.apply(t,[t,i]):{},n!==!1&&(s(i.settings,n),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),r=!1,e(t).parents().each(function(){return r|="fixed"===e(this).css("position"),!r}),o={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),o=e.datepicker._checkOffset(i,o,r),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":r?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),i.inline||(u=e.datepicker._get(i,"showAnim"),c=e.datepicker._get(i,"duration"),i.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[u]?i.dpDiv.show(u,e.datepicker._get(i,"showOptions"),c):i.dpDiv[u||"show"](u?c:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,n=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,a=this._getNumberOfMonths(t),s=a[1],r=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&t.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",r*s+"em"),t.dpDiv[(1!==a[0]||1!==a[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,a){var s=t.dpDiv.outerWidth(),n=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,u=document.documentElement.clientWidth+(a?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(a?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?s-r:0,i.left-=a&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=a&&i.top===t.input.offset().top+o?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+s>u&&u>s?Math.abs(i.left+s-u):0),i.top-=Math.min(i.top,i.top+n>c&&c>n?Math.abs(n+o):0),i},_findPos:function(t){for(var i,a=this._getInst(t),s=this._get(a,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[s?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,a,s,n,o=this._curInst;!o||t&&o!==e.data(t,r)||this._datepickerShowing&&(i=this._get(o,"showAnim"),a=this._get(o,"duration"),s=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[i]||e.effects[i])?o.dpDiv.hide(i,e.datepicker._get(o,"showOptions"),a,s):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?a:null,s),i||s(),this._datepickerShowing=!1,n=this._get(o,"onClose"),n&&n.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),a=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==a)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,a){var s=e(t),n=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(n,i+("M"===a?this._get(n,"showCurrentAtPos"):0),a),this._updateDatepicker(n))},_gotoToday:function(t){var i,a=e(t),s=this._getInst(a[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(i=new Date,s.selectedDay=i.getDate(),s.drawMonth=s.selectedMonth=i.getMonth(),s.drawYear=s.selectedYear=i.getFullYear()),this._notifyChange(s),this._adjustDate(a)},_selectMonthYear:function(t,i,a){var s=e(t),n=this._getInst(s[0]);n["selected"+("M"===a?"Month":"Year")]=n["draw"+("M"===a?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(n),this._adjustDate(s)},_selectDay:function(t,i,a,s){var n,r=e(t);e(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||(n=this._getInst(r[0]),n.selectedDay=n.currentDay=e("a",s).html(),n.selectedMonth=n.currentMonth=i,n.selectedYear=n.currentYear=a,this._selectDate(t,this._formatDate(n,n.currentDay,n.currentMonth,n.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var a,s=e(t),n=this._getInst(s[0]);i=null!=i?i:this._formatDate(n),n.input&&n.input.val(i),this._updateAlternate(n),a=this._get(n,"onSelect"),a?a.apply(n.input?n.input[0]:null,[i,n]):n.input&&n.input.trigger("change"),n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],"object"!=typeof n.input[0]&&n.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,a,s,n=this._get(t,"altField");n&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),a=this._getDate(t),s=this.formatDate(i,a,this._getFormatConfig(t)),e(n).each(function(){e(this).val(s)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(i,a,s){if(null==i||null==a)throw"Invalid arguments";if(a="object"==typeof a?""+a:a+"",""===a)return null;var n,r,o,u,c=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,h="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),d=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,p=(s?s.dayNames:null)||this._defaults.dayNames,g=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,m=(s?s.monthNames:null)||this._defaults.monthNames,f=-1,_=-1,v=-1,k=-1,b=!1,y=function(e){var t=i.length>n+1&&i.charAt(n+1)===e;return t&&n++,t},D=function(e){var t=y(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,s=RegExp("^\\d{1,"+i+"}"),n=a.substring(c).match(s);if(!n)throw"Missing number at position "+c;return c+=n[0].length,parseInt(n[0],10)},w=function(i,s,n){var r=-1,o=e.map(y(i)?n:s,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,i){var s=i[1];return a.substr(c,s.length).toLowerCase()===s.toLowerCase()?(r=i[0],c+=s.length,!1):t}),-1!==r)return r+1;throw"Unknown name at position "+c},M=function(){if(a.charAt(c)!==i.charAt(n))throw"Unexpected literal at position "+c;c++};for(n=0;i.length>n;n++)if(b)"'"!==i.charAt(n)||y("'")?M():b=!1;else switch(i.charAt(n)){case"d":v=D("d");break;case"D":w("D",d,p);break;case"o":k=D("o");break;case"m":_=D("m");break;case"M":_=w("M",g,m);break;case"y":f=D("y");break;case"@":u=new Date(D("@")),f=u.getFullYear(),_=u.getMonth()+1,v=u.getDate();break;case"!":u=new Date((D("!")-this._ticksTo1970)/1e4),f=u.getFullYear(),_=u.getMonth()+1,v=u.getDate();break;case"'":y("'")?M():b=!0;break;default:M()}if(a.length>c&&(o=a.substr(c),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===f?f=(new Date).getFullYear():100>f&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(h>=f?0:-100)),k>-1)for(_=1,v=k;;){if(r=this._getDaysInMonth(f,_-1),r>=v)break;_++,v-=r}if(u=this._daylightSavingAdjust(new Date(f,_-1,v)),u.getFullYear()!==f||u.getMonth()+1!==_||u.getDate()!==v)throw"Invalid date";return u},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var a,s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,n=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,u=function(t){var i=e.length>a+1&&e.charAt(a+1)===t;return i&&a++,i},c=function(e,t,i){var a=""+t;if(u(e))for(;i>a.length;)a="0"+a;return a},l=function(e,t,i,a){return u(e)?a[t]:i[t]},h="",d=!1;if(t)for(a=0;e.length>a;a++)if(d)"'"!==e.charAt(a)||u("'")?h+=e.charAt(a):d=!1;else switch(e.charAt(a)){case"d":h+=c("d",t.getDate(),2);break;case"D":h+=l("D",t.getDay(),s,n);break;case"o":h+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=c("m",t.getMonth()+1,2);break;case"M":h+=l("M",t.getMonth(),r,o);break;case"y":h+=u("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":h+=t.getTime();break;case"!":h+=1e4*t.getTime()+this._ticksTo1970;break;case"'":u("'")?h+="'":d=!0;break;default:h+=e.charAt(a)}return h},_possibleChars:function(e){var t,i="",a=!1,s=function(i){var a=e.length>t+1&&e.charAt(t+1)===i;return a&&t++,a};for(t=0;e.length>t;t++)if(a)"'"!==e.charAt(t)||s("'")?i+=e.charAt(t):a=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":s("'")?i+="'":a=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,i){return e.settings[i]!==t?e.settings[i]:this._defaults[i]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),a=e.lastVal=e.input?e.input.val():null,s=this._getDefaultDate(e),n=s,r=this._getFormatConfig(e);try{n=this.parseDate(i,a,r)||s}catch(o){a=t?"":a}e.selectedDay=n.getDate(),e.drawMonth=e.selectedMonth=n.getMonth(),e.drawYear=e.selectedYear=n.getFullYear(),e.currentDay=a?n.getDate():0,e.currentMonth=a?n.getMonth():0,e.currentYear=a?n.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,a){var s=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},n=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(a){}for(var s=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,n=s.getFullYear(),r=s.getMonth(),o=s.getDate(),u=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=u.exec(i);c;){switch(c[2]||"d"){case"d":case"D":o+=parseInt(c[1],10);break;case"w":case"W":o+=7*parseInt(c[1],10);break;case"m":case"M":r+=parseInt(c[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,r));break;case"y":case"Y":n+=parseInt(c[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,r))}c=u.exec(i)}return new Date(n,r,o)},r=null==i||""===i?a:"string"==typeof i?n(i):"number"==typeof i?isNaN(i)?a:s(i):new Date(i.getTime());return r=r&&"Invalid Date"==""+r?a:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var a=!t,s=e.selectedMonth,n=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),s===e.selectedMonth&&n===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(a?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),a="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(a,-i,"M")},next:function(){e.datepicker._adjustDate(a,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(a)},selectDay:function(){return e.datepicker._selectDay(a,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(a,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(a,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,a,s,n,r,o,u,c,l,h,d,p,g,m,f,_,v,k,b,y,D,w,M,C,x,I,N,T,A,E,S,Y,F,P,O,j,K,R,H=new Date,W=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),L=this._get(e,"isRTL"),U=this._get(e,"showButtonPanel"),B=this._get(e,"hideIfNoPrevNext"),z=this._get(e,"navigationAsDateFormat"),q=this._getNumberOfMonths(e),G=this._get(e,"showCurrentAtPos"),J=this._get(e,"stepMonths"),Q=1!==q[0]||1!==q[1],V=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),$=this._getMinMaxDate(e,"min"),X=this._getMinMaxDate(e,"max"),Z=e.drawMonth-G,et=e.drawYear;if(0>Z&&(Z+=12,et--),X)for(t=this._daylightSavingAdjust(new Date(X.getFullYear(),X.getMonth()-q[0]*q[1]+1,X.getDate())),t=$&&$>t?$:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,i=this._get(e,"prevText"),i=z?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z-J,1)),this._getFormatConfig(e)):i,a=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(L?"e":"w")+"'>"+i+"</span></a>":B?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(L?"e":"w")+"'>"+i+"</span></a>",s=this._get(e,"nextText"),s=z?this.formatDate(s,this._daylightSavingAdjust(new Date(et,Z+J,1)),this._getFormatConfig(e)):s,n=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(L?"w":"e")+"'>"+s+"</span></a>":B?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(L?"w":"e")+"'>"+s+"</span></a>",r=this._get(e,"currentText"),o=this._get(e,"gotoCurrent")&&e.currentDay?V:W,r=z?this.formatDate(r,o,this._getFormatConfig(e)):r,u=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=U?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(L?u:"")+(this._isInRange(e,o)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+r+"</button>":"")+(L?"":u)+"</div>":"",l=parseInt(this._get(e,"firstDay"),10),l=isNaN(l)?0:l,h=this._get(e,"showWeek"),d=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),g=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),f=this._get(e,"beforeShowDay"),_=this._get(e,"showOtherMonths"),v=this._get(e,"selectOtherMonths"),k=this._getDefaultDate(e),b="",D=0;q[0]>D;D++){for(w="",this.maxRows=4,M=0;q[1]>M;M++){if(C=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),x=" ui-corner-all",I="",Q){if(I+="<div class='ui-datepicker-group",q[1]>1)switch(M){case 0:I+=" ui-datepicker-group-first",x=" ui-corner-"+(L?"right":"left");break;case q[1]-1:I+=" ui-datepicker-group-last",x=" ui-corner-"+(L?"left":"right");break;default:I+=" ui-datepicker-group-middle",x=""}I+="'>"}for(I+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+x+"'>"+(/all|left/.test(x)&&0===D?L?n:a:"")+(/all|right/.test(x)&&0===D?L?a:n:"")+this._generateMonthYearHeader(e,Z,et,$,X,D>0||M>0,g,m)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",N=h?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",y=0;7>y;y++)T=(y+l)%7,N+="<th"+((y+l+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+d[T]+"'>"+p[T]+"</span></th>";for(I+=N+"</tr></thead><tbody>",A=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),E=(this._getFirstDayOfMonth(et,Z)-l+7)%7,S=Math.ceil((E+A)/7),Y=Q?this.maxRows>S?this.maxRows:S:S,this.maxRows=Y,F=this._daylightSavingAdjust(new Date(et,Z,1-E)),P=0;Y>P;P++){for(I+="<tr>",O=h?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(F)+"</td>":"",y=0;7>y;y++)j=f?f.apply(e.input?e.input[0]:null,[F]):[!0,""],K=F.getMonth()!==Z,R=K&&!v||!j[0]||$&&$>F||X&&F>X,O+="<td class='"+((y+l+6)%7>=5?" ui-datepicker-week-end":"")+(K?" ui-datepicker-other-month":"")+(F.getTime()===C.getTime()&&Z===e.selectedMonth&&e._keyEvent||k.getTime()===F.getTime()&&k.getTime()===C.getTime()?" "+this._dayOverClass:"")+(R?" "+this._unselectableClass+" ui-state-disabled":"")+(K&&!_?"":" "+j[1]+(F.getTime()===V.getTime()?" "+this._currentClass:"")+(F.getTime()===W.getTime()?" ui-datepicker-today":""))+"'"+(K&&!_||!j[2]?"":" title='"+j[2].replace(/'/g,"&#39;")+"'")+(R?"":" data-handler='selectDay' data-event='click' data-month='"+F.getMonth()+"' data-year='"+F.getFullYear()+"'")+">"+(K&&!_?"&#xa0;":R?"<span class='ui-state-default'>"+F.getDate()+"</span>":"<a class='ui-state-default"+(F.getTime()===W.getTime()?" ui-state-highlight":"")+(F.getTime()===V.getTime()?" ui-state-active":"")+(K?" ui-priority-secondary":"")+"' href='#'>"+F.getDate()+"</a>")+"</td>",F.setDate(F.getDate()+1),F=this._daylightSavingAdjust(F);I+=O+"</tr>"}Z++,Z>11&&(Z=0,et++),I+="</tbody></table>"+(Q?"</div>"+(q[0]>0&&M===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),w+=I}b+=w}return b+=c,e._keyEvent=!1,b},_generateMonthYearHeader:function(e,t,i,a,s,n,r,o){var u,c,l,h,d,p,g,m,f=this._get(e,"changeMonth"),_=this._get(e,"changeYear"),v=this._get(e,"showMonthAfterYear"),k="<div class='ui-datepicker-title'>",b="";if(n||!f)b+="<span class='ui-datepicker-month'>"+r[t]+"</span>";else{for(u=a&&a.getFullYear()===i,c=s&&s.getFullYear()===i,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",l=0;12>l;l++)(!u||l>=a.getMonth())&&(!c||s.getMonth()>=l)&&(b+="<option value='"+l+"'"+(l===t?" selected='selected'":"")+">"+o[l]+"</option>");b+="</select>"}if(v||(k+=b+(!n&&f&&_?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",n||!_)k+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(h=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);return isNaN(t)?d:t},g=p(h[0]),m=Math.max(g,p(h[1]||"")),g=a?Math.max(g,a.getFullYear()):g,m=s?Math.min(m,s.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=g;g++)e.yearshtml+="<option value='"+g+"'"+(g===i?" selected='selected'":"")+">"+g+"</option>";e.yearshtml+="</select>",k+=e.yearshtml,e.yearshtml=null}return k+=this._get(e,"yearSuffix"),v&&(k+=(!n&&f&&_?"":"&#xa0;")+b),k+="</div>"},_adjustInstDate:function(e,t,i){var a=e.drawYear+("Y"===i?t:0),s=e.drawMonth+("M"===i?t:0),n=Math.min(e.selectedDay,this._getDaysInMonth(a,s))+("D"===i?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(a,s,n)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),s=i&&i>t?i:t;return a&&s>a?a:s},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,a){var s=this._getNumberOfMonths(e),n=this._daylightSavingAdjust(new Date(i,a+(0>t?t:s[0]*s[1]),1));return 0>t&&n.setDate(this._getDaysInMonth(n.getFullYear(),n.getMonth())),this._isInRange(e,n)},_isInRange:function(e,t){var i,a,s=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),r=null,o=null,u=this._get(e,"yearRange");return u&&(i=u.split(":"),a=(new Date).getFullYear(),r=parseInt(i[0],10),o=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=a),i[1].match(/[+\-].*/)&&(o+=a)),(!s||t.getTime()>=s.getTime())&&(!n||t.getTime()<=n.getTime())&&(!r||t.getFullYear()>=r)&&(!o||o>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,a){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var s=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(a,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),s,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.10.3"})(jQuery)}},{}],37:[function(require,module,exports){exports=module.exports=function(jQuery){(function(t,e,i){function n(i,n,o){var r=e.createElement(i);return n&&(r.id=Z+n),o&&(r.style.cssText=o),t(r)}function o(){return i.innerHeight?i.innerHeight:t(i).height()}function r(e,i){i!==Object(i)&&(i={}),this.cache={},this.el=e,this.value=function(e){var n;return void 0===this.cache[e]&&(n=t(this.el).attr("data-cbox-"+e),void 0!==n?this.cache[e]=n:void 0!==i[e]?this.cache[e]=i[e]:void 0!==X[e]&&(this.cache[e]=X[e])),this.cache[e]},this.get=function(e){var i=this.value(e);return t.isFunction(i)?i.call(this.el,this):i}}function h(t){var e=W.length,i=(z+t)%e;return 0>i?e+i:i}function a(t,e){return Math.round((/%/.test(t)?("x"===e?E.width():o())/100:1)*parseInt(t,10))}function s(t,e){return t.get("photo")||t.get("photoRegex").test(e)}function l(t,e){return t.get("retinaUrl")&&i.devicePixelRatio>1?e.replace(t.get("photoRegex"),t.get("retinaSuffix")):e}function d(t){"contains"in y[0]&&!y[0].contains(t.target)&&t.target!==v[0]&&(t.stopPropagation(),y.focus())}function c(t){c.str!==t&&(y.add(v).removeClass(c.str).addClass(t),c.str=t)}function g(e){z=0,e&&e!==!1&&"nofollow"!==e?(W=t("."+te).filter(function(){var i=t.data(this,Y),n=new r(this,i);return n.get("rel")===e}),z=W.index(_.el),-1===z&&(W=W.add(_.el),z=W.length-1)):W=t(_.el)}function u(i){t(e).trigger(i),ae.triggerHandler(i)}function f(i){var o;if(!G){if(o=t(i).data(Y),_=new r(i,o),g(_.get("rel")),!$){$=q=!0,c(_.get("className")),y.css({visibility:"hidden",display:"block",opacity:""}),L=n(se,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),b.css({width:"",height:""}).append(L),D=T.height()+k.height()+b.outerHeight(!0)-b.height(),j=C.width()+H.width()+b.outerWidth(!0)-b.width(),A=L.outerHeight(!0),N=L.outerWidth(!0);var h=a(_.get("initialWidth"),"x"),s=a(_.get("initialHeight"),"y"),l=_.get("maxWidth"),f=_.get("maxHeight");_.w=(l!==!1?Math.min(h,a(l,"x")):h)-N-j,_.h=(f!==!1?Math.min(s,a(f,"y")):s)-A-D,L.css({width:"",height:_.h}),J.position(),u(ee),_.get("onOpen"),O.add(F).hide(),y.focus(),_.get("trapFocus")&&e.addEventListener&&(e.addEventListener("focus",d,!0),ae.one(re,function(){e.removeEventListener("focus",d,!0)})),_.get("returnFocus")&&ae.one(re,function(){t(_.el).focus()})}var p=parseFloat(_.get("opacity"));v.css({opacity:p===p?p:"",cursor:_.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),_.get("closeButton")?B.html(_.get("close")).appendTo(b):B.appendTo("<div/>"),w()}}function p(){y||(V=!1,E=t(i),y=n(se).attr({id:Y,class:t.support.opacity===!1?Z+"IE":"",role:"dialog",tabindex:"-1"}).hide(),v=n(se,"Overlay").hide(),S=t([n(se,"LoadingOverlay")[0],n(se,"LoadingGraphic")[0]]),x=n(se,"Wrapper"),b=n(se,"Content").append(F=n(se,"Title"),I=n(se,"Current"),P=t('<button type="button"/>').attr({id:Z+"Previous"}),K=t('<button type="button"/>').attr({id:Z+"Next"}),R=n("button","Slideshow"),S),B=t('<button type="button"/>').attr({id:Z+"Close"}),x.append(n(se).append(n(se,"TopLeft"),T=n(se,"TopCenter"),n(se,"TopRight")),n(se,!1,"clear:left").append(C=n(se,"MiddleLeft"),b,H=n(se,"MiddleRight")),n(se,!1,"clear:left").append(n(se,"BottomLeft"),k=n(se,"BottomCenter"),n(se,"BottomRight"))).find("div div").css({float:"left"}),M=n(se,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),O=K.add(P).add(I).add(R)),e.body&&!y.parent().length&&t(e.body).append(v,y.append(x,M))}function m(){function i(t){t.which>1||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey||(t.preventDefault(),f(this))}return y?(V||(V=!0,K.click(function(){J.next()}),P.click(function(){J.prev()}),B.click(function(){J.close()}),v.click(function(){_.get("overlayClose")&&J.close()}),t(e).bind("keydown."+Z,function(t){var e=t.keyCode;$&&_.get("escKey")&&27===e&&(t.preventDefault(),J.close()),$&&_.get("arrowKey")&&W[1]&&!t.altKey&&(37===e?(t.preventDefault(),P.click()):39===e&&(t.preventDefault(),K.click()))}),t.isFunction(t.fn.on)?t(e).on("click."+Z,"."+te,i):t("."+te).live("click."+Z,i)),!0):!1}function w(){var e,o,r,h=J.prep,d=++le;if(q=!0,U=!1,u(he),u(ie),_.get("onLoad"),_.h=_.get("height")?a(_.get("height"),"y")-A-D:_.get("innerHeight")&&a(_.get("innerHeight"),"y"),_.w=_.get("width")?a(_.get("width"),"x")-N-j:_.get("innerWidth")&&a(_.get("innerWidth"),"x"),_.mw=_.w,_.mh=_.h,_.get("maxWidth")&&(_.mw=a(_.get("maxWidth"),"x")-N-j,_.mw=_.w&&_.w<_.mw?_.w:_.mw),_.get("maxHeight")&&(_.mh=a(_.get("maxHeight"),"y")-A-D,_.mh=_.h&&_.h<_.mh?_.h:_.mh),e=_.get("href"),Q=setTimeout(function(){S.show()},100),_.get("inline")){var c=t(e);r=t("<div>").hide().insertBefore(c),ae.one(he,function(){r.replaceWith(c)}),h(c)}else _.get("iframe")?h(" "):_.get("html")?h(_.get("html")):s(_,e)?(e=l(_,e),U=new Image,t(U).addClass(Z+"Photo").bind("error",function(){h(n(se,"Error").html(_.get("imgError")))}).one("load",function(){d===le&&setTimeout(function(){var e;t.each(["alt","longdesc","aria-describedby"],function(e,i){var n=t(_.el).attr(i)||t(_.el).attr("data-"+i);n&&U.setAttribute(i,n)}),_.get("retinaImage")&&i.devicePixelRatio>1&&(U.height=U.height/i.devicePixelRatio,U.width=U.width/i.devicePixelRatio),_.get("scalePhotos")&&(o=function(){U.height-=U.height*e,U.width-=U.width*e},_.mw&&U.width>_.mw&&(e=(U.width-_.mw)/U.width,o()),_.mh&&U.height>_.mh&&(e=(U.height-_.mh)/U.height,o())),_.h&&(U.style.marginTop=Math.max(_.mh-U.height,0)/2+"px"),W[1]&&(_.get("loop")||W[z+1])&&(U.style.cursor="pointer",U.onclick=function(){J.next()}),U.style.width=U.width+"px",U.style.height=U.height+"px",h(U)},1)}),U.src=e):e&&M.load(e,_.get("data"),function(e,i){d===le&&h("error"===i?n(se,"Error").html(_.get("xhrError")):t(this).contents())})}var v,y,x,b,T,C,H,k,W,E,L,M,S,F,I,R,K,P,B,O,_,D,j,A,N,z,U,$,q,G,Q,J,V,X={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return t(this).attr("href")},title:function(){return this.title}},Y="colorbox",Z="cbox",te=Z+"Element",ee=Z+"_open",ie=Z+"_load",ne=Z+"_complete",oe=Z+"_cleanup",re=Z+"_closed",he=Z+"_purge",ae=t("<a/>"),se="div",le=0,de={},ce=function(){function t(){clearTimeout(h)}function e(){(_.get("loop")||W[z+1])&&(t(),h=setTimeout(J.next,_.get("slideshowSpeed")))}function i(){R.html(_.get("slideshowStop")).unbind(s).one(s,n),ae.bind(ne,e).bind(ie,t),y.removeClass(a+"off").addClass(a+"on")}function n(){t(),ae.unbind(ne,e).unbind(ie,t),R.html(_.get("slideshowStart")).unbind(s).one(s,function(){J.next(),i()}),y.removeClass(a+"on").addClass(a+"off")}function o(){r=!1,R.hide(),t(),ae.unbind(ne,e).unbind(ie,t),y.removeClass(a+"off "+a+"on")}var r,h,a=Z+"Slideshow_",s="click."+Z;return function(){r?_.get("slideshow")||(ae.unbind(oe,o),o()):_.get("slideshow")&&W[1]&&(r=!0,ae.one(oe,o),_.get("slideshowAuto")?i():n(),R.show())}}();t[Y]||(t(p),J=t.fn[Y]=t[Y]=function(e,i){var n,o=this;if(e=e||{},t.isFunction(o))o=t("<a/>"),e.open=!0;else if(!o[0])return o;return o[0]?(p(),m()&&(i&&(e.onComplete=i),o.each(function(){var i=t.data(this,Y)||{};t.data(this,Y,t.extend(i,e))}).addClass(te),n=new r(o[0],e),n.get("open")&&f(o[0])),o):o},J.position=function(e,i){function n(){T[0].style.width=k[0].style.width=b[0].style.width=parseInt(y[0].style.width,10)-j+"px",b[0].style.height=C[0].style.height=H[0].style.height=parseInt(y[0].style.height,10)-D+"px"}var r,h,s,l=0,d=0,c=y.offset();if(E.unbind("resize."+Z),y.css({top:-9e4,left:-9e4}),h=E.scrollTop(),s=E.scrollLeft(),_.get("fixed")?(c.top-=h,c.left-=s,y.css({position:"fixed"})):(l=h,d=s,y.css({position:"absolute"})),d+=_.get("right")!==!1?Math.max(E.width()-_.w-N-j-a(_.get("right"),"x"),0):_.get("left")!==!1?a(_.get("left"),"x"):Math.round(Math.max(E.width()-_.w-N-j,0)/2),l+=_.get("bottom")!==!1?Math.max(o()-_.h-A-D-a(_.get("bottom"),"y"),0):_.get("top")!==!1?a(_.get("top"),"y"):Math.round(Math.max(o()-_.h-A-D,0)/2),y.css({top:c.top,left:c.left,visibility:"visible"}),x[0].style.width=x[0].style.height="9999px",r={width:_.w+N+j,height:_.h+A+D,top:l,left:d},e){var g=0;t.each(r,function(t){return r[t]!==de[t]?(g=e,void 0):void 0}),e=g}de=r,e||y.css(r),y.dequeue().animate(r,{duration:e||0,complete:function(){n(),q=!1,x[0].style.width=_.w+N+j+"px",x[0].style.height=_.h+A+D+"px",_.get("reposition")&&setTimeout(function(){E.bind("resize."+Z,J.position)},1),t.isFunction(i)&&i()},step:n})},J.resize=function(t){var e;$&&(t=t||{},t.width&&(_.w=a(t.width,"x")-N-j),t.innerWidth&&(_.w=a(t.innerWidth,"x")),L.css({width:_.w}),t.height&&(_.h=a(t.height,"y")-A-D),t.innerHeight&&(_.h=a(t.innerHeight,"y")),t.innerHeight||t.height||(e=L.scrollTop(),L.css({height:"auto"}),_.h=L.height()),L.css({height:_.h}),e&&L.scrollTop(e),J.position("none"===_.get("transition")?0:_.get("speed")))},J.prep=function(i){function o(){return _.w=_.w||L.width(),_.w=_.mw&&_.mw<_.w?_.mw:_.w,_.w}function a(){return _.h=_.h||L.height(),_.h=_.mh&&_.mh<_.h?_.mh:_.h,_.h}if($){var d,g="none"===_.get("transition")?0:_.get("speed");L.remove(),L=n(se,"LoadedContent").append(i),L.hide().appendTo(M.show()).css({width:o(),overflow:_.get("scrolling")?"auto":"hidden"}).css({height:a()}).prependTo(b),M.hide(),t(U).css({float:"none"}),c(_.get("className")),d=function(){function i(){t.support.opacity===!1&&y[0].style.removeAttribute("filter")}var n,o,a=W.length;$&&(o=function(){clearTimeout(Q),S.hide(),u(ne),_.get("onComplete")},F.html(_.get("title")).show(),L.show(),a>1?("string"==typeof _.get("current")&&I.html(_.get("current").replace("{current}",z+1).replace("{total}",a)).show(),K[_.get("loop")||a-1>z?"show":"hide"]().html(_.get("next")),P[_.get("loop")||z?"show":"hide"]().html(_.get("previous")),ce(),_.get("preloading")&&t.each([h(-1),h(1)],function(){var i,n=W[this],o=new r(n,t.data(n,Y)),h=o.get("href");h&&s(o,h)&&(h=l(o,h),i=e.createElement("img"),i.src=h)})):O.hide(),_.get("iframe")?(n=e.createElement("iframe"),"frameBorder"in n&&(n.frameBorder=0),"allowTransparency"in n&&(n.allowTransparency="true"),_.get("scrolling")||(n.scrolling="no"),t(n).attr({src:_.get("href"),name:(new Date).getTime(),class:Z+"Iframe",allowFullScreen:!0}).one("load",o).appendTo(L),ae.one(he,function(){n.src="//about:blank"}),_.get("fastIframe")&&t(n).trigger("load")):o(),"fade"===_.get("transition")?y.fadeTo(g,1,i):i())},"fade"===_.get("transition")?y.fadeTo(g,0,function(){J.position(0,d)}):J.position(g,d)}},J.next=function(){!q&&W[1]&&(_.get("loop")||W[z+1])&&(z=h(1),f(W[z]))},J.prev=function(){!q&&W[1]&&(_.get("loop")||z)&&(z=h(-1),f(W[z]))},J.close=function(){$&&!G&&(G=!0,$=!1,u(oe),_.get("onCleanup"),E.unbind("."+Z),v.fadeTo(_.get("fadeOut")||0,0),y.stop().fadeTo(_.get("fadeOut")||0,0,function(){y.hide(),v.hide(),u(he),L.remove(),setTimeout(function(){G=!1,u(re),_.get("onClosed")},1)}))},J.remove=function(){y&&(y.stop(),t[Y].close(),y.stop(!1,!0).remove(),v.remove(),G=!1,y=null,t("."+te).removeData(Y).removeClass(te),t(e).unbind("click."+Z).unbind("keydown."+Z))},J.element=function(){return t(_.el)},J.settings=X)})(jQuery,document,window)}},{}],38:[function(require,module,exports){RegExp.escape=function(r){return r.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")};exports=module.exports=function(jQuery){"use strict";var p;(p="undefined"!=typeof jQuery&&jQuery?jQuery:{}).csv={defaults:{separator:",",delimiter:'"',headers:!0},hooks:{castToScalar:function(r,e){if(isNaN(r))return r;if(/\./.test(r))return parseFloat(r);var a=parseInt(r);return isNaN(a)?null:a}},parsers:{parse:function(r,e){var a=e.separator,t=e.delimiter;e.state.rowNum||(e.state.rowNum=1),e.state.colNum||(e.state.colNum=1);var o=[],s=[],n=0,i="",l=!1;function u(){if(n=0,i="",e.start&&e.state.rowNum<e.start)return s=[],e.state.rowNum++,void(e.state.colNum=1);if(void 0===e.onParseEntry)o.push(s);else{var r=e.onParseEntry(s,e.state);!1!==r&&o.push(r)}s=[],e.end&&e.state.rowNum>=e.end&&(l=!0),e.state.rowNum++,e.state.colNum=1}function c(){if(void 0===e.onParseValue)s.push(i);else if(e.headers&&1===e.state.rowNum)s.push(i);else{var r=e.onParseValue(i,e.state);!1!==r&&s.push(r)}i="",n=0,e.state.colNum++}var f=RegExp.escape(a),d=RegExp.escape(t),m=/(D|S|\r\n|\n|\r|[^DS\r\n]+)/,p=m.source;return p=(p=p.replace(/S/g,f)).replace(/D/g,d),m=new RegExp(p,"gm"),r.replace(m,function(r){if(!l)switch(n){case 0:if(r===a){i+="",c();break}if(r===t){n=1;break}if(/^(\r\n|\n|\r)$/.test(r)){c(),u();break}i+=r,n=3;break;case 1:if(r===t){n=2;break}i+=r,n=1;break;case 2:if(r===t){i+=r,n=1;break}if(r===a){c();break}if(/^(\r\n|\n|\r)$/.test(r)){c(),u();break}throw Error("CSVDataError: Illegal State [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");case 3:if(r===a){c();break}if(/^(\r\n|\n|\r)$/.test(r)){c(),u();break}if(r===t)throw Error("CSVDataError: Illegal Quote [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");throw Error("CSVDataError: Illegal Data [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");default:throw Error("CSVDataError: Unknown State [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]")}}),0!==s.length&&(c(),u()),o},splitLines:function(r,a){if(r){var t=(a=a||{}).separator||p.csv.defaults.separator,o=a.delimiter||p.csv.defaults.delimiter;a.state=a.state||{},a.state.rowNum||(a.state.rowNum=1);var e=[],s=0,n="",i=!1,l=RegExp.escape(t),u=RegExp.escape(o),c=/(D|S|\n|\r|[^DS\r\n]+)/,f=c.source;return f=(f=f.replace(/S/g,l)).replace(/D/g,u),c=new RegExp(f,"gm"),r.replace(c,function(r){if(!i)switch(s){case 0:if(r===t){n+=r,s=0;break}if(r===o){n+=r,s=1;break}if("\n"===r){d();break}if(/^\r$/.test(r))break;n+=r,s=3;break;case 1:if(r===o){n+=r,s=2;break}n+=r,s=1;break;case 2:var e=n.substr(n.length-1);if(r===o&&e===o){n+=r,s=1;break}if(r===t){n+=r,s=0;break}if("\n"===r){d();break}if("\r"===r)break;throw Error("CSVDataError: Illegal state [Row:"+a.state.rowNum+"]");case 3:if(r===t){n+=r,s=0;break}if("\n"===r){d();break}if("\r"===r)break;if(r===o)throw Error("CSVDataError: Illegal quote [Row:"+a.state.rowNum+"]");throw Error("CSVDataError: Illegal state [Row:"+a.state.rowNum+"]");default:throw Error("CSVDataError: Unknown state [Row:"+a.state.rowNum+"]")}}),""!==n&&d(),e}function d(){if(s=0,a.start&&a.state.rowNum<a.start)return n="",void a.state.rowNum++;if(void 0===a.onParseEntry)e.push(n);else{var r=a.onParseEntry(n,a.state);!1!==r&&e.push(r)}n="",a.end&&a.state.rowNum>=a.end&&(i=!0),a.state.rowNum++}},parseEntry:function(r,e){var a=e.separator,t=e.delimiter;e.state.rowNum||(e.state.rowNum=1),e.state.colNum||(e.state.colNum=1);var o=[],s=0,n="";function i(){if(void 0===e.onParseValue)o.push(n);else{var r=e.onParseValue(n,e.state);!1!==r&&o.push(r)}n="",s=0,e.state.colNum++}if(!e.match){var l=RegExp.escape(a),u=RegExp.escape(t),c=/(D|S|\n|\r|[^DS\r\n]+)/.source;c=(c=c.replace(/S/g,l)).replace(/D/g,u),e.match=new RegExp(c,"gm")}return r.replace(e.match,function(r){switch(s){case 0:if(r===a){n+="",i();break}if(r===t){s=1;break}if("\n"===r||"\r"===r)break;n+=r,s=3;break;case 1:if(r===t){s=2;break}n+=r,s=1;break;case 2:if(r===t){n+=r,s=1;break}if(r===a){i();break}if("\n"===r||"\r"===r)break;throw Error("CSVDataError: Illegal State [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");case 3:if(r===a){i();break}if("\n"===r||"\r"===r)break;if(r===t)throw Error("CSVDataError: Illegal Quote [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");throw Error("CSVDataError: Illegal Data [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");default:throw Error("CSVDataError: Unknown State [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]")}}),i(),o}},helpers:{collectPropertyNames:function(r){var e=[],a=[],t=[];for(e in r)for(a in r[e])r[e].hasOwnProperty(a)&&t.indexOf(a)<0&&"function"!=typeof r[e][a]&&t.push(a);return t}},toArray:function(r,e,a){if(void 0!==e&&"function"==typeof e){if(void 0!==a)return console.error("You cannot 3 arguments with the 2nd argument being a function");a=e,e={}}e=void 0!==e?e:{};var t={};t.callback=void 0!==a&&"function"==typeof a&&a,t.separator="separator"in e?e.separator:p.csv.defaults.separator,t.delimiter="delimiter"in e?e.delimiter:p.csv.defaults.delimiter;var o=void 0!==e.state?e.state:{};e={delimiter:t.delimiter,separator:t.separator,onParseEntry:e.onParseEntry,onParseValue:e.onParseValue,state:o};var s=p.csv.parsers.parseEntry(r,e);if(!t.callback)return s;t.callback("",s)},toArrays:function(r,e,a){if(void 0!==e&&"function"==typeof e){if(void 0!==a)return console.error("You cannot 3 arguments with the 2nd argument being a function");a=e,e={}}e=void 0!==e?e:{};var t={};t.callback=void 0!==a&&"function"==typeof a&&a,t.separator="separator"in e?e.separator:p.csv.defaults.separator,t.delimiter="delimiter"in e?e.delimiter:p.csv.defaults.delimiter;var o=[];if(void 0!==(e={delimiter:t.delimiter,separator:t.separator,onPreParse:e.onPreParse,onParseEntry:e.onParseEntry,onParseValue:e.onParseValue,onPostParse:e.onPostParse,start:e.start,end:e.end,state:{rowNum:1,colNum:1}}).onPreParse&&(r=e.onPreParse(r,e.state)),o=p.csv.parsers.parse(r,e),void 0!==e.onPostParse&&(o=e.onPostParse(o,e.state)),!t.callback)return o;t.callback("",o)},toObjects:function(r,e,a){if(void 0!==e&&"function"==typeof e){if(void 0!==a)return console.error("You cannot 3 arguments with the 2nd argument being a function");a=e,e={}}e=void 0!==e?e:{};var t={};t.callback=void 0!==a&&"function"==typeof a&&a,t.separator="separator"in e?e.separator:p.csv.defaults.separator,t.delimiter="delimiter"in e?e.delimiter:p.csv.defaults.delimiter,t.headers="headers"in e?e.headers:p.csv.defaults.headers,e.start="start"in e?e.start:1,t.headers&&e.start++,e.end&&t.headers&&e.end++;var o,s=[];e={delimiter:t.delimiter,separator:t.separator,onPreParse:e.onPreParse,onParseEntry:e.onParseEntry,onParseValue:e.onParseValue,onPostParse:e.onPostParse,start:e.start,end:e.end,state:{rowNum:1,colNum:1},match:!1,transform:e.transform};var n={delimiter:t.delimiter,separator:t.separator,start:1,end:1,state:{rowNum:1,colNum:1},headers:!0};void 0!==e.onPreParse&&(r=e.onPreParse(r,e.state));var i=p.csv.parsers.splitLines(r,n),l=p.csv.toArray(i[0],n);o=p.csv.parsers.splitLines(r,e),e.state.colNum=1,e.state.rowNum=l?2:1;for(var u=0,c=o.length;u<c;u++){for(var f=p.csv.toArray(o[u],e),d={},m=0;m<l.length;m++)d[l[m]]=f[m];void 0!==e.transform?s.push(e.transform.call(void 0,d)):s.push(d),e.state.rowNum++}if(void 0!==e.onPostParse&&(s=e.onPostParse(s,e.state)),!t.callback)return s;t.callback("",s)},fromArrays:function(r,e,a){if(void 0!==e&&"function"==typeof e){if(void 0!==a)return console.error("You cannot 3 arguments with the 2nd argument being a function");a=e,e={}}e=void 0!==e?e:{};var t={};t.callback=void 0!==a&&"function"==typeof a&&a,t.separator="separator"in e?e.separator:p.csv.defaults.separator,t.delimiter="delimiter"in e?e.delimiter:p.csv.defaults.delimiter;var o,s,n,i,l="";for(n=0;n<r.length;n++){for(o=r[n],s=[],i=0;i<o.length;i++){var u=void 0===o[i]||null===o[i]?"":o[i].toString();-1<u.indexOf(t.delimiter)&&(u=u.replace(new RegExp(t.delimiter,"g"),t.delimiter+t.delimiter));var c="\n|\r|S|D";c=(c=c.replace("S",t.separator)).replace("D",t.delimiter),-1<u.search(c)&&(u=t.delimiter+u+t.delimiter),s.push(u)}l+=s.join(t.separator)+"\n"}if(!t.callback)return l;t.callback("",l)},fromObjects:function(r,e,a){if(void 0!==e&&"function"==typeof e){if(void 0!==a)return console.error("You cannot 3 arguments with the 2nd argument being a function");a=e,e={}}e=void 0!==e?e:{};var t={};if(t.callback=void 0!==a&&"function"==typeof a&&a,t.separator="separator"in e?e.separator:p.csv.defaults.separator,t.delimiter="delimiter"in e?e.delimiter:p.csv.defaults.delimiter,t.headers="headers"in e?e.headers:p.csv.defaults.headers,t.sortOrder="sortOrder"in e?e.sortOrder:"declare",t.manualOrder="manualOrder"in e?e.manualOrder:[],t.transform=e.transform,"string"==typeof t.manualOrder&&(t.manualOrder=p.csv.toArray(t.manualOrder,t)),void 0!==t.transform){var o,s=r;for(r=[],o=0;o<s.length;o++)r.push(t.transform.call(void 0,s[o]))}var n,i,l=p.csv.helpers.collectPropertyNames(r);if("alpha"===t.sortOrder&&l.sort(),0<t.manualOrder.length){var u,c=[].concat(t.manualOrder);for(u=0;u<l.length;u++)c.indexOf(l[u])<0&&c.push(l[u]);l=c}var f,d=[];for(t.headers&&d.push(l),n=0;n<r.length;n++){for(i=[],u=0;u<l.length;u++)(f=l[u])in r[n]&&"function"!=typeof r[n][f]?i.push(r[n][f]):i.push("");d.push(i)}return p.csv.fromArrays(d,e,t.callback)}},p.csvEntry2Array=p.csv.toArray,p.csv2Array=p.csv.toArrays,p.csv2Dictionary=p.csv.toObjects,"undefined"!=typeof module&&module.exports&&(module.exports=p.csv)}},{}],39:[function(require,module,exports){module.exports=exports='<div class="xdialogblock jsHarmonyElement jsHarmonyElement_<%=jsh._instanceClass%> <%=jsh._dialogBaseClass%>" style="display:none;">\r\n<div class="xdialogloadingblock xloadingcontainer" style="display:none;"><div><div class="xloadingbox">Loading<br/><img src="<%=jsh._PUBLICURL%>images/loading.gif" alt="Loading" title="Loading" /></div></div></div>\r\n<div class="xdialogbox xalertbox base"><div class="xalertmessage"></div><div align="center"><input type="button" value="OK" class="button_ok" /></div></div>\r\n<div class="xdialogbox xconfirmbox base"><div class="xconfirmmessage"></div><div align="center"><input type="button" value="OK" class="button_ok" style="margin-right:15px;" /> <input type="button" value="No" class="button_no" style="margin-right:15px;" /> <input type="button" value="Cancel" class="button_cancel" /></div></div>\r\n<div class="xdialogbox xpromptbox base"><div class="xpromptmessage"></div><div align="right"><input class="xpromptfield" type="text"><br/><input type="button" value="OK" class="button_ok" style="margin-right:15px;" /> <input type="button" value="Cancel" class="button_cancel" /></div></div>\r\n<div class="xdialogbox xtextzoombox base"><div class="xtextzoommessage"></div><div align="right"><textarea autocomplete="off" class="xtextzoomfield"></textarea><input type="button" value="OK" class="button_ok" style="margin-right:15px;" /> <input type="button" value="Cancel" class="button_cancel" /></div></div>\r\n<div class="xdialogbox xhintsbox base">\r\n  <div class="xhintsmessage"></div>\r\n  <div align="right">\r\n    <div class="xhints_listing"></div>\r\n    <input type="button" value="Insert" class="button_ok" style="margin-right:15px;" />\r\n    <input type="button" value="Cancel" class="button_cancel" />\r\n  </div>\r\n  <script type="text/x-ejs-template" class="xhints_rowtemplate">\r\n    <div class="xhints_row">\r\n      <label>\r\n      <input type="checkbox">\r\n      <span></span>\r\n      </label>\r\n    </div>\r\n  <\/script>\r\n</div>\r\n</div>\r\n<div class="xdebuginfo jsHarmonyElement jsHarmonyElement_<%=jsh._instanceClass%> <%=jsh._dialogBaseClass%>" style="display:none;"></div>\r\n<div class="xdebugconsole jsHarmonyElement jsHarmonyElement_<%=jsh._instanceClass%> <%=jsh._dialogBaseClass%>" style="display:none;">\r\n  <div class="debug-panel">\r\n    <div class="resizer res-ew"></div>\r\n    <div class="resizer res-ns"></div>\r\n    <header>Debug Console\r\n      <div class="controls">\r\n        <i class="material-icons" data-action="toggleSettings" title="Settings">&#xe8b8;</i>\r\n        <i class="material-icons dockRight" data-action="dockRight" title="Dock to the Right">&#xe31c;</i>\r\n        <i class="material-icons dockBottom" data-action="dockBottom" title="Dock to the Bottom">&#xe258;</i>\r\n        <i class="material-icons" data-action="minimizeWindow" title="Minimize">&#xe313;</i>\r\n        <i class="material-icons" data-action="close" title="Close">&#xe5cd;</i>\r\n      </div>\r\n    </header>\r\n    <div class="debug-settings"></div>\r\n    <div class="xdebuginfo-body"></div>\r\n  </div>\r\n  <div class="debug-panel-minimized" style="display: none;">\r\n    <div class="controls"><i class="material-icons" data-action="expandWindow">&#xe895;</i></div>\r\n  </div>\r\n</div>\r\n<div class="xloadingblock jsHarmonyElement jsHarmonyElement_<%=jsh._instanceClass%> <%=jsh._dialogBaseClass%>" style="display:none;"><div><div class="xloadingbox">Loading<br/><img src="<%=jsh._PUBLICURL%>images/loading.gif" alt="Loading" title="Loading" /></div></div></div>\r\n'},{}]},{},[28]);
